<!DOCTYPE html>

<html lang="en">

<head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5593122079896089"></script>
    <meta charset="utf-8" />
    <title>Squashing</title>
    <meta content="In Git, you might accumulate multiple small commits over the course of developing a new feature, fixing small bugs, or refactoring code." name="description" />
    <meta content="Adam Djellouli" name="author" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/icon.ico" rel="icon" />
    <link href="../../resources/style.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
</head>

<body>
    <nav aria-label="Main navigation">
        <a class="logo" href="https://adamdjellouli.com">
            <img alt="Adam Djellouli - Home Page Logo" id="logo-image" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/logo.PNG" />
        </a>
        <input aria-label="Toggle navigation menu" id="navbar-toggle" type="checkbox" />
        <ul aria-labelledby="navbar-toggle" role="menu">
            <li role="menuitem">
                <a href="../../index.html" title="Go to Home Page"> Home </a>
            </li>
            <li role="menuitem">
                <a class="active" href="../../core/blog.html" title="Read Adam Djellouli Blog on Programming and Technology"> Blog </a>
            </li>
            <li role="menuitem">
                <a href="../../core/tools.html" title="Discover Tools Created by Adam Djellouli"> Tools </a>
            </li>
            <li role="menuitem">
                <a href="../../core/projects.html" title="Explore Projects Developed by Adam Djellouli"> Projects </a>
            </li>
            <li role="menuitem">
                <a href="../../core/resume.html" title="View Adam Djellouli Professional Resume"> Resume </a>
            </li>
            <li>
                <script async="" src="https://cse.google.com/cse.js?cx=8160ef9bb935f4f68"></script>
                <div class="gcse-search"></div>
            </li>
            <li>
                <button aria-label="Toggle dark mode" id="dark-mode-button"></button>
            </li>
        </ul>
    </nav>
    <div id="article-wrapper">
        <section id="article-body">
            <p style="text-align: right;"><i>Last modified: December 31, 2024</i></p>
            <p style="text-align: right;"><i>This article is written in: üá∫üá∏</i></p>
            <h2 id="squashing">Squashing</h2>
            <p>In Git, you might accumulate multiple small commits over the course of developing a new feature, fixing small bugs, or refactoring code. While these incremental commits are crucial during active development, they can clutter the project history in the long term. This clutter becomes especially evident when you merge your work into a primary branch like <code>main</code> or <code>master</code>.</p>
            <p><strong>Squashing</strong> is the process of compressing multiple commits into a single, consolidated commit. By doing so, you ensure that the branch‚Äôs history remains clean, succinct, and more understandable to collaborators who later need to review or track changes.</p>
            <p><strong>Key Advantages of Squashing</strong>:</p>
            <ul>
                <li><strong>Cleaner Project History</strong>: Fewer commits to scan through, making <code>git log</code> more readable.</li>
                <li><strong>Easier Code Review</strong>: Reviewers see one summarized set of changes rather than multiple incremental commits.</li>
                <li><strong>Less Noise</strong>: Minor fix-ups or revert commits get combined into a cohesive storyline of changes.</li>
                <li>
                    <p><strong>Potential Drawback</strong>:</p>
                </li>
                <li>
                    <p><strong>Loss of Granularity</strong>: You lose the step-by-step commit messages that might have had valuable context. </p>
                </li>
                <li><strong>History Rewriting</strong>: Squashing rewrites the Git commit history, so it can be disruptive in shared or public branches if teammates have already pulled or based their work on the original commits.</li>
            </ul>
            <h2 id="2-squashing-vs-merging">2. Squashing vs. Merging</h2>
            <p>Before diving into the mechanics of squashing, it is essential to distinguish it from a standard merge. Both operations can bring changes from one branch into another, but the outcomes differ significantly in terms of commit history.</p>
            <h3 id="2-1-merging">2.1 Merging</h3>
            <ul>
                <li><strong>Complete History Preservation</strong>: When you perform a standard merge (e.g., <code>git merge feature-branch</code>), Git incorporates all commits from the source branch into the target branch, preserving each individual commit. </li>
                <li><strong>Detailed Timeline</strong>: Anyone looking at the commit log will see exactly how the feature evolved, including small experimental changes or incremental bug fixes. </li>
                <li><strong>Simple and Transparent</strong>: Merging is straightforward to execute and is often the default approach in many Git workflows.</li>
            </ul>
            <h3 id="2-2-squashing">2.2 Squashing</h3>
            <ul>
                <li><strong>Condensed Commit</strong>: Squashing transforms a series of commits into one unified commit. </li>
                <li><strong>Streamlined Log</strong>: Instead of a cluttered commit history with fix-ups and partial changes, you have a single commit that represents the entire set of changes that were developed on a branch. </li>
                <li><strong>Ideal for Cleanup</strong>: Often used in open-source or large corporate projects to keep the main branch tidy and professional.</li>
            </ul>
            <p>In short, <strong>merging</strong> preserves detailed commit-by-commit progress, while <strong>squashing</strong> condenses all those commits into a single ‚Äúfinal‚Äù commit that captures the end result.</p>
            <h2 id="3-how-to-squash-the-last-n-commits">3. How to Squash the Last N Commits</h2>
            <h3 id="3-1-using-interactive-rebase">3.1 Using Interactive Rebase</h3>
            <p>The <strong>interactive rebase</strong> workflow is the most common and flexible method for squashing commits. It allows you to selectively rewrite commit history, adjust commit messages, reorder commits, and squash any subset of commits.</p>
            <p>I. <strong>Identify the Number of Commits</strong>: Determine how many commits you want to squash. For example, if you have 4 commits in your current feature branch that you want to combine into 1 commit, note that number (N = 4).</p>
            <p>II. <strong>Run Interactive Rebase</strong>:</p>
            <p>CODE_BLOCK_PLACEHOLDER
                Replace <strong>N</strong> with the number of commits you want to rewrite. If you wanted to squash the last 4 commits, you‚Äôd use <code>git rebase -i HEAD~4</code>.</p>
            <p>III. <strong>Modify the Rebase To-Do List</strong>:<br />
                Your default text editor will open, showing something like:</p>
            <p>CODE_BLOCK_PLACEHOLDER
                - Change <code>pick</code> to <code>squash</code> (or <code>s</code> for short) for the commits you want to squash <strong>into</strong> the commit above it.
                - If you want to end up with just <strong>one</strong> commit, you typically mark the first commit as <code>pick</code> and the rest as <code>squash</code>.
                <strong>Example</strong>:
            </p>
            <p>CODE_BLOCK_PLACEHOLDER
                IV. <strong>Save and Close the Editor</strong>:<br />
                After you close the editor, Git will apply your rebase instructions. It will then open another editor window to let you customize the final combined commit message. </p>
            <p><strong>Tip</strong>: Use this opportunity to write a clear and descriptive commit message that summarizes all the changes you‚Äôve squashed together.</p>
            <p>V. <strong>Complete the Rebase</strong>:<br />
                Once you save the final combined commit message, Git finishes the rebase. You can run:</p>
            <p>CODE_BLOCK_PLACEHOLDER
                to verify that you now have a single commit in place of the previous multiple commits.</p>
            <h3 id="3-2-alternative-reset-merge-squash">3.2 Alternative: Reset + Merge Squash</h3>
            <p>If you prefer not to use an interactive rebase, or you want a more manual approach:</p>
            <p>I. <strong>Reset to a Previous Commit</strong>:</p>
            <p>CODE_BLOCK_PLACEHOLDER
                This moves your branch pointer back by <strong>N</strong> commits, effectively discarding the last N commits from the branch tip (but they‚Äôre still in Git‚Äôs reflog for a while).</p>
            <p>II. <strong>Merge with the <code>--squash</code> Option</strong>:</p>
            <p>
            <div>
                <pre><code class="language-bash">git rebase -i HEAD~N</code></pre>
            </div>
            </p>
            <p><code>HEAD@{1}</code> references the commit your branch pointed to before the reset. The <code>--squash</code> option collects all the changes introduced in those commits without creating individual commits for each.</p>
            <p>III. <strong>Commit the Squashed Changes</strong>:</p>
            <p>CODE_BLOCK_PLACEHOLDER
                Now you have a single commit that represents all the changes from the last N commits.</p>
            <h2 id="4-dealing-with-remote-repositories">4. Dealing with Remote Repositories</h2>
            <h3 id="4-1-when-to-force-push">4.1 When to Force Push</h3>
            <p>If the commits you have squashed were already <strong>pushed</strong> to a remote repository, you will need to <strong>force push</strong> your rewritten history:</p>
            <p>
            <div>
                <pre><code class="language-shell">pick a1b2c3d4 First commit message
   pick e5f6g7h8 Second commit message
   pick i9j0k1l2 Third commit message
   pick m3n4o5p6 Fourth commit message</code></pre>
            </div>
            </p>
            <p>Force pushing effectively replaces the remote branch with your local branch‚Äôs new commit structure. This can cause major confusion for anyone who has already pulled those original commits. They may encounter merge conflicts or will need to rebase their work.</p>
            <p><strong>Therefore</strong>, always coordinate with your team or ensure that no one else depends on the commit history you are about to rewrite. It might be safer to create a new branch that contains your squashed commit, then open a pull request from that branch, so you don‚Äôt disrupt existing references on the remote repository.</p>
            <h2 id="5-best-practices-and-warnings">5. Best Practices and Warnings</h2>
            <p>I. <strong>Avoid Squashing on Shared or Public Branches</strong> </p>
            <p>Once a branch is in use by multiple collaborators, rewriting its history can lead to conflicts and confusion. Squash your commits on personal feature branches or on branches that are clearly marked as ‚Äúunder development.‚Äù</p>
            <p>II. <strong>Provide Meaningful Squash Commit Messages</strong> </p>
            <p>Since your new commit message is now the single source of documentation for multiple changes, put extra effort into writing a clear, descriptive summary of what changed and why.</p>
            <p>III. <strong>Use Squash Merges in Pull Requests</strong> </p>
            <p>Many code hosting platforms like GitHub, GitLab, and Bitbucket offer a ‚ÄúSquash and Merge‚Äù button. This automatically squashes all commits from a pull/merge request into one commit, preserving the clean main-branch history without manual rebase steps.</p>
            <p>IV. <strong>Check Local Testing Before Force Pushing</strong> </p>
            <p>After squashing, ensure your project still builds and all tests pass locally. The squashing itself shouldn‚Äôt break code, but always confirm to avoid introducing subtle errors or regressions.</p>
            <p>V. <strong>Communicate with Your Team</strong> </p>
            <p>If you do need to force push, post a heads-up in your team‚Äôs communication channel, or coordinate a short time window for rewriting history so that no one else is pushing or pulling on that branch.</p>
            <h2 id="6-visualizing-squashing-with-an-example">6. Visualizing Squashing with an Example</h2>
            <p>Before Squashing:</p>
            <p>
            <div>
                <pre><code class="language-shell">pick a1b2c3d4 First commit message
   squash e5f6g7h8 Second commit message
   squash i9j0k1l2 Third commit message
   squash m3n4o5p6 Fourth commit message</code></pre>
            </div>
            </p>
            <p>The <code>feature</code> branch has four commits (D, E, F, G) that collectively represent the development of a single feature.</p>
            <p>After Squashing:</p>
            <p>
            <div>
                <pre><code class="language-bash">git log</code></pre>
            </div>
            </p>
            <ul>
                <li>Commits D, E, F, and G are now replaced by a single commit H. </li>
                <li>The resulting commit message for H should outline what was done in the entire feature.</li>
            </ul>
        </section>
        <div id="table-of-contents">
            <h2>Table of Contents</h2>
            <ol>
                <li><a href="#squashing">Squashing</a></li>
                <li><a href="#2-squashing-vs-merging">2. Squashing vs. Merging</a>
                    <ol>
                        <li><a href="#2-1-merging">2.1 Merging</a></li>
                        <li><a href="#2-2-squashing">2.2 Squashing</a></li>
                    </ol>
                </li>
                <li><a href="#3-how-to-squash-the-last-n-commits">3. How to Squash the Last N Commits</a>
                    <ol>
                        <li><a href="#3-1-using-interactive-rebase">3.1 Using Interactive Rebase</a></li>
                        <li><a href="#3-2-alternative-reset-merge-squash">3.2 Alternative: Reset + Merge Squash</a></li>
                    </ol>
                </li>
                <li><a href="#4-dealing-with-remote-repositories">4. Dealing with Remote Repositories</a>
                    <ol>
                        <li><a href="#4-1-when-to-force-push">4.1 When to Force Push</a></li>
                    </ol>
                </li>
                <li><a href="#5-best-practices-and-warnings">5. Best Practices and Warnings</a></li>
                <li><a href="#6-visualizing-squashing-with-an-example">6. Visualizing Squashing with an Example</a></li>
            </ol>
            <div id="related-articles">
                <h2>Related Articles</h2>
                <ol>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/01_introduction_to_version_control.html">Introduction to Version Control</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/02_create_repository.html">Create Repository</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/03_making_changes.html">Making Changes</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/04_working_with_branches.html">Working with Branches</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/05_head.html">Head</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/06_tags.html">Tags</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/07_stashing_files.html">Stashing Files</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/08_observing_repository.html">Observing Repository</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/09_synchronization.html">Synchronization</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/10_squashing_commits.html">Squashing Commits</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/11_archive.html">Archive</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/12_git_server.html">Git Server</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/13_points_of_confusion.html">Points of Confusion</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/14_branching_strategies.html">Branching Strategies</a></li>
                    <li><a href="https://adamdjellouli.com/articles/git_notes/15_mono_and_multi_repo.html">Mono and Multi Repo</a></li>
                </ol>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer-columns">
            <div class="footer-column">
                <img alt="Adam Djellouli Symbol" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/symbol.png" />
            </div>
            <div class="footer-column">
                <h2><a href="https://adamdjellouli.com/core/privacy_policy.html" title="Privacy Policy">Our Privacy Policy</a></h2>
                <p>
                    Thank you for visiting my personal website. All of the <br />
                    content on this site is free to use, but please remember <br />
                    to be a good human being and refrain from any abuse<br />
                    of the site. If you would like to contact me, please use <br />
                    my <a href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" title="LinkedIn Profile">LinkedIn profile</a> or my <a href="https://github.com/djeada" title="GitHub Profile">GitHub</a> if you have any technical <br />
                    issues or ideas to share. I wish you the best and hope you <br />
                    have a fantastic life. <br />
                </p>
            </div>
            <div class="footer-column">
                <h2>Follow me</h2>
                <ul class="social-media">
                    <li>
                        <a class="fa fa-youtube" href="https://www.youtube.com/channel/UCGPoHTVjMN77wcGknXPHl1Q" target="_blank" title="YouTube">
                        </a>YouTube
                    </li>
                    <li>
                        <a class="fa fa-linkedin" href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" target="_blank" title="LinkedIn">
                        </a>LinkedIn
                    </li>
                    <li>
                        <a class="fa fa-instagram" href="https://www.instagram.com/linuxchallenges/" target="_blank" title="Instagram">
                        </a>Instagram
                    </li>
                    <li>
                        <a class="fa fa-github" href="https://github.com/djeada" title="GitHub">
                        </a>Github
                    </li>
                </ul>
            </div>
        </div>
        <div>
            <p id="copyright">
                ¬© Adam Djellouli. All rights reserved.
            </p>
        </div>
        <script>
            document.getElementById("copyright").innerHTML = "&copy; " + new Date().getFullYear() + " Adam Djellouli. All rights reserved.";
        </script>
        <script src="../../app.js"></script>
    </footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-cpp.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
extensions: ["tex2jax.js"],
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
tex2jax: { inlineMath: [ ["$", "$"] ], displayMath: [ ["$$","$$"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
messageStyle: "none"
});
</script>
<script async="" id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

</html>