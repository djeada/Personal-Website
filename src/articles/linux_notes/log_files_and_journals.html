<!DOCTYPE html>

<html lang="en">

<head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5593122079896089"></script>
    <meta charset="utf-8" />
    <title>Log Files, Journals, and Logging Systems</title>
    <meta content="Understanding how logging works in Linux is like learning the language your system uses to communicate." name="description" />
    <meta content="Adam Djellouli" name="author" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/icon.ico" rel="icon" />
    <link href="../../resources/style.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://adamdjellouli.com/articles/linux_notes/log_files_and_journals" rel="canonical" />
    <script id="structured-data" type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "Log Files, Journals, and Logging Systems",
            "author": {
                "@type": "Person",
                "name": "Adam Djellouli"
            },
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://adamdjellouli.com/articles/linux_notes/log_files_and_journals"
            },
            "url": "https://adamdjellouli.com/articles/linux_notes/log_files_and_journals",
            "description": "Understanding how logging works in Linux is like learning the language your system uses to communicate.",
            "dateModified": "2022-04-30"
        }
    </script>
</head>

<body>
    <nav aria-label="Main navigation">
        <a class="logo" href="../../index.html">
            <img alt="Adam Djellouli - Home Page Logo" id="logo-image" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/logo.PNG" />
        </a>
        <input aria-label="Toggle navigation menu" id="navbar-toggle" type="checkbox" />
        <ul aria-labelledby="navbar-toggle" role="menu">
            <li role="menuitem">
                <a href="../../index.html" title="Go to Home Page"> Home </a>
            </li>
            <li role="menuitem">
                <a href="../../core/blog.html" title="Read Adam Djellouli Blog on Programming and Technology"> Blog </a>
            </li>
            <li role="menuitem">
                <a href="../../core/tools.html" title="Discover Tools Created by Adam Djellouli"> Tools </a>
            </li>
            <li role="menuitem">
                <a href="../../core/projects.html" title="Explore Projects Developed by Adam Djellouli"> Projects </a>
            </li>
            <li role="menuitem">
                <a href="../../core/courses.html" title="Browse Courses by Adam Djellouli"> Courses </a>
            </li>
            <li role="menuitem">
                <a href="../../core/resume.html" title="View Adam Djellouli Professional Resume"> Resume </a>
            </li>
            <li>
                <script async="" src="https://cse.google.com/cse.js?cx=8160ef9bb935f4f68"></script>
                <div class="gcse-search"></div>
            </li>
            <li>
                <button aria-label="Toggle dark mode" id="dark-mode-button"></button>
            </li>
        </ul>
    </nav>
    <div id="article-wrapper"><article-section id="article-body">
            <div class="article-action-buttons"><button class="btn-suggest-edit" title="Suggest Edit">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M4 21h4l11-11-4-4L4 17v4z" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button><button class="btn-create-issue" title="Create Issue">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"></circle>
                        <line stroke="currentColor" stroke-width="2" x1="12" x2="12" y1="8" y2="12"></line>
                        <circle cx="12" cy="16" fill="currentColor" r="1"></circle>
                    </svg>
                </button><button class="btn-download" title="Download">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M12 5v14m0 0l-6-6m6 6l6-6" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button></div>
            <p style="text-align: right;"><i>Last modified: April 30, 2022</i></p>
            <p style="text-align: right;"><i>This article is written in: ðŸ‡ºðŸ‡¸</i></p>
            <h2 id="log-files-journals-and-logging-systems">Log Files, Journals, and Logging Systems</h2>
            <p>Understanding how logging works in Linux is like learning the language your system uses to communicate. Logs are the detailed records that your system keeps about its activities, and they are invaluable for troubleshooting, monitoring performance, and ensuring security. Let's embark on a journey to demystify log files, journals, and the various logging systems used in Linux.</p>
            <h3 id="what-is-a-log-">What is a log?</h3>
            <div>
                <pre><code class="language-+-----------------------------------------------------------+">| LOG FILE                                                  |
|-----------------------------------------------------------|
| TIMESTAMP        | SEVERITY  | SERVICE   | MESSAGE        |
|-----------------------------------------------------------|
| 2023-08-01 09:00 | INFO      | myapp     | Server started |
| 2023-08-01 09:01 | WARNING   | myapp     | High CPU usage |
| 2023-08-01 09:02 | ERROR     | myapp     | Server crashed |
+-----------------------------------------------------------+</code></pre>
            </div>
            <ul>
                <li>A log file is a structured record of events, typically generated by applications, systems, or network devices, capturing critical data for monitoring and troubleshooting purposes.</li>
                <li>Each log entry begins with a <strong>timestamp</strong>, which marks the exact date and time when a specific event occurred, allowing for precise tracking of system activities.</li>
                <li>The <strong>severity</strong> level of each event is included in the log to indicate its importance, ranging from informational messages (INFO) to warnings (WARNING) and critical errors (ERROR).</li>
                <li>Logs also specify the <strong>service</strong> or application that generated the event, helping to pinpoint which part of the system is involved, such as "myapp" in the example.</li>
                <li>The <strong>message</strong> section of a log entry provides a brief description of the event or issue, offering insights into what happened, such as "Server started," "High CPU usage," or "Server crashed."</li>
                <li>By reviewing log files, system administrators can identify potential issues, monitor system performance, and diagnose failures to maintain the overall health of the system.</li>
            </ul>
            <h3 id="why-logging-matters">Why Logging Matters</h3>
            <p>Imagine trying to fix a car without knowing what's wrong. Logs provide the clues needed to diagnose and fix issues. They record everything from system errors and warnings to user activities and application events. By analyzing logs, you can:</p>
            <ul>
                <li><strong>Identify and resolve system issues</strong> before they escalate.</li>
                <li><strong>Monitor system performance</strong> to optimize resources.</li>
                <li><strong>Ensure security compliance</strong> by tracking unauthorized access attempts.</li>
                <li><strong>Audit user activities</strong> for accountability.</li>
            </ul>
            <h3 id="the-landscape-of-linux-logging-methods">The Landscape of Linux Logging Methods</h3>
            <p>Linux offers several methods for logging, each with its own set of features suited to different needs. The primary logging methods include plain text log files, <code>journald</code>, and <code>rsyslog</code>.</p>
            <h4 id="plain-text-log-files">Plain Text Log Files</h4>
            <p>At the heart of Linux logging is the traditional plain text log file. These are simple text files where the system writes log messages. They're stored in the <code>/var/log</code> directory and are straightforward to read and parse.</p>
            <p><strong>Example of a Plain Text Log File (<code>/var/log/syslog</code>):</strong></p>
            <div>
                <pre><code class="language-shell">Aug  1 09:00:01 myhostname CRON[12345]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)
Aug  1 09:01:22 myhostname sshd[12346]: Accepted password for user from 192.168.1.100 port 54321 ssh2
Aug  1 09:02:33 myhostname sshd[12347]: Failed password for invalid user admin from 192.168.1.101 port 54322 ssh2</code></pre>
            </div>
            <p>In this snippet:</p>
            <ul>
                <li>Each line starts with a timestamp.</li>
                <li>It includes the hostname, process ID, and the log message.</li>
                <li>Messages range from routine tasks to security events.</li>
            </ul>
            <h4 id="journald-the-systemd-journal">Journald: The Systemd Journal</h4>
            <p>With the introduction of systemd, <code>journald</code> became the default logging system for many Linux distributions. It stores logs in a binary format, enabling more efficient storage and richer metadata.</p>
            <p><strong>Visual Representation of Journald Workflow:</strong></p>
            <div>
                <pre><code class="language-+--------------------------------+">|        systemd-journald        |
+---------------+----------------+
                |
                | Collects Logs from:
                |
+---------------+----------------+
|               |                |
|           Systemd Units        |
|          (Services, etc.)      |
|               |                |
|           Kernel Messages      |
|               |                |
|           Applications         |
|               |                |
+---------------+----------------+
                |
                v
+--------------------------------+
|          Journal Files         |
|   (/run/log/journal/ or        |
|     /var/log/journal/)         |
+--------------------------------+</code></pre>
            </div>
            <p><strong>Features of <code>journald</code></strong>:</p>
            <ul>
                <li>By using <strong>structured logging</strong>, logs can include enriched metadata like <strong>UID</strong>, <strong>GID</strong>, and system capabilities, making detailed filtering and analysis much easier.</li>
                <li>The <strong>binary format</strong> allows for <strong>efficient storage</strong> by supporting compression and indexing, which saves disk space and speeds up access to log data.</li>
                <li>Access controls can be applied to ensure <strong>security</strong>, protecting log files from unauthorized access and preserving their <strong>integrity</strong>.</li>
            </ul>
            <h4 id="rsyslog">Rsyslog</h4>
            <p>Rsyslog is a powerful logging system that extends the capabilities of traditional syslog. It supports various input and output modules, enabling complex log processing tasks.</p>
            <p><strong>Features of Rsyslog:</strong></p>
            <ul>
                <li>With <strong>high performance</strong> capabilities, it can manage extremely large volumes of log data, making it suitable for environments with heavy logging demands.</li>
                <li>The <strong>modular design</strong> supports various plugins, allowing users to extend functionality based on specific needs, such as different input/output formats.</li>
                <li><strong>Flexible configuration</strong> options enable content-based filtering and routing, making it easy to direct specific logs to designated locations based on their content.</li>
            </ul>
            <h3 id="exploring-common-system-log-files">Exploring Common System Log Files</h3>
            <p>Logs are typically stored in the <code>/var/log</code> directory. Let's explore some of the most important log files you should be familiar with.</p>
            <h4 id="-var-log-syslog"><code>/var/log/syslog</code></h4>
            <p>This is the primary log file where most system messages are recorded. It includes messages from the kernel, system services, and applications.</p>
            <p><strong>Viewing <code>/var/log/syslog</code>:</strong></p>
            <div>
                <pre><code class="language-bash">sudo tail /var/log/syslog</code></pre>
            </div>
            <p><strong>Sample Output:</strong></p>
            <div>
                <pre><code class="language-shell">Aug  1 10:15:42 myhostname NetworkManager[1234]: &lt;info&gt;  [1596274542.1234] device (eth0): state change: activated -&gt; deactivating
Aug  1 10:15:42 myhostname avahi-daemon[5678]: Withdrawing address record for 192.168.1.10 on eth0.
Aug  1 10:15:45 myhostname kernel: [12345.678901] eth0: Link is Down</code></pre>
            </div>
            <ul>
                <li><strong>NetworkManager messages</strong> indicate changes in network device states.</li>
                <li><strong>Avahi-daemon</strong> logs relate to network service announcements.</li>
                <li><strong>Kernel messages</strong> provide low-level hardware and driver information.</li>
            </ul>
            <h4 id="-var-log-auth-log"><code>/var/log/auth.log</code></h4>
            <p>This file records authentication-related events, such as logins and sudo usage.</p>
            <p><strong>Viewing Authentication Logs:</strong></p>
            <div>
                <pre><code class="language-bash">sudo grep "Failed password" /var/log/auth.log</code></pre>
            </div>
            <p><strong>Sample Output:</strong></p>
            <div>
                <pre><code class="language-shell">Aug  1 11:00:01 myhostname sshd[23456]: Failed password for invalid user admin from 192.168.1.101 port 54323 ssh2
Aug  1 11:05:12 myhostname sshd[23457]: Failed password for root from 192.168.1.102 port 54324 ssh2</code></pre>
            </div>
            <ul>
                <li><strong>Failed login attempts</strong> could indicate unauthorized access attempts.</li>
                <li><strong>IP addresses</strong> help identify the source of the attempts.</li>
                <li><strong>Usernames</strong> show which accounts are being targeted.</li>
            </ul>
            <h4 id="-var-log-kern-log"><code>/var/log/kern.log</code></h4>
            <p>Kernel logs contain messages from the Linux kernel, providing insights into hardware and system-level events.</p>
            <p><strong>Viewing Kernel Logs:</strong></p>
            <div>
                <pre><code class="language-bash">sudo tail /var/log/kern.log</code></pre>
            </div>
            <p><strong>Sample Output:</strong></p>
            <div>
                <pre><code class="language-shell">Aug  1 12:00:00 myhostname kernel: [13000.000000] CPU0: Temperature above threshold, cpu clock throttled
Aug  1 12:00:05 myhostname kernel: [13005.000000] CPU0: Temperature/speed normal</code></pre>
            </div>
            <ul>
                <li><strong>Temperature warnings</strong> indicate potential overheating issues.</li>
                <li><strong>Throttling messages</strong> show the system is taking action to prevent damage.</li>
            </ul>
            <h4 id="-var-log-dmesg"><code>/var/log/dmesg</code></h4>
            <p>The <code>dmesg</code> command outputs messages from the kernel ring buffer, which is especially useful for diagnosing hardware issues.</p>
            <p><strong>Running <code>dmesg</code>:</strong></p>
            <div>
                <pre><code class="language-bash">dmesg | less</code></pre>
            </div>
            <p><strong>Sample Output:</strong></p>
            <div>
                <pre><code class="language-shell">[    0.000000] Initializing cgroup subsys cpuset
[    0.000000] Linux version 5.8.0-43-generic (buildd@lgw01-amd64-052) (gcc (Ubuntu 10.2.0-13ubuntu1) 10.2.0) #49-Ubuntu SMP ...
[    0.000000] Command line: BOOT_IMAGE=/boot/vmlinuz-5.8.0-43-generic root=UUID=...
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD</code></pre>
            </div>
            <ul>
                <li><strong>Boot messages</strong> provide a detailed view of the system's initialization process, showing each step as the system starts up.</li>
                <li>During <strong>hardware detection</strong>, it lists detected components, including <strong>CPUs</strong>, <strong>memory</strong>, and connected devices, giving an overview of the system's physical resources.</li>
                <li>The <strong>command line</strong> displays boot parameters, indicating the specific options and configurations applied during the boot process.</li>
            </ul>
            <h3 id="delving-into-journald-and-journalctl">Delving into Journald and <code>journalctl</code></h3>
            <p><code>journalctl</code> is the command-line tool for accessing logs stored by <code>journald</code>. It provides powerful filtering and querying capabilities.</p>
            <h4 id="basic-usage-of-journalctl">Basic Usage of <code>journalctl</code></h4>
            <p><strong>Viewing All Logs:</strong></p>
            <div>
                <pre><code class="language-bash">journalctl</code></pre>
            </div>
            <p>This command displays all journal entries, starting from the oldest.</p>
            <p><strong>Viewing Recent Logs:</strong></p>
            <div>
                <pre><code class="language-bash">journalctl -n 50</code></pre>
            </div>
            <p>Shows the most recent 50 log entries.</p>
            <p><strong>Following Logs in Real-Time:</strong></p>
            <div>
                <pre><code class="language-bash">journalctl -f</code></pre>
            </div>
            <p>Similar to <code>tail -f</code>, it streams new log entries as they occur.</p>
            <h4 id="filtering-logs-with-journalctl">Filtering Logs with <code>journalctl</code></h4>
            <p>Filtering is where <code>journalctl</code> truly shines.</p>
            <p><strong>Filtering by Time Range:</strong></p>
            <div>
                <pre><code class="language-bash">journalctl --since "2023-08-01 08:00:00" --until "2023-08-01 12:00:00"</code></pre>
            </div>
            <p>The <code>--since</code> and <code>--until</code> options accept natural language inputs like "1 hour ago" or "yesterday".</p>
            <p><strong>Filtering by Unit (Service):</strong></p>
            <div>
                <pre><code class="language-bash">journalctl -u apache2.service</code></pre>
            </div>
            <p><strong>Sample Output:</strong></p>
            <div>
                <pre><code class="language-shell">Aug  1 09:00:00 myhostname systemd[1]: Starting The Apache HTTP Server...
Aug  1 09:00:01 myhostname apachectl[1234]: AH00558: apache2: Could not reliably determine the server's fully qualified domain name...
Aug  1 09:00:01 myhostname systemd[1]: Started The Apache HTTP Server.</code></pre>
            </div>
            <ul>
                <li><strong>Service Start Messages</strong> indicate when the service was started.</li>
                <li><strong>Warnings/Errors</strong> help diagnose configuration issues.</li>
            </ul>
            <h4 id="advanced-journalctl-usage">Advanced <code>journalctl</code> Usage</h4>
            <p><strong>Filtering by Priority Level:</strong></p>
            <div>
                <pre><code class="language-bash">journalctl -p err</code></pre>
            </div>
            <p>Shows logs with priority <code>err</code> (error) and higher (more severe).</p>
            <p><strong>Priority Levels:</strong></p>
            <p>
            <table>
                <tr>
                    <td>Level</td>
                    <td>Code</td>
                    <td>Description</td>
                </tr>
                <tr>
                    <td><code>emerg</code></td>
                    <td>0</td>
                    <td>System is unusable.</td>
                </tr>
                <tr>
                    <td><code>alert</code></td>
                    <td>1</td>
                    <td>Immediate action required.</td>
                </tr>
                <tr>
                    <td><code>crit</code></td>
                    <td>2</td>
                    <td>Critical conditions.</td>
                </tr>
                <tr>
                    <td><code>err</code></td>
                    <td>3</td>
                    <td>Error conditions.</td>
                </tr>
                <tr>
                    <td><code>warning</code></td>
                    <td>4</td>
                    <td>Warning conditions.</td>
                </tr>
                <tr>
                    <td><code>notice</code></td>
                    <td>5</td>
                    <td>Normal but significant.</td>
                </tr>
                <tr>
                    <td><code>info</code></td>
                    <td>6</td>
                    <td>Informational messages.</td>
                </tr>
                <tr>
                    <td><code>debug</code></td>
                    <td>7</td>
                    <td>Debug-level messages.</td>
                </tr>
            </table>
            </p>
            <p><strong>Example of Priority Filtering:</strong></p>
            <div>
                <pre><code class="language-bash">journalctl -p warning -u ssh.service</code></pre>
            </div>
            <p>Displays warnings and errors related to the SSH service.</p>
            <h4 id="persistent-journals">Persistent Journals</h4>
            <p>By default, <code>journald</code> stores logs in memory, which means logs are lost on reboot. To make logs persistent:</p>
            <p>I. Create Journal Directory:</p>
            <div>
                <pre><code class="language-bash">sudo mkdir -p /var/log/journal</code></pre>
            </div>
            <p>II. Set Permissions:</p>
            <div>
                <pre><code class="language-bash">sudo systemd-tmpfiles --create --prefix /var/log/journal</code></pre>
            </div>
            <p>III. Restart <code>systemd-journald</code>:</p>
            <div>
                <pre><code class="language-bash">sudo systemctl restart systemd-journald</code></pre>
            </div>
            <p>Now, logs are stored in <code>/var/log/journal</code> and persist across reboots.</p>
            <h3 id="mastering-rsyslog-for-log-management">Mastering Rsyslog for Log Management</h3>
            <p>Rsyslog offers extensive capabilities for collecting, processing, and forwarding log messages.</p>
            <h4 id="understanding-rsyslog-configuration">Understanding Rsyslog Configuration</h4>
            <p>Rsyslog configuration files are located at <code>/etc/rsyslog.conf</code> and in the <code>/etc/rsyslog.d/</code> directory.</p>
            <p><strong>Basic Rsyslog Syntax:</strong></p>
            <div>
                <pre><code class="language-shell">facility.priority    action</code></pre>
            </div>
            <p><strong>Facilities:</strong></p>
            <p>
            <table>
                <tr>
                    <td>Facility</td>
                    <td>Description</td>
                </tr>
                <tr>
                    <td><code>auth</code>, <code>authpriv</code></td>
                    <td>Authentication.</td>
                </tr>
                <tr>
                    <td><code>cron</code></td>
                    <td>Cron jobs.</td>
                </tr>
                <tr>
                    <td><code>daemon</code></td>
                    <td>System daemons.</td>
                </tr>
                <tr>
                    <td><code>kern</code></td>
                    <td>Kernel messages.</td>
                </tr>
                <tr>
                    <td><code>mail</code></td>
                    <td>Mail system.</td>
                </tr>
                <tr>
                    <td><code>syslog</code></td>
                    <td>Internal syslog messages.</td>
                </tr>
                <tr>
                    <td><code>local0</code> to <code>local7</code></td>
                    <td>Local use.</td>
                </tr>
            </table>
            </p>
            <p><strong>Priorities:</strong></p>
            <p>
            <table>
                <tr>
                    <td>Level</td>
                    <td>Description</td>
                </tr>
                <tr>
                    <td><code>emerg</code></td>
                    <td>Emergency</td>
                </tr>
                <tr>
                    <td><code>alert</code></td>
                    <td>Alert</td>
                </tr>
                <tr>
                    <td><code>crit</code></td>
                    <td>Critical</td>
                </tr>
                <tr>
                    <td><code>err</code></td>
                    <td>Error</td>
                </tr>
                <tr>
                    <td><code>warning</code></td>
                    <td>Warning</td>
                </tr>
                <tr>
                    <td><code>notice</code></td>
                    <td>Notice</td>
                </tr>
                <tr>
                    <td><code>info</code></td>
                    <td>Informational</td>
                </tr>
                <tr>
                    <td><code>debug</code></td>
                    <td>Debug</td>
                </tr>
            </table>
            </p>
            <p><strong>Example Configuration:</strong></p>
            <div>
                <pre><code class="language-bash"># Log all kernel messages to /var/log/kern.log
kern.*    /var/log/kern.log

# Log mail info messages to /var/log/mail.info
mail.info    /var/log/mail.info

# Log cron messages to /var/log/cron.log
cron.*    /var/log/cron.log</code></pre>
            </div>
            <h4 id="filtering-and-routing-logs">Filtering and Routing Logs</h4>
            <p>You can fine-tune which messages are logged where.</p>
            <p><strong>Example: Ignore Debug Messages for a Specific Facility:</strong></p>
            <div>
                <pre><code class="language-bash">daemon.none    /var/log/daemon.log</code></pre>
            </div>
            <p>This prevents debug messages from the <code>daemon</code> facility from being logged to <code>/var/log/daemon.log</code>.</p>
            <h3 id="setting-up-a-centralized-log-server-with-rsyslog">Setting Up a Centralized Log Server with Rsyslog</h3>
            <p>Centralized logging is crucial for managing logs in environments with multiple servers.</p>
            <h4 id="configuring-the-log-server">Configuring the Log Server</h4>
            <p>I. Enable UDP Reception:</p>
            <p>In <code>/etc/rsyslog.conf</code>, uncomment or add:</p>
            <div>
                <pre><code class="language-bash">module(load="imudp")
input(type="imudp" port="514")</code></pre>
            </div>
            <p>II. Enable TCP Reception (Optional):</p>
            <div>
                <pre><code class="language-bash">module(load="imtcp")
input(type="imtcp" port="514")</code></pre>
            </div>
            <p>III. Define Templates and Rules (Optional):</p>
            <p>To organize logs by host:</p>
            <div>
                <pre><code class="language-bash">template(name="RemoteLogs" type="string" string="/var/log/%HOSTNAME%/%PROGRAMNAME%.log")
*.* ?RemoteLogs</code></pre>
            </div>
            <p>IV. Restart Rsyslog:</p>
            <div>
                <pre><code class="language-bash">sudo systemctl restart rsyslog</code></pre>
            </div>
            <h4 id="configuring-client-machines">Configuring Client Machines</h4>
            <p>I. Edit <code>/etc/rsyslog.conf</code>:</p>
            <p>Add the following line at the end:</p>
            <div>
                <pre><code class="language-bash">* 514</code></pre>
            </div>
            <p>For TCP, use <code>@@</code> instead of <code>@</code>.</p>
            <p>II. Restart Rsyslog:</p>
            <div>
                <pre><code class="language-bash">sudo systemctl restart rsyslog</code></pre>
            </div>
            <h4 id="verifying-centralized-logging">Verifying Centralized Logging</h4>
            <p>On the log server, check if logs from clients are being received:</p>
            <div>
                <pre><code class="language-bash">ls /var/log/</code></pre>
            </div>
            <p>You should see directories or files corresponding to client hostnames.</p>
            <p><strong>Example Directory Structure:</strong></p>
            <div>
                <pre><code class="language-shell">/var/log/client1/
/var/log/client2/
/var/log/client3/</code></pre>
            </div>
            <h3 id="logger">Logger</h3>
            <p>The <code>logger</code> command is a shell utility used to add messages to the system log.</p>
            <h4 id="basic-usage">Basic Usage</h4>
            <p><strong>Sending a Simple Message:</strong></p>
            <div>
                <pre><code class="language-bash">logger "Backup completed successfully."</code></pre>
            </div>
            <p>This appends the message to <code>/var/log/syslog</code>.</p>
            <p><strong>Including Tags:</strong></p>
            <div>
                <pre><code class="language-bash">logger -t backup_script "Backup failed due to insufficient disk space."</code></pre>
            </div>
            <p>Adds a tag <code>[backup_script]</code> to the log entry for easy identification.</p>
            <h4 id="advanced-options">Advanced Options</h4>
            <p><strong>Specifying Facility and Priority:</strong></p>
            <div>
                <pre><code class="language-bash">logger -p local0.notice "Application started."</code></pre>
            </div>
            <p><strong>Sending to a Remote Syslog Server:</strong></p>
            <div>
                <pre><code class="language-bash">logger -n logserver_ip -P 514 "Remote log message from client."</code></pre>
            </div>
            <h4 id="incorporating-into-scripts">Incorporating into Scripts</h4>
            <p><strong>Example Backup Script with Logging:</strong></p>
            <div>
                <pre><code class="language-bash">#!/bin/bash

backup_dir="/backup"
source_dir="/data"

if rsync -av "$source_dir" "$backup_dir"; then
    logger -t backup_script -p local0.info "Backup completed successfully."
else
    logger -t backup_script -p local0.err "Backup failed!"
fi</code></pre>
            </div>
            <ul>
                <li>Uses <code>rsync</code> to perform the backup.</li>
                <li>Logs success or failure with appropriate severity.</li>
            </ul>
            <h3 id="managing-log-files-with-logrotate">Managing Log Files with Logrotate</h3>
            <p>Over time, log files can grow large, consuming significant disk space. <code>logrotate</code> automates the rotation, compression, and removal of log files.</p>
            <h4 id="understanding-configuration">Understanding Configuration</h4>
            <p>Configurations are stored in <code>/etc/logrotate.conf</code> and <code>/etc/logrotate.d/</code>.</p>
            <p><strong>Sample <code>logrotate</code> Configuration for <code>/var/log/syslog</code>:</strong></p>
            <div>
                <pre><code class="language-bash">/var/log/syslog
{
    rotate 7
    daily
    missingok
    notifempty
    delaycompress
    compress
    postrotate
        invoke-rc.d rsyslog rotate &gt; /dev/null
    endscript
}</code></pre>
            </div>
            <p><strong>Explanation:</strong></p>
            <p>
            <table>
                <tr>
                    <td>Directive</td>
                    <td>Description</td>
                </tr>
                <tr>
                    <td><code>rotate 7</code></td>
                    <td>Keeps 7 rotated logs.</td>
                </tr>
                <tr>
                    <td><code>daily</code></td>
                    <td>Rotates logs daily.</td>
                </tr>
                <tr>
                    <td><code>missingok</code></td>
                    <td>Doesn't report an error if the log file is missing.</td>
                </tr>
                <tr>
                    <td><code>notifempty</code></td>
                    <td>Doesn't rotate empty logs.</td>
                </tr>
                <tr>
                    <td><code>delaycompress</code></td>
                    <td>Delays compression until the next rotation.</td>
                </tr>
                <tr>
                    <td><code>compress</code></td>
                    <td>Compresses rotated logs.</td>
                </tr>
                <tr>
                    <td><code>postrotate</code></td>
                    <td>Runs commands after rotation.</td>
                </tr>
            </table>
            </p>
            <h4 id="forcing-log-rotation">Forcing Log Rotation</h4>
            <p>To manually force a log rotation:</p>
            <div>
                <pre><code class="language-bash">sudo logrotate -f /etc/logrotate.conf</code></pre>
            </div>
            <h4 id="verifying-log-rotation">Verifying Log Rotation</h4>
            <p>Check the rotated and compressed log files:</p>
            <div>
                <pre><code class="language-bash">ls /var/log/syslog*</code></pre>
            </div>
            <p>Expected Output:</p>
            <div>
                <pre><code class="language-shell">/var/log/syslog
/var/log/syslog.1.gz
/var/log/syslog.2.gz
/var/log/syslog.3.gz
...</code></pre>
            </div>
            <h3 id="practical-scenarios-and-applications">Practical Scenarios and Applications</h3>
            <p>Let's apply our knowledge to real-world situations.</p>
            <h4 id="scenario-1-detecting-unauthorized-ssh-attempts">Scenario 1: Detecting Unauthorized SSH Attempts</h4>
            <p><strong>Step 1: Analyze Authentication Logs</strong></p>
            <div>
                <pre><code class="language-bash">sudo grep "Failed password" /var/log/auth.log</code></pre>
            </div>
            <ul>
                <li>Identify IP addresses with multiple failed attempts.</li>
                <li>Determine if certain usernames are being targeted.</li>
            </ul>
            <p><strong>Step 2: Block Malicious IP Addresses</strong></p>
            <div>
                <pre><code class="language-bash">sudo iptables -A INPUT -s malicious_ip -j DROP</code></pre>
            </div>
            <p>Alternatively, install <code>fail2ban</code> to automate this process.</p>
            <p><strong>Step 3: Secure SSH Configuration</strong></p>
            <p>I. Change the Default SSH Port:</p>
            <p>Edit <code>/etc/ssh/sshd_config</code>:</p>
            <div>
                <pre><code class="language-bash">Port 2222</code></pre>
            </div>
            <p>II. Disable Root Login:</p>
            <div>
                <pre><code class="language-bash">PermitRootLogin no</code></pre>
            </div>
            <p>III. Use Public Key Authentication:</p>
            <div>
                <pre><code class="language-bash">PasswordAuthentication no</code></pre>
            </div>
            <p>IV. Restart SSH Service:</p>
            <div>
                <pre><code class="language-bash">sudo systemctl restart sshd</code></pre>
            </div>
            <h4 id="scenario-2-monitoring-disk-usage">Scenario 2: Monitoring Disk Usage</h4>
            <p><strong>Step 1: Check Disk Space with <code>df</code>:</strong></p>
            <div>
                <pre><code class="language-bash">df -h</code></pre>
            </div>
            <p><strong>Sample Output:</strong></p>
            <div>
                <pre><code class="language-shell">Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G   45G  5.0G  90% /</code></pre>
            </div>
            <p>The root filesystem is 90% full.</p>
            <p><strong>Step 2: Find Large Log Files</strong></p>
            <div>
                <pre><code class="language-bash">sudo du -sh /var/log/*</code></pre>
            </div>
            <p><strong>Sample Output:</strong></p>
            <div>
                <pre><code class="language-shell">1.2G    /var/log/apache2
500M    /var/log/mysql</code></pre>
            </div>
            <p><strong>Step 3: Rotate Logs Manually</strong></p>
            <p>If <code>logrotate</code> isn't configured properly, you might need to force rotation.</p>
            <div>
                <pre><code class="language-bash">sudo logrotate -f /etc/logrotate.d/apache2</code></pre>
            </div>
            <p><strong>Step 4: Remove Old Logs</strong></p>
            <div>
                <pre><code class="language-bash">sudo find /var/log -type f -name "*.gz" -mtime +30 -delete</code></pre>
            </div>
            <p>Deletes compressed log files older than 30 days.</p>
            <h3 id="best-practices">Best Practices</h3>
            <ul>
                <li>Regular log analysis should be automated using tools like <code>Logwatch</code> or <code>Splunk</code> to enhance efficiency and reduce manual oversight.</li>
                <li>It is important to set up alerts for critical events, which can be configured using tools such as <code>Nagios</code> or <code>Prometheus</code> to ensure rapid response to incidents.</li>
                <li>To secure log storage, access control should be enforced by restricting log file permissions to authorized personnel only, ensuring that sensitive data remains protected.</li>
                <li>Encrypting log data, especially during transmission over networks, is crucial for preventing unauthorized access and maintaining confidentiality.</li>
                <li>Implementing log retention policies is necessary to ensure compliance with legal requirements, especially for industries with strict data retention mandates.</li>
                <li>Proper disk space management is essential when storing logs, requiring a balance between keeping historical data for analysis and ensuring that storage resources are not overwhelmed.</li>
                <li>Centralized logging solutions offer significant advantages by simplifying log management across multiple servers, reducing complexity and improving oversight.</li>
                <li>Platforms like the ELK Stack (Elasticsearch, Logstash, Kibana) should be utilized to provide robust search capabilities and visualization tools for more effective log analysis.</li>
                <li>Regular reviews of logging configurations are necessary to ensure that the system is capturing all relevant data and that no important events are missed.</li>
                <li>Keeping logging software updated is vital for benefiting from the latest security patches and new features, reducing the risk of vulnerabilities in the system.</li>
            </ul>
            <h3 id="challenges">Challenges</h3>
            <ol>
                <li>Discuss the importance of logging in system administration, including its role in maintaining system health, identifying issues, and assisting with security auditing. Provide examples of how logging helps in daily administration tasks and long-term system monitoring.</li>
                <li>Research and describe Journald, its functions, and its advantages over traditional text-file-based logging systems. Explain how Journald works with systemd, highlighting features like binary storage, structured logging, and how it simplifies log management for modern systems.</li>
                <li>Explain how Rsyslog works and describe its configuration process, including how to set up centralized logging. Discuss severity levels, how they categorize log messages, and how they can be used to filter specific types of messages based on their importance or urgency.</li>
                <li>Use the <code>logger</code> command to create custom messages in the system logs. Experiment with different flags, such as specifying the facility or severity level, and explain how <code>logger</code> can be used to add entries manually or from within scripts for testing or informational purposes.</li>
                <li>Configure and use <code>logrotate</code> to automate log file management. Set up a basic configuration to rotate, compress, and delete log files on a schedule, and discuss how <code>logrotate</code> helps prevent logs from consuming excessive disk space. Explain the importance of log rotation in production systems.</li>
                <li>Research common log file formats, such as text-based, JSON, and binary formats, and compare their structures. Discuss the benefits and drawbacks of each format, considering factors like readability, compatibility with log analysis tools, and efficiency for storage and search.</li>
                <li>Set up and use log filters to selectively include or exclude specific log messages. Use either Rsyslog or Journald, and create a rule that filters messages based on criteria such as facility, severity level, or keywords. Document how filtering helps reduce noise in the logs and improves readability.</li>
                <li>Utilize log analysis tools like <code>grep</code>, <code>journalctl</code>, or <code>awk</code> to extract meaningful information from log files. Perform tasks such as searching for specific events, identifying patterns, and generating summary reports. Explain how log analysis helps administrators identify issues and monitor system health.</li>
                <li>Outline best practices for managing logs in a production environment. Discuss strategies for log retention, log security, and ensuring reliability and availability of log files. Include recommendations on how to securely store and transmit logs, especially for compliance purposes.</li>
                <li>If you delete an applicationâ€™s log file on a production server, could that cause the application to stop functioning?</li>
                <li>Describe common logging-related issues in a Linux environment, such as missing logs, log file corruption, or disk space running out due to log growth. Explain steps for diagnosing and resolving each problem, including strategies for recovering lost logs and freeing up space.</li>
            </ol>
        </article-section>
        <div id="table-of-contents">
            <h2>Table of Contents</h2>
            <ol><a href="#log-files-journals-and-logging-systems">Log Files, Journals, and Logging Systems</a>
                <ol>
                    <li><a href="#what-is-a-log-">What is a log?</a></li>
                    <li><a href="#why-logging-matters">Why Logging Matters</a></li>
                    <li><a href="#the-landscape-of-linux-logging-methods">The Landscape of Linux Logging Methods</a>
                        <ol>
                            <li><a href="#plain-text-log-files">Plain Text Log Files</a></li>
                            <li><a href="#journald-the-systemd-journal">Journald: The Systemd Journal</a></li>
                            <li><a href="#rsyslog">Rsyslog</a></li>
                        </ol>
                    </li>
                    <li><a href="#exploring-common-system-log-files">Exploring Common System Log Files</a>
                        <ol>
                            <li><a href="#-var-log-syslog">/var/log/syslog</a></li>
                            <li><a href="#-var-log-auth-log">/var/log/auth.log</a></li>
                            <li><a href="#-var-log-kern-log">/var/log/kern.log</a></li>
                            <li><a href="#-var-log-dmesg">/var/log/dmesg</a></li>
                        </ol>
                    </li>
                    <li><a href="#delving-into-journald-and-journalctl">Delving into Journald and journalctl</a>
                        <ol>
                            <li><a href="#basic-usage-of-journalctl">Basic Usage of journalctl</a></li>
                            <li><a href="#filtering-logs-with-journalctl">Filtering Logs with journalctl</a></li>
                            <li><a href="#advanced-journalctl-usage">Advanced journalctl Usage</a></li>
                            <li><a href="#persistent-journals">Persistent Journals</a></li>
                        </ol>
                    </li>
                    <li><a href="#mastering-rsyslog-for-log-management">Mastering Rsyslog for Log Management</a>
                        <ol>
                            <li><a href="#understanding-rsyslog-configuration">Understanding Rsyslog Configuration</a></li>
                            <li><a href="#filtering-and-routing-logs">Filtering and Routing Logs</a></li>
                        </ol>
                    </li>
                    <li><a href="#setting-up-a-centralized-log-server-with-rsyslog">Setting Up a Centralized Log Server with Rsyslog</a>
                        <ol>
                            <li><a href="#configuring-the-log-server">Configuring the Log Server</a></li>
                            <li><a href="#configuring-client-machines">Configuring Client Machines</a></li>
                            <li><a href="#verifying-centralized-logging">Verifying Centralized Logging</a></li>
                        </ol>
                    </li>
                    <li><a href="#logger">Logger</a>
                        <ol>
                            <li><a href="#basic-usage">Basic Usage</a></li>
                            <li><a href="#advanced-options">Advanced Options</a></li>
                            <li><a href="#incorporating-into-scripts">Incorporating into Scripts</a></li>
                        </ol>
                    </li>
                    <li><a href="#managing-log-files-with-logrotate">Managing Log Files with Logrotate</a>
                        <ol>
                            <li><a href="#understanding-configuration">Understanding Configuration</a></li>
                            <li><a href="#forcing-log-rotation">Forcing Log Rotation</a></li>
                            <li><a href="#verifying-log-rotation">Verifying Log Rotation</a></li>
                        </ol>
                    </li>
                    <li><a href="#practical-scenarios-and-applications">Practical Scenarios and Applications</a>
                        <ol>
                            <li><a href="#scenario-1-detecting-unauthorized-ssh-attempts">Scenario 1: Detecting Unauthorized SSH Attempts</a></li>
                            <li><a href="#scenario-2-monitoring-disk-usage">Scenario 2: Monitoring Disk Usage</a></li>
                        </ol>
                    </li>
                    <li><a href="#best-practices">Best Practices</a></li>
                    <li><a href="#challenges">Challenges</a></li>
                </ol>
            </ol>
            <div id="related-articles">
                <h2>Related Articles</h2>
                <ol>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/commands.html">Commands</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/cron_jobs.html">Cron Jobs</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/disk_io_analysis.html">Disk Io Analysis</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/disk_usage.html">Disk Usage</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/dwm.html">Dwm</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/encryption.html">Encryption</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/environment_modules.html">Environment Modules</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/environment_variable.html">Environment Variable</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/file_system.html">File System</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/files_and_dirs.html">Files and Dirs</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/finding_files.html">Finding Files</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/firewall.html">Firewall</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/grep.html">Grep</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/hardware.html">Hardware</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/inodes_and_symlinks.html">Inodes and Symlinks</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/introduction.html">Introduction</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/kernel.html">Kernel</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/ldap.html">Ldap</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/log_files_and_journals.html">Log Files and Journals</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/logical_volume_management.html">Logical Volume Management</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/managing_users.html">Managing Users</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/mounting.html">Mounting</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/networking.html">Networking</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/nfs.html">Nfs</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/package_managers.html">Package Managers</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/partitions.html">Partitions</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/performance_monitoring.html">Performance Monitoring</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/permissions.html">Permissions</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/pipe_and_redirect.html">Pipe and Redirect</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/ports.html">Ports</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/processes.html">Processes</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/running_executables.html">Running Executables</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/sed_and_awk.html">Sed and Awk</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/selinux.html">Selinux</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/services.html">Services</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/shells_and_bash_configuration.html">Shells and Bash Configuration</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/ssh_and_scp.html">Ssh and Scp</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/system_startup.html">System Startup</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/tar_and_gzip.html">Tar and Gzip</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/task_state_analysis.html">Task State Analysis</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/utilities.html">Utilities</a></li>
                    <li><a href="https://adamdjellouli.com/articles/linux_notes/virtual_machines.html">Virtual Machines</a></li>
                </ol>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer-columns">
            <div class="footer-column footer-about">
                <h2>About</h2>
                <p class="footer-message">Thanks for stopping by. This site is free to use; please be respectful and avoid misuse. For questions or collaboration, reach me on <a href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" title="LinkedIn Profile">LinkedIn</a> or <a href="https://github.com/djeada" title="GitHub Profile">GitHub</a>.</p>
                <p class="footer-signature">Built with care in Berlin (UTC+1).</p>
            </div>
            <div class="footer-column footer-links">
                <h2>Quick Links</h2>
                <ul class="footer-links-list">
                    <li><a href="https://adamdjellouli.com/index.html" title="Home">Home</a></li>
                    <li><a href="https://adamdjellouli.com/core/projects.html" title="Projects">Projects</a></li>
                    <li><a href="https://adamdjellouli.com/core/tools.html" title="Tools">Tools</a></li>
                    <li><a href="https://adamdjellouli.com/core/courses.html" title="Courses">Courses</a></li>
                    <li><a href="https://adamdjellouli.com/core/resume.html" title="Resume">Resume</a></li>
                    <li><a href="https://adamdjellouli.com/core/privacy_policy.html" title="Privacy Policy">Privacy Policy</a></li>
                    <li><a href="https://adamdjellouli.com/sitemap.xml" title="Sitemap">Sitemap</a></li>
                </ul>
            </div>
            <div class="footer-column footer-social">
                <h2>Follow</h2>
                <ul class="social-media">
                    <li>
                        <a aria-label="YouTube" class="fa fa-youtube" href="https://www.youtube.com/channel/UCGPoHTVjMN77wcGknXPHl1Q" rel="noopener" target="_blank" title="YouTube"></a>
                        <span class="social-label">YouTube</span>
                    </li>
                    <li>
                        <a aria-label="LinkedIn" class="fa fa-linkedin" href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" rel="noopener" target="_blank" title="LinkedIn"></a>
                        <span class="social-label">LinkedIn</span>
                    </li>
                    <li>
                        <a aria-label="Instagram" class="fa fa-instagram" href="https://www.instagram.com/linuxchallenges/" rel="noopener" target="_blank" title="Instagram"></a>
                        <span class="social-label">Instagram</span>
                    </li>
                    <li>
                        <a aria-label="GitHub" class="fa fa-github" href="https://github.com/djeada" title="GitHub"></a>
                        <span class="social-label">GitHub</span>
                    </li>
                </ul>
                <img alt="" aria-hidden="true" class="footer-mark" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/symbol.png" />
            </div>
        </div>
        <div class="footer-bottom">
            <p id="copyright">
                Â© Adam Djellouli. All rights reserved.
            </p>
        </div>
        <script>
            document.getElementById("copyright").innerHTML = "&copy; " + new Date().getFullYear() + " Adam Djellouli. All rights reserved.";
        </script>
        <script src="/app.js"></script>
    </footer>
    <div id="pdf-spinner-overlay">
        <div class="spinner"></div>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-cpp.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
extensions: ["tex2jax.js"],
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
tex2jax: { inlineMath: [ ["$", "$"] ], displayMath: [ ["$$","$$"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
messageStyle: "none"
});
</script>
<script async="" id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

</html>