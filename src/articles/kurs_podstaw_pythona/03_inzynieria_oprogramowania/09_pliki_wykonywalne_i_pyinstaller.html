<!DOCTYPE html>

<html lang="pl">

<head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5593122079896089"></script>
    <meta charset="utf-8" />
    <title>Pliki wykonywalne i PyInstaller</title>
    <meta content="Tworzenie plików wykonywalnych z kodu Python to skuteczny sposób na dostarczenie aplikacji użytkownikom, którzy nie mają zainstalowanego interpretera Pythona na swoim komputerze." name="description" />
    <meta content="Adam Djellouli" name="author" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/icon.ico" rel="icon" />
    <link href="../../../resources/style.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>
    <nav aria-label="Main navigation">
        <a class="logo" href="https://adamdjellouli.com">
            <img alt="Adam Djellouli - Home Page Logo" id="logo-image" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/logo.PNG" />
        </a>
        <input aria-label="Toggle navigation menu" id="navbar-toggle" type="checkbox" />
        <ul aria-labelledby="navbar-toggle" role="menu">
            <li role="menuitem">
                <a href="../../../index.html" title="Go to Home Page"> Home </a>
            </li>
            <li role="menuitem">
                <a class="active" href="../../../core/blog.html" title="Read Adam Djellouli Blog on Programming and Technology"> Blog </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/tools.html" title="Discover Tools Created by Adam Djellouli"> Tools </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/projects.html" title="Explore Projects Developed by Adam Djellouli"> Projects </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/resume.html" title="View Adam Djellouli Professional Resume"> Resume </a>
            </li>
            <li>
                <script async="" src="https://cse.google.com/cse.js?cx=8160ef9bb935f4f68"></script>
                <div class="gcse-search"></div>
            </li>
            <li>
                <button aria-label="Toggle dark mode" id="dark-mode-button"></button>
            </li>
        </ul>
    </nav>
    <div id="article-wrapper">
        <section id="article-body">
            <div class="article-action-buttons"><button class="btn-suggest-edit" title="Suggest Edit">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M4 21h4l11-11-4-4L4 17v4z" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button><button class="btn-create-issue" title="Create Issue">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"></circle>
                        <line stroke="currentColor" stroke-width="2" x1="12" x2="12" y1="8" y2="12"></line>
                        <circle cx="12" cy="16" fill="currentColor" r="1"></circle>
                    </svg>
                </button><button class="btn-download" title="Download">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M12 5v14m0 0l-6-6m6 6l6-6" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button></div>
            <p style="text-align: right;"><i>Last modified: April 25, 2025</i></p>
            <p style="text-align: right;"><i>This article is written in: 🇵🇱</i></p>
            <h2 id="pliki-wykonywalne-i-pyinstaller">Pliki wykonywalne i PyInstaller</h2>
            <p>Tworzenie plików wykonywalnych z kodu Python to skuteczny sposób na dostarczenie aplikacji użytkownikom, którzy nie mają zainstalowanego interpretera Pythona na swoim komputerze. Jest to szczególnie przydatne w środowiskach korporacyjnych oraz wśród użytkowników niezwiązanych z programowaniem, gdzie instalacja Pythona może być trudna lub niewykonalna. <strong>PyInstaller</strong> pozwala na przekształcenie skryptów Python w samodzielne pliki wykonywalne dla różnych systemów operacyjnych, takich jak Windows (<code>.exe</code>), macOS (<code>.app</code>) czy Linux (<code>.bin</code>). Dzięki temu aplikacja może być uruchomiona w docelowym systemie bez potrzeby instalowania dodatkowych narzędzi czy bibliotek.</p>
            <p><strong>Dlaczego PyInstaller?</strong> </p>
            <p>Istnieją inne narzędzia do tworzenia plików wykonywalnych z kodu Python, takie jak <code>cx_Freeze</code>, <code>py2exe</code> czy <code>Nuitka</code>. Jednak PyInstaller wyróżnia się prostotą użycia, szerokim wsparciem dla różnych systemów operacyjnych oraz zdolnością do obsługi złożonych aplikacji z wieloma zależnościami. Ponadto, PyInstaller automatycznie analizuje zależności skryptu i dołącza niezbędne biblioteki, co ułatwia proces pakowania aplikacji.</p>
            <h3 id="instalacja-pyinstaller">Instalacja PyInstaller</h3>
            <p>Aby rozpocząć korzystanie z PyInstaller, należy go najpierw zainstalować. PyInstaller jest dostępny w repozytorium PyPI, więc można go zainstalować za pomocą menedżera pakietów <code>pip</code>. Upewnij się, że masz zainstalowaną najnowszą wersję <code>pip</code> oraz Pythona.</p>
            <p>
            <div>
                <pre><code class="language-bash">pip install pyinstaller</code></pre>
            </div>
            </p>
            <p>Jeśli posiadasz zarówno Pythona 2, jak i Pythona 3, możesz użyć <code>pip3</code>, aby upewnić się, że PyInstaller zostanie zainstalowany dla Pythona 3:</p>
            <p>
            <div>
                <pre><code class="language-bash">pip3 install pyinstaller</code></pre>
            </div>
            </p>
            <p><strong>Sprawdzenie poprawności instalacji:</strong></p>
            <p>Po zainstalowaniu PyInstaller możesz sprawdzić jego wersję, aby upewnić się, że instalacja przebiegła pomyślnie:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --version</code></pre>
            </div>
            </p>
            <p>Jeśli komenda zwróci numer wersji, oznacza to, że PyInstaller jest gotowy do użycia.</p>
            <p><strong>Rozwiązywanie problemów:</strong></p>
            <p>Jeśli napotkasz problemy podczas instalacji, upewnij się, że:</p>
            <ul>
                <li>Masz uprawnienia administratora lub użyj <code>--user</code> przy instalacji:</li>
            </ul>
            <p>
            <div>
                <pre><code class="language-bash">pip install --user pyinstaller</code></pre>
            </div>
            </p>
            <ul>
                <li>Twoje środowisko wirtualne (jeśli używasz <code>venv</code> lub <code>virtualenv</code>) jest aktywne.</li>
                <li>Masz zainstalowaną odpowiednią wersję Pythona (PyInstaller wspiera Pythona 3.5 i nowsze).</li>
            </ul>
            <h3 id="tworzenie-pliku-wykonywalnego">Tworzenie pliku wykonywalnego</h3>
            <p>Po zainstalowaniu PyInstaller możesz przystąpić do konwersji swojego skryptu Python na plik wykonywalny. Podstawowa składnia polecenia PyInstaller jest następująca:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller [opcje] nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p>Aby stworzyć pojedynczy plik wykonywalny zawierający wszystkie zależności, użyj opcji <code>--onefile</code>:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p><strong>Co dzieje się podczas tego procesu?</strong></p>
            <ul>
                <li>PyInstaller analizuje twój skrypt, identyfikuje wszystkie importowane moduły i biblioteki.</li>
                <li>Kod Python jest kompilowany do kodu bajtowego (<code>.pyc</code>).</li>
                <li>Wszystkie niezbędne pliki, w tym biblioteki dynamiczne (.dll, .so, .dylib), są dołączane.</li>
                <li>PyInstaller tworzy plik wykonywalny specyficzny dla systemu operacyjnego.</li>
            </ul>
            <p><strong>Struktura wynikowych plików:</strong></p>
            <p>Po wykonaniu polecenia PyInstaller utworzy kilka plików i folderów:</p>
            <ul>
                <li><code>build/</code>: Katalog tymczasowy używany podczas procesu kompilacji.</li>
                <li><code>dist/</code>: Katalog zawierający finalny plik wykonywalny lub folder aplikacji.</li>
                <li><code>nazwa_skryptu.spec</code>: Plik specyfikacji zawierający konfigurację procesu pakowania.</li>
            </ul>
            <p><strong>Uruchomienie pliku wykonywalnego:</strong></p>
            <p>Plik wykonywalny znajduje się w folderze <code>dist/</code>. Możesz go uruchomić bezpośrednio:</p>
            <p>Na Windows:</p>
            <p>
            <div>
                <pre><code class="language-bash">dist\nazwa_skryptu.exe</code></pre>
            </div>
            </p>
            <p>Na macOS/Linux:</p>
            <p>
            <div>
                <pre><code class="language-bash">./dist/nazwa_skryptu</code></pre>
            </div>
            </p>
            <p><strong>Uwaga:</strong> Na systemach Unix może być konieczne nadanie plikowi uprawnień wykonywania:</p>
            <p>
            <div>
                <pre><code class="language-bash">chmod +x ./dist/nazwa_skryptu</code></pre>
            </div>
            </p>
            <p><strong>Rozwiązywanie problemów z zależnościami:</strong></p>
            <p>W niektórych przypadkach PyInstaller może nie wykryć wszystkich zależności, zwłaszcza jeśli używasz dynamicznego importu lub modułów ładowanych w czasie wykonywania. Może to prowadzić do błędów typu <code>ModuleNotFoundError</code> podczas uruchamiania pliku wykonywalnego.</p>
            <p><strong>Rozwiązanie:</strong></p>
            <p>Użyj opcji <code>--hidden-import</code>:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --hidden-import=modul_ukryty nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p>Możesz podać wiele ukrytych importów, powtarzając opcję:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --hidden-import=modul1 --hidden-import=modul2 nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p>Alternatywnie, możesz edytować plik specyfikacji <code>.spec</code> i dodać brakujące moduły do listy <code>hiddenimports</code>.</p>
            <h3 id="dołączanie-zasobów-grafika-dźwięk-i-inne">Dołączanie zasobów: Grafika, Dźwięk i Inne</h3>
            <p>W aplikacjach napisanych w Pythonie często korzysta się z zewnętrznych zasobów takich jak obrazy, pliki dźwiękowe, pliki konfiguracyjne czy bazy danych. Dla przykładu, jeśli tworzysz grę, możesz potrzebować dołączyć pliki graficzne dla postaci i tła oraz pliki dźwiękowe dla efektów. Gdy aplikacja jest gotowa do spakowania i dystrybucji, ważne jest, aby te zasoby były poprawnie dołączone, ponieważ aplikacja nie będzie w stanie znaleźć plików zewnętrznych, jeśli nie zostały one uwzględnione.</p>
            <h4 id="używanie-opcji-add-data">Używanie opcji <code>--add-data</code></h4>
            <p>PyInstaller, narzędzie do pakowania aplikacji Python, oferuje opcję <code>--add-data</code>, która umożliwia dołączenie dodatkowych plików do skompilowanej aplikacji. Użycie tej opcji może różnić się w zależności od systemu operacyjnego.</p>
            <p>Ogólna składnia tej opcji jest następująca:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --add-data "ścieżka_do_zasobu:ścieżka_w_aplikacji" nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p><strong>Parametry:</strong></p>
            <ul>
                <li><code>ścieżka_do_zasobu</code> to ścieżka do pliku lub katalogu, który chcesz dołączyć. Musisz wskazać dokładną lokalizację zasobu na swoim komputerze.</li>
                <li><code>ścieżka_w_aplikacji</code> to ścieżka, pod którą zasób będzie dostępny wewnątrz aplikacji. PyInstaller umieści plik w strukturze odpowiadającej tej ścieżce w momencie uruchomienia aplikacji.</li>
            </ul>
            <p>Załóżmy, że chcesz dołączyć plik konfiguracyjny <code>config.json</code>, który znajduje się w katalogu <code>settings</code>. Możesz to zrobić następująco:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --add-data "settings/config.json:settings" main.py</code></pre>
            </div>
            </p>
            <p>Po spakowaniu plik <code>config.json</code> będzie dostępny w folderze <code>settings</code> wewnątrz spakowanego pliku wykonywalnego.</p>
            <h4 id="dołączanie-wielu-zasobów">Dołączanie wielu zasobów</h4>
            <p>Jeśli masz kilka zasobów do dołączenia, możesz użyć opcji <code>--add-data</code> wielokrotnie, podając każdy zasób oddzielnie.</p>
            <p>Przykłady dla różnych systemów operacyjnych:</p>
            <p><strong>Windows:</strong></p>
            <p>Na Windowsie używamy średnika (<code>;</code>) jako separatora ścieżek:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --add-data "images\logo.png;images" --add-data "sounds\alert.wav;sounds" main.py</code></pre>
            </div>
            </p>
            <p><strong>macOS/Linux:</strong></p>
            <p>Na macOS oraz Linuxie używamy dwukropka (<code>:</code>) jako separatora ścieżek:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --add-data "images/logo.png:images" --add-data "sounds/alert.wav:sounds" main.py</code></pre>
            </div>
            </p>
            <p>W ten sposób plik <code>logo.png</code> znajdzie się w katalogu <code>images</code>, a plik <code>alert.wav</code> w katalogu <code>sounds</code> wewnątrz aplikacji.</p>
            <h4 id="przykład-struktury-projektu">Przykład struktury projektu</h4>
            <p>Załóżmy, że Twój projekt ma następującą strukturę katalogów:</p>
            <p>
            <div>
                <pre><code class="language-shell">projekt/
│   main.py
│
└───resources/
    ├───images/
    │       logo.png
    │       icon.png
    │
    └───config/
            settings.conf
            data.json</code></pre>
            </div>
            </p>
            <p>Aby dołączyć cały katalog <code>resources</code>, możesz użyć poniższej komendy:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --add-data "resources:resources" main.py</code></pre>
            </div>
            </p>
            <p>Dzięki temu cały katalog <code>resources</code> będzie dostępny po uruchomieniu aplikacji.</p>
            <h3 id="dostęp-do-zasobów-po-spakowaniu">Dostęp do zasobów po spakowaniu</h3>
            <p>Podczas pracy nad projektem bez spakowania, odwołujemy się do zasobów za pomocą lokalnych ścieżek, np. <code>resources/images/logo.png</code>. Po spakowaniu przez PyInstaller ścieżki te się zmieniają. PyInstaller pakuje zasoby do tymczasowego folderu, który jest dostępny jedynie podczas działania aplikacji.</p>
            <p>Aby poprawnie uzyskać dostęp do zasobów zarówno w wersji deweloperskiej, jak i spakowanej, można skorzystać z funkcji <code>resource_path</code>. Funkcja ta automatycznie dopasowuje ścieżki, obsługując różnice między środowiskiem lokalnym a środowiskiem spakowanym.</p>
            <h4 id="funkcja-resource_path">Funkcja <code>resource_path</code></h4>
            <p>
            <div>
                <pre><code class="language-python">import sys
import os

def resource_path(relative_path):
    """Zwraca absolutną ścieżkę do zasobu, obsługując PyInstaller."""
    try:
        # PyInstaller tworzy tymczasowy folder i przechowuje w nim zasoby
        base_path = sys._MEIPASS
    except Exception:
        base_path = os.path.abspath(".")

    return os.path.join(base_path, relative_path)</code></pre>
            </div>
            </p>
            <p>W powyższym kodzie:</p>
            <ul>
                <li><code>sys._MEIPASS</code> to specjalna zmienna, którą PyInstaller tworzy w spakowanej aplikacji, wskazująca na tymczasowy folder, gdzie przechowywane są zasoby.</li>
                <li>Jeśli aplikacja działa jako skrypt (np. w środowisku lokalnym), <code>sys._MEIPASS</code> nie istnieje. W takim przypadku funkcja <code>resource_path</code> zwraca lokalną ścieżkę do zasobu.</li>
            </ul>
            <h4 id="przykład-użycia-w-kodzie-">Przykład użycia w kodzie:</h4>
            <p>Poniżej przykład, który pokazuje, jak załadować obrazek z katalogu <code>resources/images</code> zarówno w środowisku lokalnym, jak i po spakowaniu:</p>
            <p>
            <div>
                <pre><code class="language-python">from PIL import Image

image_path = resource_path('resources/images/logo.png')
image = Image.open(image_path)</code></pre>
            </div>
            </p>
            <p>Dzięki zastosowaniu <code>resource_path</code>, kod ten zadziała poprawnie zarówno podczas testów lokalnych, jak i po spakowaniu aplikacji.</p>
            <h3 id="zaawansowane-ustawienia">Zaawansowane Ustawienia</h3>
            <p>PyInstaller oferuje wiele opcji pozwalających na dostosowanie procesu pakowania.</p>
            <h4 id="ukrywanie-konsoli">Ukrywanie konsoli</h4>
            <p>Domyślnie PyInstaller tworzy aplikację konsolową. Aby stworzyć aplikację GUI bez konsoli, użyj opcji <code>--noconsole</code>:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --noconsole nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p><strong>Przykład:</strong> Jeśli tworzysz aplikację z interfejsem graficznym (np. z użyciem Tkinter, PyQt), użyj <code>--noconsole</code>, aby uniknąć pojawiania się pustego okna konsoli.</p>
            <h4 id="zmiana-ikony-pliku-wykonywalnego">Zmiana ikony pliku wykonywalnego</h4>
            <p>Aby zmienić ikonę pliku wykonywalnego, użyj opcji <code>--icon</code>:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --icon=path/to/icon.ico nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p><strong>Uwaga:</strong> Na Windows ikona powinna być w formacie <code>.ico</code>. Na macOS można użyć formatu <code>.icns</code>.</p>
            <h4 id="wykluczanie-niepotrzebnych-modułów">Wykluczanie niepotrzebnych modułów</h4>
            <p>Aby zredukować rozmiar pliku wykonywalnego, możesz wykluczyć nieużywane moduły:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --exclude-module=modul_do_wykluczenia nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p><strong>Przykład:</strong> Jeśli nie używasz modułu <code>tkinter</code>, możesz go wykluczyć:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --exclude-module=tkinter nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <h4 id="optymalizacja-rozmiaru-aplikacji">Optymalizacja rozmiaru aplikacji</h4>
            <p>Możesz optymalizować kod bajtowy Pythona, co może zmniejszyć rozmiar aplikacji:</p>
            <ul>
                <li><code>--optimize=1</code> lub <code>-O1</code>: Usuwa docstringi.</li>
                <li><code>--optimize=2</code> lub <code>-O2</code>: Usuwa docstringi i asercje.</li>
            </ul>
            <p><strong>Przykład:</strong></p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --optimize=2 nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p><strong>Uwaga:</strong> Używaj <code>-O2</code> ostrożnie, ponieważ usunięcie asercji może ukryć potencjalne błędy.</p>
            <h4 id="modyfikacja-pliku-specyfikacji-spec-">Modyfikacja pliku specyfikacji (<code>.spec</code>)</h4>
            <p>Plik <code>.spec</code> zawiera szczegółowe informacje o tym, jak PyInstaller ma spakować twoją aplikację. Możesz go edytować, aby uzyskać większą kontrolę nad procesem.</p>
            <p><strong>Kroki:</strong></p>
            <p>I. Wygeneruj plik <code>.spec</code>:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --name=nazwa_aplikacji --specpath=. nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p>II. Edytuj <code>nazwa_aplikacji.spec</code> zgodnie z potrzebami.</p>
            <p>III. Spakuj aplikację używając pliku specyfikacji:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller nazwa_aplikacji.spec</code></pre>
            </div>
            </p>
            <p><strong>Co można zmienić w pliku <code>.spec</code>?</strong></p>
            <ul>
                <li>Możesz dodawać pliki danych bezpośrednio w sekcji <code>datas</code>.</li>
                <li>Możesz dodawać ukryte importy w liście <code>hiddenimports</code>.</li>
                <li>Możesz ustawić ikonę w obiekcie <code>EXE</code>.</li>
            </ul>
            <h4 id="tryb-katalogu">Tryb katalogu</h4>
            <p>Zamiast tworzyć pojedynczy plik wykonywalny, możesz pozostawić aplikację w formie katalogu:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p><strong>Zalety:</strong></p>
            <ul>
                <li>Szybszy start aplikacji, ponieważ nie musi się rozpakowywać.</li>
                <li>Łatwiejsza diagnostyka i możliwość podmiany pojedynczych plików.</li>
            </ul>
            <h4 id="zwiększenie-poziomu-logowania">Zwiększenie poziomu logowania</h4>
            <p>Aby uzyskać więcej informacji podczas pakowania, możesz zwiększyć poziom logowania:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --log-level=DEBUG nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p><strong>Poziomy logowania:</strong> <code>TRACE</code>, <code>DEBUG</code>, <code>INFO</code>, <code>WARN</code>, <code>ERROR</code>, <code>CRITICAL</code>.</p>
            <h4 id="hooki-i-obsługa-niestandardowych-modułów">Hooki i obsługa niestandardowych modułów</h4>
            <p>Hooki w PyInstallerze to specjalne skrypty Pythona, które pozwalają na obsługę modułów wymagających niestandardowej konfiguracji lub specjalnego traktowania podczas procesu budowania. Mogą być one potrzebne, gdy moduły dynamicznie importują inne moduły, używają zasobów zewnętrznych lub mają inne zależności, których PyInstaller nie jest w stanie wykryć automatycznie.</p>
            <h5>Kiedy potrzebujesz hooków?</h5>
            <p>Zwykle PyInstaller samodzielnie rozpoznaje zależności i moduły potrzebne do działania aplikacji. Jednak niektóre moduły korzystają z dynamicznego importowania, co może powodować, że PyInstaller nie wykryje ich poprawnie. Przykłady takich modułów to np. <code>numpy</code>, <code>tensorflow</code>, <code>scipy</code> czy własne niestandardowe moduły.</p>
            <h5>Tworzenie hooka: krok po kroku</h5>
            <p><strong>I. Utworzenie katalogu <code>hooks</code></strong></p>
            <p>Zanim stworzymy hooka, musimy przygotować odpowiednią strukturę katalogów. W tym celu utwórz katalog o nazwie <code>hooks</code> w głównym folderze projektu. W tym katalogu umieścisz wszystkie niestandardowe hooki, które będą obsługiwać dodatkowe moduły.</p>
            <p>
            <div>
                <pre><code class="language-bash">mkdir hooks</code></pre>
            </div>
            </p>
            <p><strong>II. Stworzenie pliku hooka</strong></p>
            <p>Każdy hook to osobny plik o nazwie <code>hook-&lt;nazwa_modulu&gt;.py</code>, gdzie <code>&lt;nazwa_modulu&gt;</code> to nazwa modułu, który wymaga specjalnej obsługi. Załóżmy, że chcesz spakować aplikację korzystającą z modułu o nazwie <code>moj_modul</code>, który dynamicznie ładuje inne podmoduły.</p>
            <p>W tym przypadku utwórz plik <code>hook-moj_modul.py</code> w katalogu <code>hooks/</code>:</p>
            <p>
            <div>
                <pre><code class="language-bash">touch hooks/hook-moj_modul.py</code></pre>
            </div>
            </p>
            <p><strong>III. Konfiguracja hooka</strong></p>
            <p>W pliku <code>hook-moj_modul.py</code> musisz zdefiniować, jak PyInstaller powinien traktować <code>moj_modul</code>. W najprostszej formie możesz użyć funkcji <code>collect_submodules</code> z pakietu <code>PyInstaller.utils.hooks</code>, aby zebrać wszystkie podmoduły, które mogą być dynamicznie importowane. Przykład takiej konfiguracji:</p>
            <p>
            <div>
                <pre><code class="language-python"># hooks/hook-moj_modul.py
from PyInstaller.utils.hooks import collect_submodules

# Zbierz wszystkie podmoduły
hiddenimports = collect_submodules('moj_modul')</code></pre>
            </div>
            </p>
            <p>W tym przykładzie <code>hiddenimports</code> to lista podmodułów, które są dynamicznie ładowane przez <code>moj_modul</code>, a które muszą być explicite uwzględnione w pakiecie generowanym przez PyInstaller.</p>
            <p><strong>IV. Zdefiniowanie dodatkowych zależności</strong></p>
            <p>Oprócz <code>hiddenimports</code>, możesz także zdefiniować inne typy zasobów, takie jak dane, które muszą być dodane do pakietu. Na przykład, jeśli <code>moj_modul</code> korzysta z plików konfiguracyjnych, grafik, czy innych zasobów, można je uwzględnić, definiując dodatkową zmienną <code>datas</code>:</p>
            <p>
            <div>
                <pre><code class="language-python"># hooks/hook-moj_modul.py
from PyInstaller.utils.hooks import collect_submodules, collect_data_files

# Zbierz wszystkie podmoduły
hiddenimports = collect_submodules('moj_modul')

# Zbierz dane (np. pliki konfiguracyjne)
datas = collect_data_files('moj_modul')</code></pre>
            </div>
            </p>
            <p><strong>V. Użycie hooków podczas budowania aplikacji</strong></p>
            <p>Aby PyInstaller uwzględnił nowo utworzone hooki, musisz przekazać ścieżkę do katalogu <code>hooks</code> za pomocą opcji <code>--additional-hooks-dir</code>. Przykład komendy budowania:</p>
            <p>
            <div>
                <pre><code class="language-bash">pyinstaller --onefile --additional-hooks-dir=hooks nazwa_skryptu.py</code></pre>
            </div>
            </p>
            <p>W tym przykładzie:</p>
            <ul>
                <li><code>--onefile</code> tworzy jednoplikową binarkę.</li>
                <li><code>--additional-hooks-dir=hooks</code> mówi PyInstallerowi, aby uwzględnił hooki z katalogu <code>hooks</code>.</li>
                <li><code>nazwa_skryptu.py</code> to Twój główny skrypt Pythona.</li>
            </ul>
            <p><strong>VI. Weryfikacja poprawności hooka</strong></p>
            <p>Aby upewnić się, że hook działa prawidłowo, uruchom spakowaną aplikację i sprawdź, czy wszystkie moduły działają bez problemów. Możesz to zrobić, analizując plik <code>.spec</code>, który PyInstaller generuje podczas kompilacji, lub ręcznie testując aplikację po spakowaniu.</p>
            <h5>Przekazywanie argumentów do aplikacji</h5>
            <p>Jeśli Twoja aplikacja korzysta z argumentów wiersza poleceń, PyInstaller zachowa tę funkcjonalność po spakowaniu. Musisz jedynie upewnić się, że obsługa argumentów jest prawidłowo zaimplementowana w skrypcie, np. za pomocą modułów takich jak <code>argparse</code> lub <code>sys.argv</code>.</p>
            <p>Przykład prostego skryptu obsługującego argumenty wiersza poleceń:</p>
            <p>
            <div>
                <pre><code class="language-python">import argparse

def main():
    parser = argparse.ArgumentParser(description="Opis aplikacji")
    parser.add_argument('--opcje', type=str, help="Przykładowa opcja")
    args = parser.parse_args()
    
    print(f"Otrzymano opcje: {args.opcje}")

if __name__ == '__main__':
    main()</code></pre>
            </div>
            </p>
            <p>Po spakowaniu aplikacji możesz ją uruchomić z argumentami wiersza poleceń:</p>
            <p>
            <div>
                <pre><code class="language-bash">./nazwa_aplikacji --opcje "wartość"</code></pre>
            </div>
            </p>
        </section>
        <div id="table-of-contents">
            <h2>Spis Treści</h2>
            <ol><a href="#pliki-wykonywalne-i-pyinstaller">Pliki wykonywalne i PyInstaller</a>
                <ol>
                    <li><a href="#instalacja-pyinstaller">Instalacja PyInstaller</a></li>
                    <li><a href="#tworzenie-pliku-wykonywalnego">Tworzenie pliku wykonywalnego</a></li>
                    <li><a href="#dołączanie-zasobów-grafika-dźwięk-i-inne">Dołączanie zasobów: Grafika, Dźwięk i Inne</a>
                        <ol>
                            <li><a href="#używanie-opcji-add-data">Używanie opcji --add-data</a></li>
                            <li><a href="#dołączanie-wielu-zasobów">Dołączanie wielu zasobów</a></li>
                            <li><a href="#przykład-struktury-projektu">Przykład struktury projektu</a></li>
                        </ol>
                    </li>
                    <li><a href="#dostęp-do-zasobów-po-spakowaniu">Dostęp do zasobów po spakowaniu</a>
                        <ol>
                            <li><a href="#funkcja-resource_path">Funkcja resource_path</a></li>
                            <li><a href="#przykład-użycia-w-kodzie-">Przykład użycia w kodzie:</a></li>
                        </ol>
                    </li>
                    <li><a href="#zaawansowane-ustawienia">Zaawansowane Ustawienia</a>
                        <ol>
                            <li><a href="#ukrywanie-konsoli">Ukrywanie konsoli</a></li>
                            <li><a href="#zmiana-ikony-pliku-wykonywalnego">Zmiana ikony pliku wykonywalnego</a></li>
                            <li><a href="#wykluczanie-niepotrzebnych-modułów">Wykluczanie niepotrzebnych modułów</a></li>
                            <li><a href="#optymalizacja-rozmiaru-aplikacji">Optymalizacja rozmiaru aplikacji</a></li>
                            <li><a href="#modyfikacja-pliku-specyfikacji-spec-">Modyfikacja pliku specyfikacji (.spec)</a></li>
                            <li><a href="#tryb-katalogu">Tryb katalogu</a></li>
                            <li><a href="#zwiększenie-poziomu-logowania">Zwiększenie poziomu logowania</a></li>
                            <li><a href="#hooki-i-obsługa-niestandardowych-modułów">Hooki i obsługa niestandardowych modułów</a></li>
                        </ol>
                    </li>
                </ol>
            </ol>
            <div id="related-articles">
                <h2>Related Articles</h2>
                <ol>
                    <li>Podstawy<ol>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/01_instalacja_w_systemie_windows.html">Instalacja w Systemie Windows</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/02_interaktywna_konsola.html">Interaktywna Konsola</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/03_zmienne.html">Zmienne</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/04_warunki.html">Warunki</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/05_petle.html">Petle</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/06_funkcje.html">Funkcje</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/07_napisy.html">Napisy</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/08_struktury_danych.html">Struktury Danych</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/09_enum.html">Enum</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/01_podstawy/10_liczby_losowe.html">Liczby Losowe</a></li>
                        </ol>
                    </li>
                    <li>Sredniozawansowane<ol>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/01_klasy_i_obiekty.html">Klasy i Obiekty</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/02_referencje_i_kopiowanie.html">Referencje i Kopiowanie</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/03_czyste_funkcje_i_skutki_uboczne.html">Czyste Funkcje i Skutki Uboczne</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/04_dziedziczenie_i_kompozycja.html">Dziedziczenie i Kompozycja</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/05_wyrazenia_regularne.html">Wyrazenia Regularne</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/06_wyjatki.html">Wyjatki</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/07_watki.html">Watki</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/08_procesy.html">Procesy</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/09_asyncio.html">Asyncio</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/10_lambdy.html">Lambdy</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/11_programowanie_funkcyjne.html">Programowanie Funkcyjne</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/12_klasy_danych.html">Klasy Danych</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/13_generatory.html">Generatory</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/14_iteratory.html">Iteratory</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/15_dekoratory.html">Dekoratory</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/02_sredniozawansowane/16_serializacja.html">Serializacja</a></li>
                        </ol>
                    </li>
                    <li>Inzynieria Oprogramowania<ol>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/01_moduly_i_pakiety.html">Moduly i Pakiety</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/02_wersje_pythona.html">Wersje Pythona</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/03_pip_i_pypi.html">Pip i Pypi</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/04_srodowisko_wirtualne.html">Srodowisko Wirtualne</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/05_dbanie_o_jakosc_kodu.html">Dbanie o Jakosc Kodu</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/06_debugowanie.html">Debugowanie</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/07_testy_jednostkowe.html">Testy Jednostkowe</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/08_dokumentacja.html">Dokumentacja</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/09_pliki_wykonywalne_i_pyinstaller.html">Pliki Wykonywalne i Pyinstaller</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/03_inzynieria_oprogramowania/10_kod_bajtowy.html">Kod Bajtowy</a></li>
                        </ol>
                    </li>
                    <li>Python w Praktyce<ol>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/01_argumenty_linii_polecen.html">Argumenty Linii Polecen</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/02_praca_z_plikami_i_folderami.html">Praca z Plikami i Folderami</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/03_pandas_i_csv.html">Pandas i Csv</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/04_praca_z_plikami_pdf.html">Praca z Plikami Pdf</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/05_informacje_o_systemie_operacyjnym.html">Informacje o Systemie Operacyjnym</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/06_http_i_prosty_serwer.html">Http i Prosty Serwer</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/07_api_wraz_z_fastapi.html">Api wraz z Fastapi</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/08_bazy_danych_z_sqlite.html">Bazy Danych z Sqlite</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/09_tkinter.html">Tkinter</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/04_python_w_praktyce/10_logi.html">Logi</a></li>
                        </ol>
                    </li>
                    <li>Prezentacje<ol>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/05_prezentacje/git.html">Git</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/05_prezentacje/inspekcja_kodu.html">Inspekcja Kodu</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/05_prezentacje/jupyter_notebooks.html">Jupyter Notebooks</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/05_prezentacje/paradygmaty_programowania.html">Paradygmaty Programowania</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/05_prezentacje/programowanie_wstep.html">Programowanie Wstep</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/05_prezentacje/testy.html">Testy</a></li>
                            <li><a href="https://adamdjellouli.com/articles/kurs_podstaw_pythona/05_prezentacje/wprowadzenie_do_kursu.html">Wprowadzenie do Kursu</a></li>
                        </ol>
                    </li>
                </ol>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer-columns">
            <div class="footer-column">
                <img alt="Adam Djellouli Symbol" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/symbol.png" />
            </div>
            <div class="footer-column">
                <h2><a href="https://adamdjellouli.com/core/privacy_policy.html" title="Privacy Policy">Our Privacy Policy</a></h2>
                <p>
                    Thank you for visiting my personal website. All of the <br />
                    content on this site is free to use, but please remember <br />
                    to be a good human being and refrain from any abuse<br />
                    of the site. If you would like to contact me, please use <br />
                    my <a href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" title="LinkedIn Profile">LinkedIn profile</a> or my <a href="https://github.com/djeada" title="GitHub Profile">GitHub</a> if you have any technical <br />
                    issues or ideas to share. I wish you the best and hope you <br />
                    have a fantastic life. <br />
                </p>
            </div>
            <div class="footer-column">
                <h2>Follow me</h2>
                <ul class="social-media">
                    <li>
                        <a class="fa fa-youtube" href="https://www.youtube.com/channel/UCGPoHTVjMN77wcGknXPHl1Q" target="_blank" title="YouTube">
                        </a>YouTube
                    </li>
                    <li>
                        <a class="fa fa-linkedin" href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" target="_blank" title="LinkedIn">
                        </a>LinkedIn
                    </li>
                    <li>
                        <a class="fa fa-instagram" href="https://www.instagram.com/linuxchallenges/" target="_blank" title="Instagram">
                        </a>Instagram
                    </li>
                    <li>
                        <a class="fa fa-github" href="https://github.com/djeada" title="GitHub">
                        </a>Github
                    </li>
                </ul>
            </div>
        </div>
        <div>
            <p id="copyright">
                © Adam Djellouli. All rights reserved.
            </p>
        </div>
        <script>
            document.getElementById("copyright").innerHTML = "&copy; " + new Date().getFullYear() + " Adam Djellouli. All rights reserved.";
        </script>
        <script src="../../../app.js"></script>
    </footer>
    <div id="pdf-spinner-overlay">
        <div class="spinner"></div>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-cpp.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
extensions: ["tex2jax.js"],
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
tex2jax: { inlineMath: [ ["$", "$"] ], displayMath: [ ["$$","$$"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
messageStyle: "none"
});
</script>
<script async="" id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

</html>