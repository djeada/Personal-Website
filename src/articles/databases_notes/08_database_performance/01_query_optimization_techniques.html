<!DOCTYPE html>

<html lang="en">

<head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5593122079896089"></script>
    <meta charset="utf-8" />
    <title>Query Optimization Techniques</title>
    <meta content="Query optimization is a critical aspect of database management that focuses on improving the efficiency of SQL queries." name="description" />
    <meta content="Adam Djellouli" name="author" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/icon.ico" rel="icon" />
    <link href="../../../resources/style.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
</head>

<body>
    <nav aria-label="Main navigation">
        <a class="logo" href="https://adamdjellouli.com">
            <img alt="Adam Djellouli - Home Page Logo" id="logo-image" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/logo.PNG" />
        </a>
        <input aria-label="Toggle navigation menu" id="navbar-toggle" type="checkbox" />
        <ul aria-labelledby="navbar-toggle" role="menu">
            <li role="menuitem">
                <a href="../../../index.html" title="Go to Home Page"> Home </a>
            </li>
            <li role="menuitem">
                <a class="active" href="../../../core/blog.html" title="Read Adam Djellouli Blog on Programming and Technology"> Blog </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/tools.html" title="Discover Tools Created by Adam Djellouli"> Tools </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/projects.html" title="Explore Projects Developed by Adam Djellouli"> Projects </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/resume.html" title="View Adam Djellouli Professional Resume"> Resume </a>
            </li>
            <li>
                <script async="" src="https://cse.google.com/cse.js?cx=8160ef9bb935f4f68"></script>
                <div class="gcse-search"></div>
            </li>
            <li>
                <button aria-label="Toggle dark mode" id="dark-mode-button"></button>
            </li>
        </ul>
    </nav>
    <div id="article-wrapper">
        <section id="article-body">
            <p style="text-align: right;"><i>Last modified: November 26, 2024</i></p>
            <p style="text-align: right;"><i>This article is written in: ðŸ‡ºðŸ‡¸</i></p>
            <header>Query Optimization Techniques</header>
            <p>Query optimization is a critical aspect of database management that focuses on improving the efficiency of SQL queries. By selecting the most efficient execution strategies, query optimization minimizes resource consumption, reduces execution time, and enhances the overall performance and user experience of database systems.</p>
            <h2 id="understanding-query-optimization">Understanding Query Optimization</h2>
            <h3 id="what-is-query-optimization-">What is Query Optimization?</h3>
            <p>Query optimization is the process of modifying a query to improve its execution efficiency. The database management system (DBMS) analyzes multiple execution plans and selects the one with the lowest estimated cost.</p>
            <p><strong>Key Objectives:</strong></p>
            <ul>
                <li><strong>Minimize Resource Consumption:</strong> Reduce CPU usage, memory usage, and disk I/O operations.</li>
                <li><strong>Reduce Execution Time:</strong> Accelerate query response times to improve user experience.</li>
                <li><strong>Enhance Throughput:</strong> Allow the system to handle more queries concurrently.</li>
            </ul>
            <h3 id="why-is-query-optimization-important-">Why is Query Optimization Important?</h3>
            <ul>
                <li><strong>Performance Improvement:</strong> Optimized queries run faster and consume fewer resources.</li>
                <li><strong>Cost Efficiency:</strong> Reduces the need for additional hardware or infrastructure.</li>
                <li><strong>Scalability:</strong> Facilitates handling increased workloads without degradation in performance.</li>
                <li><strong>User Satisfaction:</strong> Faster queries lead to a better user experience.</li>
            </ul>
            <hr />
            <h2 id="types-of-query-optimization">Types of Query Optimization</h2>
            <p>There are two primary approaches to query optimization:</p>
            <h3 id="heuristic-optimization">Heuristic Optimization</h3>
            <p>Heuristic optimization, also known as rule-based optimization, uses predefined rules and guidelines to transform queries into more efficient forms.</p>
            <p><strong>Characteristics:</strong></p>
            <ul>
                <li><strong>Rule-Based:</strong> Applies general rules regardless of specific data distributions or workloads.</li>
                <li><strong>Simplification:</strong> Focuses on simplifying query expressions.</li>
                <li><strong>No Cost Estimation:</strong> Does not consider the cost of different execution strategies.</li>
            </ul>
            <p><strong>Examples of Heuristic Rules:</strong></p>
            <ul>
                <li><strong>Selection Pushdown:</strong> Apply filters as early as possible in the query execution.</li>
                <li><strong>Join Ordering:</strong> Join smaller tables first to reduce intermediate result sizes.</li>
                <li><strong>Projection Pushdown:</strong> Select only necessary columns to reduce data volume.</li>
            </ul>
            <p><strong>Example Scenario:</strong></p>
            <p>If a query filters data based on a specific column, heuristic optimization might suggest using an index on that column to speed up query execution.</p>
            <h3 id="cost-based-optimization">Cost-Based Optimization</h3>
            <p>Cost-based optimization uses statistical information about data distributions, index availability, and system resources to estimate the cost of different execution plans and select the most efficient one.</p>
            <p><strong>Characteristics:</strong></p>
            <ul>
                <li><strong>Cost Estimation:</strong> Evaluates multiple execution plans based on estimated resource usage.</li>
                <li><strong>Data Statistics:</strong> Relies on accurate statistics about tables and indexes.</li>
                <li><strong>Adaptive:</strong> Can adjust plans based on changing data distributions.</li>
            </ul>
            <p><strong>Examples of Cost-Based Decisions:</strong></p>
            <ul>
                <li><strong>Join Methods:</strong> Choosing between nested loop joins, hash joins, or merge joins based on cost estimates.</li>
                <li><strong>Index Selection:</strong> Deciding whether to use an index scan or a full table scan.</li>
                <li><strong>Parallel Execution:</strong> Determining if parallel execution will reduce overall cost.</li>
            </ul>
            <p><strong>Example Scenario:</strong></p>
            <p>When joining two tables, the optimizer calculates the cost of various join methods and chooses the one with the lowest estimated cost.</p>
            <hr />
            <h2 id="key-query-optimization-techniques">Key Query Optimization Techniques</h2>
            <h3 id="indexing">Indexing</h3>
            <p>Indexes are data structures that improve the speed of data retrieval operations on a database table.</p>
            <p><strong>Types of Indexes:</strong></p>
            <ul>
                <li><strong>B-Tree Indexes:</strong> Suitable for range queries and exact matches.</li>
                <li><strong>Hash Indexes:</strong> Ideal for exact match queries.</li>
                <li><strong>Bitmap Indexes:</strong> Efficient for columns with low cardinality (few unique values).</li>
                <li><strong>Full-Text Indexes:</strong> Designed for text search operations.</li>
            </ul>
            <p><strong>Best Practices:</strong></p>
            <ul>
                <li><strong>Index Frequently Queried Columns:</strong> Create indexes on columns used in WHERE clauses, JOIN conditions, and ORDER BY clauses.</li>
                <li><strong>Use Composite Indexes:</strong> Combine multiple columns into a single index when queries often filter by multiple columns.</li>
                <li><strong>Avoid Over-Indexing:</strong> Excessive indexes can slow down write operations (INSERT, UPDATE, DELETE).</li>
            </ul>
            <p><strong>Example:</strong></p>
            <p>
            <div>
                <pre><code class="language-sql">-- Creating an index on the CustomerID column
CREATE INDEX idx_orders_customerid ON Orders (CustomerID);</code></pre>
            </div>
            </p>
            <h3 id="query-rewriting">Query Rewriting</h3>
            <p>Query rewriting involves modifying the SQL query to a more efficient form without changing its result.</p>
            <p><strong>Techniques:</strong></p>
            <ul>
                <li><strong>Simplify Expressions:</strong> Replace complex expressions with simpler equivalents.</li>
                <li><strong>Eliminate Redundancy:</strong> Remove unnecessary subqueries or joins.</li>
                <li><strong>Use EXISTS Instead of IN:</strong> In some cases, using EXISTS can be more efficient than IN.</li>
            </ul>
            <p><strong>Example:</strong></p>
            <p><strong>Inefficient Query:</strong></p>
            <p>
            <div>
                <pre><code class="language-sql">SELECT *
FROM Orders
WHERE CustomerID IN (SELECT CustomerID FROM Customers WHERE Country = 'USA');</code></pre>
            </div>
            </p>
            <p><strong>Rewritten Query:</strong></p>
            <p>
            <div>
                <pre><code class="language-sql">SELECT o.*
FROM Orders o
JOIN Customers c ON o.CustomerID = c.CustomerID
WHERE c.Country = 'USA';</code></pre>
            </div>
            </p>
            <h3 id="join-optimization">Join Optimization</h3>
            <p>Optimizing joins can have a significant impact on query performance, especially with large datasets.</p>
            <p><strong>Strategies:</strong></p>
            <ul>
                <li><strong>Choose the Right Join Type:</strong></li>
                <li><strong>INNER JOIN:</strong> Returns matching rows.</li>
                <li><strong>LEFT/RIGHT JOIN:</strong> Includes unmatched rows from one side.</li>
                <li><strong>Join Order:</strong> Join smaller tables first to reduce the size of intermediate results.</li>
                <li><strong>Use Appropriate Join Methods:</strong></li>
                <li><strong>Nested Loop Join:</strong> Good for small tables.</li>
                <li><strong>Hash Join:</strong> Efficient for large, unsorted tables.</li>
                <li><strong>Merge Join:</strong> Effective when both inputs are sorted.</li>
            </ul>
            <p><strong>Example:</strong></p>
            <p>Optimizing a join between large tables by filtering data before the join:</p>
            <p>
            <div>
                <pre><code class="language-sql">-- Applying filters before joining
SELECT o.OrderID, o.OrderDate, c.CustomerName
FROM (
    SELECT OrderID, OrderDate, CustomerID
    FROM Orders
    WHERE OrderDate &gt;= '2021-01-01'
) o
JOIN Customers c ON o.CustomerID = c.CustomerID
WHERE c.Country = 'USA';</code></pre>
            </div>
            </p>
            <h3 id="partitioning">Partitioning</h3>
            <p>Partitioning divides a large table or index into smaller, more manageable pieces called partitions.</p>
            <p><strong>Types of Partitioning:</strong></p>
            <ul>
                <li><strong>Horizontal Partitioning (Sharding):</strong> Divides data across multiple tables or databases based on a key (e.g., date ranges).</li>
                <li><strong>Vertical Partitioning:</strong> Splits a table by columns into multiple tables.</li>
                <li><strong>Range Partitioning:</strong> Partitions data based on ranges of values.</li>
            </ul>
            <p><strong>Benefits:</strong></p>
            <ul>
                <li><strong>Improved Query Performance:</strong> Queries can scan only relevant partitions.</li>
                <li><strong>Maintenance Efficiency:</strong> Easier to manage and maintain smaller partitions.</li>
                <li><strong>Scalability:</strong> Facilitates handling large volumes of data.</li>
            </ul>
            <p><strong>Example:</strong></p>
            <p>Partitioning a sales table by year:</p>
            <p>
            <div>
                <pre><code class="language-sql">-- MySQL example
ALTER TABLE Sales
PARTITION BY RANGE (YEAR(SaleDate)) (
    PARTITION p2020 VALUES LESS THAN (2021),
    PARTITION p2021 VALUES LESS THAN (2022),
    PARTITION pMax VALUES LESS THAN MAXVALUE
);</code></pre>
            </div>
            </p>
            <h3 id="materialized-views">Materialized Views</h3>
            <p>Materialized views store the result of a query physically on disk, allowing for faster access to complex query results.</p>
            <p><strong>Use Cases:</strong></p>
            <ul>
                <li><strong>Precomputing Aggregations:</strong> Useful in data warehousing and reporting.</li>
                <li><strong>Caching Complex Joins:</strong> Speeds up queries involving multiple joins.</li>
            </ul>
            <p><strong>Management:</strong></p>
            <ul>
                <li><strong>Refresh Strategies:</strong></li>
                <li><strong>On-Demand:</strong> Manually refresh the view as needed.</li>
                <li><strong>Scheduled:</strong> Refresh at regular intervals.</li>
                <li><strong>Considerations:</strong></li>
                <li><strong>Storage Cost:</strong> Requires additional disk space.</li>
                <li><strong>Data Staleness:</strong> May not reflect real-time data changes.</li>
            </ul>
            <p><strong>Example:</strong></p>
            <p>Creating a materialized view in PostgreSQL:</p>
            <p>
            <div>
                <pre><code class="language-sql">CREATE MATERIALIZED VIEW sales_summary AS
SELECT region, SUM(amount) AS total_sales
FROM sales
GROUP BY region;</code></pre>
            </div>
            </p>
            <h3 id="caching">Caching</h3>
            <p>Caching involves storing frequently accessed data in memory for quick retrieval.</p>
            <p><strong>Techniques:</strong></p>
            <ul>
                <li><strong>Query Result Caching:</strong> Store the results of expensive queries.</li>
                <li><strong>Application-Level Caching:</strong> Use in-memory data stores like Redis or Memcached.</li>
                <li><strong>Database Buffer Cache:</strong> Optimize database cache settings.</li>
            </ul>
            <p><strong>Benefits:</strong></p>
            <ul>
                <li><strong>Reduced Latency:</strong> Faster data retrieval.</li>
                <li><strong>Lower Database Load:</strong> Fewer reads from disk.</li>
            </ul>
            <p><strong>Example:</strong></p>
            <p>Using Redis for caching in Python:</p>
            <p>
            <div>
                <pre><code class="language-python">import redis

cache = redis.Redis(host='localhost', port=6379)

def get_user_data(user_id):
    cache_key = f'user:{user_id}'
    user_data = cache.get(cache_key)
    if user_data:
        return user_data
    else:
        user_data = fetch_from_database(user_id)
        cache.set(cache_key, user_data, ex=3600)  # Cache for 1 hour
        return user_data</code></pre>
            </div>
            </p>
            <h3 id="parallelism">Parallelism</h3>
            <p>Parallel query execution utilizes multiple CPU cores or nodes to perform operations concurrently.</p>
            <p><strong>Benefits:</strong></p>
            <ul>
                <li><strong>Reduced Query Time:</strong> Splitting work across processors decreases execution time.</li>
                <li><strong>Efficient Resource Utilization:</strong> Maximizes hardware capabilities.</li>
            </ul>
            <p><strong>Implementation:</strong></p>
            <ul>
                <li><strong>Enable Parallel Query Execution:</strong> Configure the database to allow parallelism.</li>
                <li><strong>Partitioned Data Processing:</strong> Distribute data across nodes for parallel processing.</li>
            </ul>
            <p><strong>Example:</strong></p>
            <p>Enabling parallelism in PostgreSQL:</p>
            <p>
            <div>
                <pre><code class="language-sql">-- postgresql.conf settings
max_parallel_workers_per_gather = 4</code></pre>
            </div>
            </p>
            <h3 id="statistics-and-histograms">Statistics and Histograms</h3>
            <p>Accurate statistics help the optimizer make informed decisions.</p>
            <p><strong>Techniques:</strong></p>
            <ul>
                <li><strong>Update Statistics Regularly:</strong> Ensure the optimizer has current data distributions.</li>
                <li><strong>Use Histograms:</strong> Provide detailed data distribution information for columns.</li>
            </ul>
            <p><strong>Commands:</strong></p>
            <ul>
                <li><strong>SQL Server:</strong></li>
            </ul>
            <p>
            <div>
                <pre><code class="language-sql">UPDATE STATISTICS table_name;</code></pre>
            </div>
            </p>
            <ul>
                <li><strong>Oracle:</strong></li>
            </ul>
            <p>
            <div>
                <pre><code class="language-sql">EXEC DBMS_STATS.GATHER_TABLE_STATS('schema_name', 'table_name');</code></pre>
            </div>
            </p>
            <h3 id="hints">Hints</h3>
            <p>Hints are directives added to SQL queries to influence the optimizer's decisions.</p>
            <p><strong>Usage:</strong></p>
            <ul>
                <li><strong>Override Default Behavior:</strong> Guide the optimizer to use a specific index or join method.</li>
                <li><strong>Testing and Troubleshooting:</strong> Evaluate the impact of different execution strategies.</li>
            </ul>
            <p><strong>Example:</strong></p>
            <p>Using a hint in Oracle to force an index scan:</p>
            <p>
            <div>
                <pre><code class="language-sql">SELECT /*+ INDEX(emp emp_idx1) */ *
FROM emp
WHERE dept_id = 10;</code></pre>
            </div>
            </p>
            <p><strong>Considerations:</strong></p>
            <ul>
                <li><strong>Portability Issues:</strong> Hints may not be portable across different DBMS.</li>
                <li><strong>Maintenance Overhead:</strong> Changes in data distributions may render hints suboptimal.</li>
            </ul>
            <hr />
            <h2 id="analyzing-query-performance">Analyzing Query Performance</h2>
            <h3 id="execution-plans">Execution Plans</h3>
            <p>An execution plan outlines the steps the database will take to execute a query.</p>
            <p><strong>Types:</strong></p>
            <ul>
                <li><strong>Estimated Execution Plan:</strong> Predicts how the query will be executed.</li>
                <li><strong>Actual Execution Plan:</strong> Shows the actual execution details after running the query.</li>
            </ul>
            <p><strong>Viewing Execution Plans:</strong></p>
            <ul>
                <li><strong>MySQL:</strong></li>
            </ul>
            <p>
            <div>
                <pre><code class="language-sql">EXPLAIN SELECT * FROM Orders WHERE OrderID = 123;</code></pre>
            </div>
            </p>
            <ul>
                <li><strong>SQL Server:</strong></li>
            </ul>
            <p>
            <div>
                <pre><code class="language-sql">SET SHOWPLAN_TEXT ON;
  SELECT * FROM Orders WHERE OrderID = 123;
  SET SHOWPLAN_TEXT OFF;</code></pre>
            </div>
            </p>
            <p><strong>Interpreting Execution Plans:</strong></p>
            <ul>
                <li><strong>Operations:</strong> Scans, seeks, joins, sorts.</li>
                <li><strong>Costs:</strong> Estimated resource usage for each operation.</li>
                <li><strong>Indexes Used:</strong> Which indexes are utilized.</li>
            </ul>
            <h3 id="identifying-bottlenecks">Identifying Bottlenecks</h3>
            <p><strong>Common Bottlenecks:</strong></p>
            <ul>
                <li><strong>Full Table Scans:</strong> Reading the entire table when not necessary.</li>
                <li><strong>Expensive Joins:</strong> Joins without appropriate indexes.</li>
                <li><strong>Sorting and Grouping:</strong> Operations that require significant memory or disk space.</li>
            </ul>
            <p><strong>Strategies:</strong></p>
            <ul>
                <li><strong>Filter Early:</strong> Reduce the amount of data processed.</li>
                <li><strong>Optimize Joins:</strong> Ensure join columns are indexed.</li>
                <li><strong>Limit Result Sets:</strong> Retrieve only necessary rows and columns.</li>
            </ul>
            <h3 id="monitoring-tools">Monitoring Tools</h3>
            <p><strong>Database-Specific Tools:</strong></p>
            <ul>
                <li><strong>MySQL Workbench</strong></li>
                <li><strong>SQL Server Management Studio (SSMS)</strong></li>
                <li><strong>Oracle SQL Developer</strong></li>
            </ul>
            <p><strong>Third-Party Tools:</strong></p>
            <ul>
                <li><strong>New Relic</strong></li>
                <li><strong>Dynatrace</strong></li>
                <li><strong>SolarWinds Database Performance Analyzer</strong></li>
            </ul>
            <p><strong>Metrics to Monitor:</strong></p>
            <ul>
                <li><strong>Query Execution Time</strong></li>
                <li><strong>CPU and Memory Usage</strong></li>
                <li><strong>Disk I/O</strong></li>
                <li><strong>Locking and Blocking</strong></li>
            </ul>
            <hr />
            <h2 id="practical-examples">Practical Examples</h2>
            <h3 id="optimizing-a-slow-query">Optimizing a Slow Query</h3>
            <p><strong>Original Query:</strong></p>
            <p>
            <div>
                <pre><code class="language-sql">SELECT *
FROM Orders
WHERE CustomerID IN (SELECT CustomerID FROM Customers WHERE Country = 'USA');</code></pre>
            </div>
            </p>
            <p><strong>Issues:</strong></p>
            <ul>
                <li><strong>Subquery Inefficiency:</strong> The subquery may be executed repeatedly.</li>
                <li><strong>SELECT * Usage:</strong> Fetching all columns unnecessarily.</li>
                <li><strong>Lack of Indexes:</strong> No indexes on <code>CustomerID</code> or <code>Country</code>.</li>
            </ul>
            <p><strong>Optimized Query:</strong></p>
            <p>
            <div>
                <pre><code class="language-sql">SELECT o.OrderID, o.OrderDate, o.TotalAmount
FROM Orders o
JOIN Customers c ON o.CustomerID = c.CustomerID
WHERE c.Country = 'USA';</code></pre>
            </div>
            </p>
            <p><strong>Improvements:</strong></p>
            <ul>
                <li><strong>Use of JOIN:</strong> More efficient than a subquery.</li>
                <li><strong>Selective Columns:</strong> Fetch only needed columns.</li>
                <li><strong>Indexing:</strong></li>
            </ul>
            <p>
            <div>
                <pre><code class="language-sql">CREATE INDEX idx_customers_country ON Customers (Country);
  CREATE INDEX idx_orders_customerid ON Orders (CustomerID);</code></pre>
            </div>
            </p>
            <h3 id="case-study-indexing-impact">Case Study: Indexing Impact</h3>
            <p><strong>Scenario:</strong></p>
            <p>Querying a large <code>Employees</code> table for a specific employee's salary.</p>
            <p><strong>Query:</strong></p>
            <p>
            <div>
                <pre><code class="language-sql">SELECT salary
FROM Employees
WHERE id = 97;</code></pre>
            </div>
            </p>
            <p><strong>Without Index:</strong></p>
            <ul>
                <li><strong>Execution Plan:</strong> Full table scan.</li>
                <li><strong>Performance:</strong> Slow, as every row is scanned.</li>
            </ul>
            <p><strong>With Index on <code>id</code>:</strong></p>
            <p>
            <div>
                <pre><code class="language-sql">CREATE INDEX idx_employees_id ON Employees (id);</code></pre>
            </div>
            </p>
            <ul>
                <li><strong>Execution Plan:</strong> Index scan on <code>id</code>.</li>
                <li><strong>Performance:</strong> Faster, as only relevant rows are accessed.</li>
            </ul>
            <p><strong>With Covering Index:</strong></p>
            <p>
            <div>
                <pre><code class="language-sql">CREATE INDEX idx_employees_id_salary ON Employees (id, salary);</code></pre>
            </div>
            </p>
            <ul>
                <li><strong>Execution Plan:</strong> Index-only scan.</li>
                <li><strong>Performance:</strong> Even faster, as the index contains all needed data.</li>
            </ul>
            <hr />
            <h2 id="best-practices">Best Practices</h2>
            <h3 id="understand-the-data-and-workload">Understand the Data and Workload</h3>
            <ul>
                <li><strong>Data Distributions:</strong> Know the uniqueness and frequency of values in columns.</li>
                <li><strong>Query Patterns:</strong> Identify common queries and optimize for them.</li>
                <li><strong>Workload Types:</strong> OLTP (Online Transaction Processing) vs. OLAP (Online Analytical Processing) require different optimization strategies.</li>
            </ul>
            <h3 id="continuous-monitoring-and-tuning">Continuous Monitoring and Tuning</h3>
            <ul>
                <li><strong>Regularly Review Execution Plans:</strong> Detect changes in query performance.</li>
                <li><strong>Update Statistics:</strong> Ensure the optimizer has accurate information.</li>
                <li><strong>Adjust Indexes:</strong> Add, remove, or modify indexes based on usage patterns.</li>
            </ul>
            <h3 id="collaborate-with-developers-and-dbas">Collaborate with Developers and DBAs</h3>
            <ul>
                <li><strong>Code Reviews:</strong> Include SQL queries in code reviews.</li>
                <li><strong>Performance Testing:</strong> Test queries under realistic workloads.</li>
                <li><strong>Knowledge Sharing:</strong> Educate teams about best practices and new optimization techniques.</li>
            </ul>
            <hr />
            <h2 id="common-pitfalls-and-how-to-avoid-them">Common Pitfalls and How to Avoid Them</h2>
            <h3 id="over-indexing">Over-Indexing</h3>
            <p><strong>Issue:</strong></p>
            <ul>
                <li>Excessive indexes slow down write operations and consume storage.</li>
            </ul>
            <p><strong>Solution:</strong></p>
            <ul>
                <li><strong>Index Usage Analysis:</strong> Use database tools to identify unused indexes.</li>
                <li><strong>Balanced Indexing:</strong> Index only the columns that significantly improve query performance.</li>
            </ul>
            <h3 id="ignoring-execution-plans">Ignoring Execution Plans</h3>
            <p><strong>Issue:</strong></p>
            <ul>
                <li>Without reviewing execution plans, inefficient queries may go unnoticed.</li>
            </ul>
            <p><strong>Solution:</strong></p>
            <ul>
                <li><strong>Regular Analysis:</strong> Make it a routine to examine execution plans for critical queries.</li>
                <li><strong>Automated Tools:</strong> Utilize tools that alert on inefficient execution plans.</li>
            </ul>
            <h3 id="neglecting-to-update-statistics">Neglecting to Update Statistics</h3>
            <p><strong>Issue:</strong></p>
            <ul>
                <li>Outdated statistics lead to suboptimal execution plans.</li>
            </ul>
            <p><strong>Solution:</strong></p>
            <ul>
                <li><strong>Scheduled Updates:</strong> Regularly update statistics as part of maintenance.</li>
                <li><strong>Automatic Updates:</strong> Enable automatic statistic updates if supported.</li>
            </ul>
        </section>
        <div id="table-of-contents">
            <h2>Table of Contents</h2>
            <ol>
                <li><a href="#understanding-query-optimization">Understanding Query Optimization</a>
                    <ol>
                        <li><a href="#what-is-query-optimization-">What is Query Optimization?</a></li>
                        <li><a href="#why-is-query-optimization-important-">Why is Query Optimization Important?</a></li>
                    </ol>
                </li>
                <li><a href="#types-of-query-optimization">Types of Query Optimization</a>
                    <ol>
                        <li><a href="#heuristic-optimization">Heuristic Optimization</a></li>
                        <li><a href="#cost-based-optimization">Cost-Based Optimization</a></li>
                    </ol>
                </li>
                <li><a href="#key-query-optimization-techniques">Key Query Optimization Techniques</a>
                    <ol>
                        <li><a href="#indexing">Indexing</a></li>
                        <li><a href="#query-rewriting">Query Rewriting</a></li>
                        <li><a href="#join-optimization">Join Optimization</a></li>
                        <li><a href="#partitioning">Partitioning</a></li>
                        <li><a href="#materialized-views">Materialized Views</a></li>
                        <li><a href="#caching">Caching</a></li>
                        <li><a href="#parallelism">Parallelism</a></li>
                        <li><a href="#statistics-and-histograms">Statistics and Histograms</a></li>
                        <li><a href="#hints">Hints</a></li>
                    </ol>
                </li>
                <li><a href="#analyzing-query-performance">Analyzing Query Performance</a>
                    <ol>
                        <li><a href="#execution-plans">Execution Plans</a></li>
                        <li><a href="#identifying-bottlenecks">Identifying Bottlenecks</a></li>
                        <li><a href="#monitoring-tools">Monitoring Tools</a></li>
                    </ol>
                </li>
                <li><a href="#practical-examples">Practical Examples</a>
                    <ol>
                        <li><a href="#optimizing-a-slow-query">Optimizing a Slow Query</a></li>
                        <li><a href="#case-study-indexing-impact">Case Study: Indexing Impact</a></li>
                    </ol>
                </li>
                <li><a href="#best-practices">Best Practices</a>
                    <ol>
                        <li><a href="#understand-the-data-and-workload">Understand the Data and Workload</a></li>
                        <li><a href="#continuous-monitoring-and-tuning">Continuous Monitoring and Tuning</a></li>
                        <li><a href="#collaborate-with-developers-and-dbas">Collaborate with Developers and DBAs</a></li>
                    </ol>
                </li>
                <li><a href="#common-pitfalls-and-how-to-avoid-them">Common Pitfalls and How to Avoid Them</a>
                    <ol>
                        <li><a href="#over-indexing">Over-Indexing</a></li>
                        <li><a href="#ignoring-execution-plans">Ignoring Execution Plans</a></li>
                        <li><a href="#neglecting-to-update-statistics">Neglecting to Update Statistics</a></li>
                    </ol>
                </li>
            </ol>
            <div id="related-articles">
                <h2>Related Articles</h2>
                <ol>
                    <li>Introduction to Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/01_databases_intro.html">Databases Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/02_types_of_databases.html">Types of Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/03_database_management_systems_dbms_.html">Database Management Systems Dbms</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/04_data_models.html">Data Models</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/05_glossary.html">Glossary</a></li>
                        </ol>
                    </li>
                    <li>Database Design<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/01_requirements_analysis.html">Requirements Analysis</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/02_normalization.html">Normalization</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/03_denormalization.html">Denormalization</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/04_indexing_strategies.html">Indexing Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/05_data_integrity.html">Data Integrity</a></li>
                        </ol>
                    </li>
                    <li>Sql<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/01_intro_to_sql.html">Intro to Sql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/02_data_definition_language_ddl.html">Data Definition Language Ddl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/03_data_manipulation_language_dml.html">Data Manipulation Language Dml</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/04_data_control_language_dcl.html">Data Control Language Dcl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/05_transaction_control_language_tcl.html">Transaction Control Language Tcl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/06_joins_subqueries_and_views.html">Joins Subqueries and Views</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/07_stored_procedures_and_functions.html">Stored Procedures and Functions</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/08_triggers.html">Triggers</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/09_hierarchical_data.html">Hierarchical Data</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/10_aggregate_functions.html">Aggregate Functions</a></li>
                        </ol>
                    </li>
                    <li>Acid Properties and Transactions<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/01_transactions_intro.html">Transactions Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/02_atomicity.html">Atomicity</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/03_consistency.html">Consistency</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/04_isolation.html">Isolation</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/05_durability.html">Durability</a></li>
                        </ol>
                    </li>
                    <li>Storage and Indexing<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/01_how_tables_and_indexes_are_stored_on_disk.html">How Tables and Indexes Are Stored on Disk</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/02_row_based_vs_column_based_databases.html">Row Based vs Column Based Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/03_primary_key_vs_secondary_key.html">Primary Key vs Secondary Key</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/04_database_pages.html">Database Pages</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/05_indexing.html">Indexing</a></li>
                        </ol>
                    </li>
                    <li>Distributed Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/01_distributed_database_systems.html">Distributed Database Systems</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/02_partitioning.html">Partitioning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/03_sharding.html">Sharding</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/04_partitioning_vs_sharding.html">Partitioning vs Sharding</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/05_consistent_hashing.html">Consistent Hashing</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/06_cap_theorem.html">Cap Theorem</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/07_eventual_consistency.html">Eventual Consistency</a></li>
                        </ol>
                    </li>
                    <li>Concurrency Control<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/01_shared_vs_exclusive_locks.html">Shared vs Exclusive Locks</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/02_deadlocks.html">Deadlocks</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/03_two_phase_locking.html">Two Phase Locking</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/04_double_booking_problem.html">Double Booking Problem</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/05_serializable_vs_repeatable_read.html">Serializable vs Repeatable Read</a></li>
                        </ol>
                    </li>
                    <li>Database Performance<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/01_query_optimization_techniques.html">Query Optimization Techniques</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/02_indexing_strategies.html">Indexing Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/03_database_caching.html">Database Caching</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/04_materialized_views.html">Materialized Views</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/05_accessing_database_in_code.html">Accessing Database in Code</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/06_working_with_billion_row_table.html">Working with Billion Row Table</a></li>
                        </ol>
                    </li>
                    <li>Database Replication<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/01_intro_to_replication.html">Intro to Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/02_master_standby_replication.html">Master Standby Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/03_multi_master_replication.html">Multi Master Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/04_synchronous_vs_asynchronous_replication.html">Synchronous vs Asynchronous Replication</a></li>
                        </ol>
                    </li>
                    <li>Nosql Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/01_nosql_databases_intro.html">Nosql Databases Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/02_types_of_nosql_databases.html">Types of Nosql Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/03_querying_nosql_databases.html">Querying Nosql Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/04_crud_in_sql_vs_nosql.html">Crud in Sql vs Nosql</a></li>
                        </ol>
                    </li>
                    <li>Security Best Practices<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/01_backup_and_recovery_strategies.html">Backup and Recovery Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/02_database_security.html">Database Security</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/03_capacity_planning.html">Capacity Planning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/04_database_migration.html">Database Migration</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/05_performance_monitoring_and_tuning.html">Performance Monitoring and Tuning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/06_sql_injection.html">Sql Injection</a></li>
                        </ol>
                    </li>
                    <li>Database Engines<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/01_sqlite.html">Sqlite</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/02_mysql.html">Mysql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/03_postgresql.html">Postgresql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/04_mongodb.html">Mongodb</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/05_neo4_j.html">Neo4 J</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/06_aws_services.html">Aws Services</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/07_choosing_database.html">Choosing Database</a></li>
                        </ol>
                    </li>
                </ol>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer-columns">
            <div class="footer-column">
                <img alt="Adam Djellouli Symbol" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/symbol.png" />
            </div>
            <div class="footer-column">
                <h2><a href="https://adamdjellouli.com/core/privacy_policy.html" title="Privacy Policy">Our Privacy Policy</a></h2>
                <p>
                    Thank you for visiting my personal website. All of the <br />
                    content on this site is free to use, but please remember <br />
                    to be a good human being and refrain from any abuse<br />
                    of the site. If you would like to contact me, please use <br />
                    my <a href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" title="LinkedIn Profile">LinkedIn profile</a> or my <a href="https://github.com/djeada" title="GitHub Profile">GitHub</a> if you have any technical <br />
                    issues or ideas to share. I wish you the best and hope you <br />
                    have a fantastic life. <br />
                </p>
            </div>
            <div class="footer-column">
                <h2>Follow me</h2>
                <ul class="social-media">
                    <li>
                        <a class="fa fa-youtube" href="https://www.youtube.com/channel/UCGPoHTVjMN77wcGknXPHl1Q" target="_blank" title="YouTube">
                        </a>YouTube
                    </li>
                    <li>
                        <a class="fa fa-linkedin" href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" target="_blank" title="LinkedIn">
                        </a>LinkedIn
                    </li>
                    <li>
                        <a class="fa fa-instagram" href="https://www.instagram.com/linuxchallenges/" target="_blank" title="Instagram">
                        </a>Instagram
                    </li>
                    <li>
                        <a class="fa fa-github" href="https://github.com/djeada" title="GitHub">
                        </a>Github
                    </li>
                </ul>
            </div>
        </div>
        <div>
            <p id="copyright">
                Â© Adam Djellouli. All rights reserved.
            </p>
        </div>
        <script>
            document.getElementById("copyright").innerHTML = "&copy; " + new Date().getFullYear() + " Adam Djellouli. All rights reserved.";
        </script>
        <script src="../../../app.js"></script>
    </footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-cpp.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
extensions: ["tex2jax.js"],
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
tex2jax: { inlineMath: [ ["$", "$"] ], displayMath: [ ["$$","$$"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
messageStyle: "none"
});
</script>
<script async="" id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

</html>