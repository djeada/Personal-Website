<!DOCTYPE html>

<html lang="en">

<head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5593122079896089"></script>
    <meta charset="utf-8" />
    <title>Stored Procedures and Functions</title>
    <meta content="In the realm of relational databases, stored procedures and functions are powerful tools that allow developers to encapsulate reusable pieces of SQL code." name="description" />
    <meta content="Adam Djellouli" name="author" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/icon.ico" rel="icon" />
    <link href="../../../resources/style.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://adamdjellouli.com/articles/databases_notes/03_sql/07_stored_procedures_and_functions" rel="canonical" />
    <script id="structured-data" type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "Stored Procedures and Functions",
            "author": {
                "@type": "Person",
                "name": "Adam Djellouli"
            },
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://adamdjellouli.com/articles/databases_notes/03_sql/07_stored_procedures_and_functions"
            },
            "url": "https://adamdjellouli.com/articles/databases_notes/03_sql/07_stored_procedures_and_functions",
            "description": "In the realm of relational databases, stored procedures and functions are powerful tools that allow developers to encapsulate reusable pieces of SQL code.",
            "dateModified": "2019-06-19"
        }
    </script>
</head>

<body>
    <nav aria-label="Main navigation">
        <a class="logo" href="../../../index.html">
            <img alt="Adam Djellouli - Home Page Logo" id="logo-image" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/logo.PNG" />
        </a>
        <input aria-label="Toggle navigation menu" id="navbar-toggle" type="checkbox" />
        <ul aria-labelledby="navbar-toggle" role="menu">
            <li role="menuitem">
                <a href="../../../index.html" title="Go to Home Page"> Home </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/blog.html" title="Read Adam Djellouli Blog on Programming and Technology"> Blog </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/tools.html" title="Discover Tools Created by Adam Djellouli"> Tools </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/projects.html" title="Explore Projects Developed by Adam Djellouli"> Projects </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/courses.html" title="Browse Courses by Adam Djellouli"> Courses </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/resume.html" title="View Adam Djellouli Professional Resume"> Resume </a>
            </li>
            <li>
                <script async="" src="https://cse.google.com/cse.js?cx=8160ef9bb935f4f68"></script>
                <div class="gcse-search"></div>
            </li>
            <li>
                <button aria-label="Toggle dark mode" id="dark-mode-button"></button>
            </li>
        </ul>
    </nav>
    <div id="article-wrapper"><article-section id="article-body">
            <div class="article-action-buttons"><button class="btn-suggest-edit" title="Suggest Edit">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M4 21h4l11-11-4-4L4 17v4z" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button><button class="btn-create-issue" title="Create Issue">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"></circle>
                        <line stroke="currentColor" stroke-width="2" x1="12" x2="12" y1="8" y2="12"></line>
                        <circle cx="12" cy="16" fill="currentColor" r="1"></circle>
                    </svg>
                </button><button class="btn-download" title="Download">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M12 5v14m0 0l-6-6m6 6l6-6" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button></div>
            <p style="text-align: right;"><i>Last modified: June 19, 2019</i></p>
            <p style="text-align: right;"><i>This article is written in: üá∫üá∏</i></p>
            <h2 id="stored-procedures-and-functions">Stored Procedures and Functions</h2>
            <p>In the realm of relational databases, stored procedures and functions are powerful tools that allow developers to encapsulate reusable pieces of SQL code. They enhance performance by caching execution plans, promote code reusability, and keep business logic close to the data. By understanding how to create and use stored procedures and functions, you can write more efficient and maintainable database applications.</p>
            <h3 id="stored-procedures">Stored Procedures</h3>
            <p>A <strong>stored procedure</strong> is a pre-compiled collection of one or more SQL statements (plus optional control-of-flow logic) saved in the database under a single name. Procedures can</p>
            <ul>
                <li>accept <strong>input</strong> parameters,</li>
                <li>return <strong>output</strong> parameters (scalars),</li>
                <li>and/or return <strong>result sets</strong> (tables).</li>
            </ul>
            <p>They shine when you need to run the same multi-statement operation repeatedly or enforce consistent business rules.</p>
            <h4 id="advantages-of-stored-procedures">Advantages of Stored Procedures</h4>
            <p>
            <table>
                <tr>
                    <td>Benefit</td>
                    <td>Why it matters</td>
                </tr>
                <tr>
                    <td>Performance</td>
                    <td>Execution plan is compiled once and reused, reducing parsing/optimization overhead.</td>
                </tr>
                <tr>
                    <td>Reusability</td>
                    <td>One definition can be called from many places (apps, jobs, other procs).</td>
                </tr>
                <tr>
                    <td>Security</td>
                    <td>GRANT rights on the procedure even if callers have no direct rights on the tables it touches.</td>
                </tr>
                <tr>
                    <td>Maintainability</td>
                    <td>Fix or extend business logic in one spot without redeploying application code.</td>
                </tr>
            </table>
            </p>
            <h4 id="example-schema-seed-data">Example Schema &amp; Seed Data</h4>
            <p>To make our examples concrete, we‚Äôll first create a simple <code>Customers</code> table and insert a couple of rows. This seed data will serve as the foundation for demonstrating stored procedure operations.</p>
            <div>
                <pre><code class="language-sql">-- Customers table used in the examples
CREATE TABLE dbo.Customers
(
    CustomerID INT IDENTITY(1,1) PRIMARY KEY,
    FirstName  VARCHAR(50) NOT NULL,
    LastName   VARCHAR(50) NOT NULL,
    Email      VARCHAR(100) UNIQUE,
    Phone      VARCHAR(20) NULL
);

-- A couple of starter rows
INSERT INTO dbo.Customers (FirstName, LastName, Email, Phone) VALUES
('Alice', 'Smith', 'alice.smith@example.com', '555-0100'),
('Bob',   'Brown', 'bob.brown@example.com',  '555-0110');</code></pre>
            </div>
            <p><em>Current contents before we add anything else:</em></p>
            <p>
            <table>
                <tr>
                    <td>CustomerID</td>
                    <td>FirstName</td>
                    <td>LastName</td>
                    <td>Email</td>
                    <td>Phone</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Alice</td>
                    <td>Smith</td>
                    <td><a href="mailto:alice.smith@example.com">alice.smith@example.com</a></td>
                    <td>555-0100</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Bob</td>
                    <td>Brown</td>
                    <td><a href="mailto:bob.brown@example.com">bob.brown@example.com</a></td>
                    <td>555-0110</td>
                </tr>
            </table>
            </p>
            <h4 id="creating-a-stored-procedure">Creating a Stored Procedure</h4>
            <p>Creating a stored procedure involves specifying its name, parameters, and the logic to execute. The example below defines a procedure to insert a new customer and return its generated primary key.</p>
            <div>
                <pre><code class="language-sql">CREATE PROCEDURE dbo.AddCustomer
    @FirstName  VARCHAR(50),
    @LastName   VARCHAR(50),
    @Email      VARCHAR(100),
    @CustomerID INT OUTPUT      -- Returns the newly created PK
AS
BEGIN
    SET NOCOUNT ON;

    INSERT INTO dbo.Customers (FirstName, LastName, Email)
    VALUES (@FirstName, @LastName, @Email);

    -- Return the identity generated in THIS scope
    SET @CustomerID = SCOPE_IDENTITY();
END;</code></pre>
            </div>
            <ul>
                <li><code>SET NOCOUNT ON;</code> keeps the ‚Äú(1 row affected)‚Äù message from interfering with client libraries expecting a clean result set.</li>
                <li><code>SCOPE_IDENTITY()</code> is safer than <code>@@IDENTITY</code> because it ignores inserts done by triggers further down the chain.</li>
            </ul>
            <h4 id="calling-the-stored-procedure">Calling the Stored Procedure</h4>
            <p>Once created, you invoke a stored procedure using <code>EXEC</code> (or <code>EXECUTE</code>). You can pass input values and capture any output parameters. The example below adds ‚ÄúJohn Doe‚Äù to our <code>Customers</code> table and retrieves the new ID.</p>
            <div>
                <pre><code class="language-sql">DECLARE @NewID INT;

EXEC dbo.AddCustomer
     @FirstName  = 'John',
     @LastName   = 'Doe',
     @Email      = 'john.doe@example.com',
     @CustomerID = @NewID OUTPUT;

SELECT @NewID AS NewCustomerID;</code></pre>
            </div>
            <p><em>Sample output:</em></p>
            <p>
            <table>
                <tr>
                    <td>NewCustomerID</td>
                </tr>
                <tr>
                    <td>3</td>
                </tr>
            </table>
            </p>
            <p><em>Table contents afterwards:</em></p>
            <p>
            <table>
                <tr>
                    <td>CustomerID</td>
                    <td>FirstName</td>
                    <td>LastName</td>
                    <td>Email</td>
                    <td>Phone</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Alice</td>
                    <td>Smith</td>
                    <td><a href="mailto:alice.smith@example.com">alice.smith@example.com</a></td>
                    <td>555-0100</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Bob</td>
                    <td>Brown</td>
                    <td><a href="mailto:bob.brown@example.com">bob.brown@example.com</a></td>
                    <td>555-0110</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>John</td>
                    <td>Doe</td>
                    <td><a href="mailto:john.doe@example.com">john.doe@example.com</a></td>
                    <td><strong>NULL</strong></td>
                </tr>
            </table>
            </p>
            <h4 id="modifying-a-stored-procedure">Modifying a Stored Procedure</h4>
            <p>As requirements evolve, you can alter an existing procedure to accept new parameters or change logic without dropping and recreating it. Here we add a <code>Phone</code> parameter so the procedure can store customer phone numbers as well.</p>
            <div>
                <pre><code class="language-sql">ALTER PROCEDURE dbo.AddCustomer
    @FirstName  VARCHAR(50),
    @LastName   VARCHAR(50),
    @Email      VARCHAR(100),
    @Phone      VARCHAR(20),     -- NEW parameter
    @CustomerID INT OUTPUT
AS
BEGIN
    SET NOCOUNT ON;

    INSERT INTO dbo.Customers (FirstName, LastName, Email, Phone)
    VALUES (@FirstName, @LastName, @Email, @Phone);

    SET @CustomerID = SCOPE_IDENTITY();
END;</code></pre>
            </div>
            <p><em>New call using the updated procedure:</em></p>
            <div>
                <pre><code class="language-sql">DECLARE @NewID INT;

EXEC dbo.AddCustomer
     @FirstName  = 'Carla',
     @LastName   = 'Mendez',
     @Email      = 'carla.mendez@example.com',
     @Phone      = '555-0122',
     @CustomerID = @NewID OUTPUT;

SELECT @NewID AS NewCustomerID;</code></pre>
            </div>
            <p>
            <table>
                <tr>
                    <td>NewCustomerID</td>
                </tr>
                <tr>
                    <td>4</td>
                </tr>
            </table>
            </p>
            <p>
            <table>
                <tr>
                    <td>CustomerID</td>
                    <td>FirstName</td>
                    <td>LastName</td>
                    <td>Email</td>
                    <td>Phone</td>
                </tr>
                <tr>
                    <td>‚Ä¶</td>
                    <td>‚Ä¶</td>
                    <td>‚Ä¶</td>
                    <td>‚Ä¶</td>
                    <td>‚Ä¶</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Carla</td>
                    <td>Mendez</td>
                    <td><a href="mailto:carla.mendez@example.com">carla.mendez@example.com</a></td>
                    <td>555-0122</td>
                </tr>
            </table>
            </p>
            <h4 id="deleting-a-stored-procedure">Deleting a Stored Procedure</h4>
            <p>If a stored procedure is no longer needed or must be replaced entirely, you can drop it from the database. Be cautious‚Äîdependent code will break until it‚Äôs recreated.</p>
            <div>
                <pre><code class="language-sql">DROP PROCEDURE dbo.AddCustomer;</code></pre>
            </div>
            <blockquote>
                <p><strong>Irreversible:</strong> once dropped, dependent code will fail until the procedure is recreated.</p>
            </blockquote>
            <h3 id="functions">Functions</h3>
            <p>Functions in SQL Server let you encapsulate reusable logic that computes and returns a value or a table. Unlike stored procedures, functions can be embedded directly within queries‚Äîsuch as in <code>SELECT</code>, <code>WHERE</code>, or <code>JOIN</code> clauses‚Äîmaking them highly composable. They‚Äôre ideal for encapsulating calculations, formatting routines, or filtering logic that you want to reuse across multiple queries or views.</p>
            <p>A <strong>function</strong> encapsulates logic that returns <strong>exactly one</strong> scalar value or a <strong>table</strong>. Unlike procedures, functions can be used inline in <code>SELECT</code>, <code>WHERE</code>, or <code>JOIN</code> clauses. They cannot use side-effects such as <code>INSERT</code>/<code>UPDATE</code> (with the exception of special CLR or system functions).</p>
            <h4 id="types-of-functions">Types of Functions</h4>
            <p>SQL Server supports several function types, each suited to different scenarios. Scalar functions return a single value, while table-valued functions return result sets that you can query as if they were regular tables or views. Multi-statement TVFs allow more complex row-by-row processing but can incur more overhead.</p>
            <p>
            <table>
                <tr>
                    <td>Type</td>
                    <td>Returns</td>
                    <td>Typical use-case</td>
                </tr>
                <tr>
                    <td>Scalar</td>
                    <td>Single value</td>
                    <td>Calculations, formatting, lookups</td>
                </tr>
                <tr>
                    <td>Inline table-valued (iTVF)</td>
                    <td>Table defined by one <code>SELECT</code></td>
                    <td>Reusable filtered views</td>
                </tr>
                <tr>
                    <td>Multi-statement TVF</td>
                    <td>Table assembled through multiple steps</td>
                    <td>Complex row-by-row transformations</td>
                </tr>
            </table>
            </p>
            <h4 id="advantages-of-functions">Advantages of Functions</h4>
            <p>Functions promote modularity and code reuse by abstracting complex computations behind a simple call. Inline TVFs, in particular, can yield performance benefits because the optimizer can expand them directly into the calling query.</p>
            <ul>
                <li><strong>Reusability &amp; abstraction</strong> ‚Äì one central definition of complex math or business rules.</li>
                <li><strong>Composable</strong> ‚Äì drop straight into any expression, <code>JOIN</code>, or view.</li>
                <li><strong>Potential performance win</strong> ‚Äì especially inline TVFs, which the optimizer can treat almost like a view.</li>
            </ul>
            <h4 id="example-schema-seed-data-for-functions">Example Schema &amp; Seed Data for Functions</h4>
            <p>To illustrate functions, we‚Äôll create a basic <code>Orders</code> table linked to our <code>Customers</code> table and populate it with sample orders. This provides a dataset for demonstrating both scalar and table-valued functions.</p>
            <div>
                <pre><code class="language-sql">-- Orders table used in the examples
CREATE TABLE dbo.Orders
(
    OrderID    INT IDENTITY(1,1) PRIMARY KEY,
    CustomerID INT       NOT NULL FOREIGN KEY REFERENCES dbo.Customers(CustomerID),
    OrderDate  DATE      NOT NULL,
    Amount     DECIMAL(10,2) NOT NULL
);

INSERT INTO dbo.Orders (CustomerID, OrderDate, Amount) VALUES
(1, '2025-05-01', 120.00),
(1, '2025-05-03',  60.50),
(3, '2025-05-04', 210.75);</code></pre>
            </div>
            <p>
            <table>
                <tr>
                    <td>OrderID</td>
                    <td>CustomerID</td>
                    <td>OrderDate</td>
                    <td>Amount</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>1</td>
                    <td>2025-05-01</td>
                    <td>120.00</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>1</td>
                    <td>2025-05-03</td>
                    <td>60.50</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>3</td>
                    <td>2025-05-04</td>
                    <td>210.75</td>
                </tr>
            </table>
            </p>
            <h4 id="creating-a-scalar-function">Creating a <strong>Scalar</strong> Function</h4>
            <p>Scalar functions let you encapsulate formulae or lookups that return a single value. In the example below, we calculate sales tax based on an amount and tax rate.</p>
            <div>
                <pre><code class="language-sql">CREATE FUNCTION dbo.CalculateTax
(
    @Amount   DECIMAL(10,2),
    @TaxRate  DECIMAL(5,2)   -- e.g. 8.25 means 8.25 %
)
RETURNS DECIMAL(10,2)
AS
BEGIN
    RETURN @Amount * (@TaxRate / 100);
END;</code></pre>
            </div>
            <p><em>Usage ‚Äì compute sales tax in a query:</em></p>
            <div>
                <pre><code class="language-sql">SELECT
    OrderID,
    Amount,
    dbo.CalculateTax(Amount, 8.25) AS TaxAmount
FROM dbo.Orders;</code></pre>
            </div>
            <p>
            <table>
                <tr>
                    <td>OrderID</td>
                    <td>Amount</td>
                    <td>TaxAmount</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>120.00</td>
                    <td>9.90</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>60.50</td>
                    <td>4.99</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>210.75</td>
                    <td>17.38</td>
                </tr>
            </table>
            </p>
            <h4 id="creating-an-inline-table-valued-function">Creating an <strong>Inline Table-Valued</strong> Function</h4>
            <p>Inline TVFs are essentially parameterized views. You define a single <code>SELECT</code> that returns a result set. The optimizer can integrate this directly into your queries for efficient execution.</p>
            <div>
                <pre><code class="language-sql">CREATE FUNCTION dbo.GetCustomerOrders (@CustomerID INT)
RETURNS TABLE
AS
RETURN
(
    SELECT OrderID, OrderDate, Amount
    FROM   dbo.Orders
    WHERE  CustomerID = @CustomerID
);</code></pre>
            </div>
            <p><em>Querying orders for customer #1:</em></p>
            <div>
                <pre><code class="language-sql">SELECT *
FROM dbo.GetCustomerOrders(1);</code></pre>
            </div>
            <p>
            <table>
                <tr>
                    <td>OrderID</td>
                    <td>OrderDate</td>
                    <td>Amount</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2025-05-01</td>
                    <td>120.00</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>2025-05-03</td>
                    <td>60.50</td>
                </tr>
            </table>
            </p>
            <h4 id="modifying-a-function">Modifying a Function</h4>
            <p>When you need to extend or tweak logic, you can alter an existing function. For example, adding a discount parameter to our tax calculation function allows for more flexible scenarios.</p>
            <div>
                <pre><code class="language-sql">ALTER FUNCTION dbo.CalculateTax
(
    @Amount    DECIMAL(10,2),
    @TaxRate   DECIMAL(5,2),
    @Discount  DECIMAL(10,2) = 0  -- default 0
)
RETURNS DECIMAL(10,2)
AS
BEGIN
    RETURN (@Amount - @Discount) * (@TaxRate / 100);
END;</code></pre>
            </div>
            <p><em>Test the new logic:</em></p>
            <div>
                <pre><code class="language-sql">SELECT dbo.CalculateTax(100.00, 8.25, 10.00) AS TaxOnDiscounted100;</code></pre>
            </div>
            <p>
            <table>
                <tr>
                    <td>TaxOnDiscounted100</td>
                </tr>
                <tr>
                    <td>7.43</td>
                </tr>
            </table>
            </p>
            <h4 id="deleting-a-function">Deleting a Function</h4>
            <p>If a function is obsolete or must be replaced entirely, you can remove it with <code>DROP</code>. As with stored procedures, any dependent code will break until the function is recreated.</p>
            <div>
                <pre><code class="language-sql">DROP FUNCTION dbo.CalculateTax;</code></pre>
            </div>
            <h4 id="differences-between-stored-procedures-and-functions">Differences Between Stored Procedures and Functions</h4>
            <ul>
                <li>Functions are required to return a value, which can be scalar, table, or any defined data type, whereas stored procedures are not obligated to return a value but can use output parameters or return result sets.</li>
                <li>Functions can be directly used within SQL expressions, such as in <code>SELECT</code> or <code>WHERE</code> clauses, while stored procedures must be invoked independently and cannot be part of an SQL expression.</li>
                <li>Stored procedures can have side effects as they can modify the database state through operations like <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code>, whereas functions are typically designed to be deterministic and avoid modifying database state.</li>
            </ul>
            <h4 id="best-practices">Best Practices</h4>
            <ul>
                <li>Ensure naming conventions are consistent and descriptive, often beginning with verbs like <code>Get</code>, <code>Add</code>, <code>Update</code>, or <code>Calculate</code>, to clarify their purpose.</li>
                <li>Validate all input parameters within the procedure or function to prevent errors and ensure proper operation.</li>
                <li>Include robust error handling by using <code>TRY...CATCH</code> blocks to gracefully handle and log exceptions during execution.</li>
                <li>Assign appropriate permissions to procedures and functions to ensure secure access and protect sensitive data from unauthorized use.</li>
                <li><strong>Name objects with schema prefixes</strong> (<code>dbo.AddCustomer</code>) to avoid ambiguity.</li>
                <li><strong>Use <code>SET NOCOUNT ON;</code></strong> inside procs to reduce unnecessary network traffic.</li>
                <li><strong>Favor inline TVFs</strong> over multi-statement TVFs when possible; they integrate more cleanly with the optimizer.</li>
                <li><strong>Keep business rules in one place</strong> ‚Äì either in your procedures/functions <em>or</em> in application code, but avoid duplicating logic.</li>
                <li><strong>Version-control your DDL</strong> just like application code so changes are traceable and repeatable.</li>
            </ul>
        </article-section>
        <aside id="article-sidebar">
            <div id="table-of-contents">
                <h2>Table of Contents</h2>
                <ol><a href="#stored-procedures-and-functions">Stored Procedures and Functions</a>
                    <ol>
                        <li><a href="#stored-procedures">Stored Procedures</a>
                            <ol>
                                <li><a href="#advantages-of-stored-procedures">Advantages of Stored Procedures</a></li>
                                <li><a href="#example-schema-seed-data">Example Schema &amp; Seed Data</a></li>
                                <li><a href="#creating-a-stored-procedure">Creating a Stored Procedure</a></li>
                                <li><a href="#calling-the-stored-procedure">Calling the Stored Procedure</a></li>
                                <li><a href="#modifying-a-stored-procedure">Modifying a Stored Procedure</a></li>
                                <li><a href="#deleting-a-stored-procedure">Deleting a Stored Procedure</a></li>
                            </ol>
                        </li>
                        <li><a href="#functions">Functions</a>
                            <ol>
                                <li><a href="#types-of-functions">Types of Functions</a></li>
                                <li><a href="#advantages-of-functions">Advantages of Functions</a></li>
                                <li><a href="#example-schema-seed-data-for-functions">Example Schema &amp; Seed Data for Functions</a></li>
                                <li><a href="#creating-a-scalar-function">Creating a Scalar Function</a></li>
                                <li><a href="#creating-an-inline-table-valued-function">Creating an Inline Table-Valued Function</a></li>
                                <li><a href="#modifying-a-function">Modifying a Function</a></li>
                                <li><a href="#deleting-a-function">Deleting a Function</a></li>
                                <li><a href="#differences-between-stored-procedures-and-functions">Differences Between Stored Procedures and Functions</a></li>
                                <li><a href="#best-practices">Best Practices</a></li>
                            </ol>
                        </li>
                    </ol>
                </ol>
            </div>
            <div id="related-articles">
                <h2>Related Articles</h2>
                <ol>
                    <li>Introduction to Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/01_databases_intro.html">Databases Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/02_types_of_databases.html">Types of Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/03_database_management_systems_dbms_.html">Database Management Systems Dbms</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/04_data_models.html">Data Models</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/05_glossary.html">Glossary</a></li>
                        </ol>
                    </li>
                    <li>Database Design<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/01_requirements_analysis.html">Requirements Analysis</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/02_normalization.html">Normalization</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/03_denormalization.html">Denormalization</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/04_indexing_strategies.html">Indexing Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/05_data_integrity.html">Data Integrity</a></li>
                        </ol>
                    </li>
                    <li>Sql<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/01_intro_to_sql.html">Intro to Sql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/02_data_definition_language_ddl.html">Data Definition Language Ddl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/03_data_manipulation_language_dml.html">Data Manipulation Language Dml</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/04_data_control_language_dcl.html">Data Control Language Dcl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/05_transaction_control_language_tcl.html">Transaction Control Language Tcl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/06_joins_subqueries_and_views.html">Joins Subqueries and Views</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/07_stored_procedures_and_functions.html">Stored Procedures and Functions</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/08_triggers.html">Triggers</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/09_hierarchical_data.html">Hierarchical Data</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/10_aggregate_functions.html">Aggregate Functions</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/11_window_functions.html">Window Functions</a></li>
                        </ol>
                    </li>
                    <li>Acid Properties and Transactions<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/01_transactions_intro.html">Transactions Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/02_atomicity.html">Atomicity</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/03_consistency.html">Consistency</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/04_isolation.html">Isolation</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/05_durability.html">Durability</a></li>
                        </ol>
                    </li>
                    <li>Storage and Indexing<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/01_how_tables_and_indexes_are_stored_on_disk.html">How Tables and Indexes Are Stored on Disk</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/02_row_based_vs_column_based_databases.html">Row Based vs Column Based Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/03_primary_key_vs_secondary_key.html">Primary Key vs Secondary Key</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/04_database_pages.html">Database Pages</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/05_indexing.html">Indexing</a></li>
                        </ol>
                    </li>
                    <li>Distributed Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/01_distributed_database_systems.html">Distributed Database Systems</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/02_partitioning.html">Partitioning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/03_sharding.html">Sharding</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/04_partitioning_vs_sharding.html">Partitioning vs Sharding</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/05_consistent_hashing.html">Consistent Hashing</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/06_cap_theorem.html">Cap Theorem</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/07_eventual_consistency.html">Eventual Consistency</a></li>
                        </ol>
                    </li>
                    <li>Concurrency Control<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/01_shared_vs_exclusive_locks.html">Shared vs Exclusive Locks</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/02_deadlocks.html">Deadlocks</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/03_two_phase_locking.html">Two Phase Locking</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/04_double_booking_problem.html">Double Booking Problem</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/05_serializable_vs_repeatable_read.html">Serializable vs Repeatable Read</a></li>
                        </ol>
                    </li>
                    <li>Database Performance<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/01_query_optimization_techniques.html">Query Optimization Techniques</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/02_indexing_strategies.html">Indexing Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/03_database_caching.html">Database Caching</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/04_materialized_views.html">Materialized Views</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/05_accessing_database_in_code.html">Accessing Database in Code</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/06_working_with_billion_row_table.html">Working with Billion Row Table</a></li>
                        </ol>
                    </li>
                    <li>Database Replication<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/01_intro_to_replication.html">Intro to Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/02_master_standby_replication.html">Master Standby Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/03_multi_master_replication.html">Multi Master Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/04_synchronous_vs_asynchronous_replication.html">Synchronous vs Asynchronous Replication</a></li>
                        </ol>
                    </li>
                    <li>Nosql Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/01_nosql_databases_intro.html">Nosql Databases Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/02_types_of_nosql_databases.html">Types of Nosql Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/03_querying_nosql_databases.html">Querying Nosql Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/04_crud_in_sql_vs_nosql.html">Crud in Sql vs Nosql</a></li>
                        </ol>
                    </li>
                    <li>Security Best Practices<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/01_backup_and_recovery_strategies.html">Backup and Recovery Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/02_database_security.html">Database Security</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/03_capacity_planning.html">Capacity Planning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/04_database_migration.html">Database Migration</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/05_performance_monitoring_and_tuning.html">Performance Monitoring and Tuning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/06_sql_injection.html">Sql Injection</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/07_crash_recovery_in_databases.html">Crash Recovery in Databases</a></li>
                        </ol>
                    </li>
                    <li>Database Engines<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/01_sqlite.html">Sqlite</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/02_mysql.html">Mysql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/03_postgresql.html">Postgresql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/04_mongodb.html">Mongodb</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/05_neo4j.html">Neo4J</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/06_aws_services.html">Aws Services</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/07_choosing_database.html">Choosing Database</a></li>
                        </ol>
                    </li>
                </ol>
            </div>
        </aside>
    </div>
    <footer>
        <div class="footer-columns">
            <div class="footer-column footer-about">
                <h2>About</h2>
                <p class="footer-message">Thanks for stopping by. This site is free to use; please be respectful and avoid misuse. For questions or collaboration, reach me on <a href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" title="LinkedIn Profile">LinkedIn</a> or <a href="https://github.com/djeada" title="GitHub Profile">GitHub</a>.</p>
                <p class="footer-signature">Built with care in Berlin (UTC+1).</p>
            </div>
            <div class="footer-column footer-links">
                <h2>Quick Links</h2>
                <ul class="footer-links-list">
                    <li><a href="https://adamdjellouli.com/index.html" title="Home">Home</a></li>
                    <li><a href="https://adamdjellouli.com/core/projects.html" title="Projects">Projects</a></li>
                    <li><a href="https://adamdjellouli.com/core/tools.html" title="Tools">Tools</a></li>
                    <li><a href="https://adamdjellouli.com/core/courses.html" title="Courses">Courses</a></li>
                    <li><a href="https://adamdjellouli.com/core/resume.html" title="Resume">Resume</a></li>
                    <li><a href="https://adamdjellouli.com/core/privacy_policy.html" title="Privacy Policy">Privacy Policy</a></li>
                    <li><a href="https://adamdjellouli.com/sitemap.xml" title="Sitemap">Sitemap</a></li>
                </ul>
            </div>
            <div class="footer-column footer-social">
                <h2>Follow</h2>
                <ul class="social-media">
                    <li>
                        <a aria-label="YouTube" class="fa fa-youtube" href="https://www.youtube.com/channel/UCGPoHTVjMN77wcGknXPHl1Q" rel="noopener" target="_blank" title="YouTube"></a>
                        <span class="social-label">YouTube</span>
                    </li>
                    <li>
                        <a aria-label="LinkedIn" class="fa fa-linkedin" href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" rel="noopener" target="_blank" title="LinkedIn"></a>
                        <span class="social-label">LinkedIn</span>
                    </li>
                    <li>
                        <a aria-label="Instagram" class="fa fa-instagram" href="https://www.instagram.com/linuxchallenges/" rel="noopener" target="_blank" title="Instagram"></a>
                        <span class="social-label">Instagram</span>
                    </li>
                    <li>
                        <a aria-label="GitHub" class="fa fa-github" href="https://github.com/djeada" title="GitHub"></a>
                        <span class="social-label">GitHub</span>
                    </li>
                </ul>
                <img alt="" aria-hidden="true" class="footer-mark" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/symbol.png" />
            </div>
        </div>
        <div class="footer-bottom">
            <p id="copyright">
                ¬© Adam Djellouli. All rights reserved.
            </p>
        </div>
        <script>
            document.getElementById("copyright").innerHTML = "&copy; " + new Date().getFullYear() + " Adam Djellouli. All rights reserved.";
        </script>
        <script src="/app.js"></script>
    </footer>
    <div id="pdf-spinner-overlay">
        <div class="spinner"></div>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-cpp.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
extensions: ["tex2jax.js"],
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
tex2jax: { inlineMath: [ ["$", "$"] ], displayMath: [ ["$$","$$"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
messageStyle: "none"
});
</script>
<script async="" id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

</html>