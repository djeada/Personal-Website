<!DOCTYPE html>

<html lang="en">

<head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5593122079896089"></script>
    <meta charset="utf-8" />
    <title>Consistency in Database Transactions</title>
    <meta content="Consistency is a principle in database systems that ensures data remains accurate, valid, and reliable throughout all transactions." name="description" />
    <meta content="Adam Djellouli" name="author" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/icon.ico" rel="icon" />
    <link href="../../../resources/style.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/03_consistency" rel="canonical" />
    <script id="structured-data" type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "Consistency in Database Transactions",
            "author": {
                "@type": "Person",
                "name": "Adam Djellouli"
            },
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/03_consistency"
            },
            "url": "https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/03_consistency",
            "description": "Consistency is a principle in database systems that ensures data remains accurate, valid, and reliable throughout all transactions.",
            "dateModified": "2025-12-24"
        }
    </script>
</head>

<body>
    <nav aria-label="Main navigation">
        <a class="logo" href="../../../index.html">
            <img alt="Adam Djellouli - Home Page Logo" id="logo-image" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/logo.PNG" />
        </a>
        <input aria-label="Toggle navigation menu" id="navbar-toggle" type="checkbox" />
        <ul aria-labelledby="navbar-toggle" role="menu">
            <li role="menuitem">
                <a href="../../../index.html" title="Go to Home Page"> Home </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/blog.html" title="Read Adam Djellouli Blog on Programming and Technology"> Blog </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/tools.html" title="Discover Tools Created by Adam Djellouli"> Tools </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/projects.html" title="Explore Projects Developed by Adam Djellouli"> Projects </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/courses.html" title="Browse Courses by Adam Djellouli"> Courses </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/resume.html" title="View Adam Djellouli Professional Resume"> Resume </a>
            </li>
            <li>
                <script async="" src="https://cse.google.com/cse.js?cx=8160ef9bb935f4f68"></script>
                <div class="gcse-search"></div>
            </li>
            <li>
                <button aria-label="Toggle dark mode" id="dark-mode-button"></button>
            </li>
        </ul>
    </nav>
    <div id="article-wrapper">
        <aside id="article-sidebar">
            <div id="table-of-contents">
                <h2>Table of Contents</h2>
                <ol><a href="#consistency-in-database-transactions">Consistency in Database Transactions</a>
                    <ol>
                        <li><a href="#the-importance-of-consistency">The Importance of Consistency</a>
                            <ol>
                                <li><a href="#preserving-data-integrity">Preserving Data Integrity</a></li>
                                <li><a href="#preventing-errors-and-conflicts">Preventing Errors and Conflicts</a></li>
                            </ol>
                        </li>
                        <li><a href="#real-world-examples">Real-World Examples</a>
                            <ol>
                                <li><a href="#enforcing-unique-constraints">Enforcing Unique Constraints</a></li>
                                <li><a href="#maintaining-foreign-key-relationships">Maintaining Foreign Key Relationships</a></li>
                                <li><a href="#applying-domain-constraints">Applying Domain Constraints</a></li>
                            </ol>
                        </li>
                        <li><a href="#mechanisms-for-ensuring-consistency">Mechanisms for Ensuring Consistency</a>
                            <ol>
                                <li><a href="#transaction-isolation-levels">Transaction Isolation Levels</a></li>
                                <li><a href="#concurrency-control-techniques">Concurrency Control Techniques</a></li>
                            </ol>
                        </li>
                        <li><a href="#visualizing-consistency-in-action">Visualizing Consistency in Action</a></li>
                        <li><a href="#consistency-in-sql-transactions">Consistency in SQL Transactions</a></li>
                        <li><a href="#defining-constraints-in-tables">Defining Constraints in Tables</a></li>
                        <li><a href="#example-enforcing-unique-and-foreign-key-constraints">Example: Enforcing Unique and Foreign Key Constraints</a>
                            <ol>
                                <li><a href="#how-consistency-is-preserved">How Consistency Is Preserved</a></li>
                            </ol>
                        </li>
                        <li><a href="#example-transaction-checking-consistency">Example: Transaction Checking Consistency</a></li>
                        <li><a href="#using-check-constraints">Using Check Constraints</a></li>
                        <li><a href="#atomicity-vs-consistency">Atomicity vs. Consistency</a></li>
                    </ol>
                </ol>
            </div>
            <div id="related-articles">
                <h2>Related Articles</h2>
                <ol>
                    <li>Introduction to Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/01_databases_intro.html">Databases Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/02_types_of_databases.html">Types of Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/03_database_management_systems_dbms_.html">Database Management Systems Dbms</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/04_data_models.html">Data Models</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/05_glossary.html">Glossary</a></li>
                        </ol>
                    </li>
                    <li>Database Design<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/01_requirements_analysis.html">Requirements Analysis</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/02_normalization.html">Normalization</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/03_denormalization.html">Denormalization</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/04_indexing_strategies.html">Indexing Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/05_data_integrity.html">Data Integrity</a></li>
                        </ol>
                    </li>
                    <li>Sql<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/01_intro_to_sql.html">Intro to Sql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/02_data_definition_language_ddl.html">Data Definition Language Ddl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/03_data_manipulation_language_dml.html">Data Manipulation Language Dml</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/04_data_control_language_dcl.html">Data Control Language Dcl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/05_transaction_control_language_tcl.html">Transaction Control Language Tcl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/06_joins_subqueries_and_views.html">Joins Subqueries and Views</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/07_stored_procedures_and_functions.html">Stored Procedures and Functions</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/08_triggers.html">Triggers</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/09_hierarchical_data.html">Hierarchical Data</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/10_aggregate_functions.html">Aggregate Functions</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/11_window_functions.html">Window Functions</a></li>
                        </ol>
                    </li>
                    <li>Acid Properties and Transactions<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/01_transactions_intro.html">Transactions Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/02_atomicity.html">Atomicity</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/03_consistency.html">Consistency</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/04_isolation.html">Isolation</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/05_durability.html">Durability</a></li>
                        </ol>
                    </li>
                    <li>Storage and Indexing<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/01_how_tables_and_indexes_are_stored_on_disk.html">How Tables and Indexes Are Stored on Disk</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/02_row_based_vs_column_based_databases.html">Row Based vs Column Based Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/03_primary_key_vs_secondary_key.html">Primary Key vs Secondary Key</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/04_database_pages.html">Database Pages</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/05_indexing.html">Indexing</a></li>
                        </ol>
                    </li>
                    <li>Distributed Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/01_distributed_database_systems.html">Distributed Database Systems</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/02_partitioning.html">Partitioning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/03_sharding.html">Sharding</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/04_partitioning_vs_sharding.html">Partitioning vs Sharding</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/05_consistent_hashing.html">Consistent Hashing</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/06_cap_theorem.html">Cap Theorem</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/07_eventual_consistency.html">Eventual Consistency</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/08_distributed_database_systems.html">Distributed Database Systems</a></li>
                        </ol>
                    </li>
                    <li>Concurrency Control<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/01_shared_vs_exclusive_locks.html">Shared vs Exclusive Locks</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/02_deadlocks.html">Deadlocks</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/03_two_phase_locking.html">Two Phase Locking</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/04_double_booking_problem.html">Double Booking Problem</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/05_serializable_vs_repeatable_read.html">Serializable vs Repeatable Read</a></li>
                        </ol>
                    </li>
                    <li>Database Performance<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/01_query_optimization_techniques.html">Query Optimization Techniques</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/02_indexing_strategies.html">Indexing Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/03_database_caching.html">Database Caching</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/04_materialized_views.html">Materialized Views</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/05_accessing_database_in_code.html">Accessing Database in Code</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/06_working_with_billion_row_table.html">Working with Billion Row Table</a></li>
                        </ol>
                    </li>
                    <li>Database Replication<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/01_intro_to_replication.html">Intro to Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/02_master_standby_replication.html">Master Standby Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/03_multi_master_replication.html">Multi Master Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/04_synchronous_vs_asynchronous_replication.html">Synchronous vs Asynchronous Replication</a></li>
                        </ol>
                    </li>
                    <li>Nosql Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/01_nosql_databases_intro.html">Nosql Databases Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/02_types_of_nosql_databases.html">Types of Nosql Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/03_querying_nosql_databases.html">Querying Nosql Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/04_crud_in_sql_vs_nosql.html">Crud in Sql vs Nosql</a></li>
                        </ol>
                    </li>
                    <li>Security Best Practices<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/01_backup_and_recovery_strategies.html">Backup and Recovery Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/02_database_security.html">Database Security</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/03_capacity_planning.html">Capacity Planning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/04_database_migration.html">Database Migration</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/05_performance_monitoring_and_tuning.html">Performance Monitoring and Tuning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/06_sql_injection.html">Sql Injection</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/07_crash_recovery_in_databases.html">Crash Recovery in Databases</a></li>
                        </ol>
                    </li>
                    <li>Database Engines<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/01_sqlite.html">Sqlite</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/02_mysql.html">Mysql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/03_postgresql.html">Postgresql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/04_mongodb.html">Mongodb</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/05_neo4j.html">Neo4J</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/06_aws_services.html">Aws Services</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/07_choosing_database.html">Choosing Database</a></li>
                        </ol>
                    </li>
                </ol>
            </div>
        </aside><article-section id="article-body">
            <div class="article-action-buttons"><button class="btn-suggest-edit" title="Suggest Edit">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M4 21h4l11-11-4-4L4 17v4z" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button><button class="btn-create-issue" title="Create Issue">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"></circle>
                        <line stroke="currentColor" stroke-width="2" x1="12" x2="12" y1="8" y2="12"></line>
                        <circle cx="12" cy="16" fill="currentColor" r="1"></circle>
                    </svg>
                </button><button class="btn-download" title="Download">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M12 5v14m0 0l-6-6m6 6l6-6" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button></div>
            <p style="text-align: right;"><i>Last modified: December 24, 2025</i></p>
            <p style="text-align: right;"><i>This article is written in: üá∫üá∏</i></p>
            <h2 id="consistency-in-database-transactions">Consistency in Database Transactions</h2>
            <p>Consistency is a principle in database systems that ensures data remains accurate, valid, and reliable throughout all transactions. When a transaction occurs, the database moves from one consistent state to another, always adhering to the predefined rules and constraints set within the database schema. This means that any data written to the database must satisfy all integrity constraints, such as data types, unique keys, and relationships.</p>
            <p>Imagine the database as an organized library. Every book (data entry) has a specific place, and any new book added must fit into the system without disrupting the existing order. Consistency ensures that the library remains organized and every book is where it should be, both before and after any changes.</p>
            <div>
                <pre><code class="language-shell">Valid State before Transaction
   +------------------+
   |    Valid DB      |
   | (Integrity OK)   |
   +--------+---------+
            | Transaction executes
            V
 +-------------------------+
 |  Transaction Processing |
 |   (apply operations,    |
 |  enforce constraints)   |
 +------------+------------+
            |
            V
Valid State after Transaction
   +------------------+
   |    Valid DB      |
   | (Integrity OK)   |
   +------------------+</code></pre>
            </div>
            <p>After reading the material, you should be able to answer the following questions:</p>
            <ol>
                <li>What is consistency in database transactions, and how does it ensure that data remains accurate and reliable throughout all transactions?</li>
                <li>Why is consistency important for preserving data integrity and preventing errors and conflicts within a database system?</li>
                <li>How do unique constraints, foreign key relationships, and domain constraints contribute to maintaining consistency in a database?</li>
                <li>What are transaction isolation levels, and how do they impact the consistency of data when multiple transactions occur concurrently?</li>
                <li>How do concurrency control techniques like locking mechanisms, optimistic concurrency control, and multi-version concurrency control (MVCC) help uphold consistency in database transactions?</li>
            </ol>
            <h3 id="the-importance-of-consistency">The Importance of Consistency</h3>
            <p>Maintaining consistency in a database is crucial for several reasons. It preserves the integrity of the data, ensures that all transactions lead to valid states, and prevents errors that could arise from invalid or conflicting data entries.</p>
            <h4 id="preserving-data-integrity">Preserving Data Integrity</h4>
            <p>Consistency ensures that all data within the database adheres to the rules defined by the database schema. This includes data types, uniqueness, referential integrity, and other constraints. By enforcing these rules, the database prevents anomalies like duplicate entries, invalid references, or incorrect data formats.</p>
            <h4 id="preventing-errors-and-conflicts">Preventing Errors and Conflicts</h4>
            <p>By checking each transaction against the defined constraints, the database can detect and prevent operations that would lead to an inconsistent state. This proactive error prevention is essential for maintaining the reliability and correctness of the data over time.</p>
            <h3 id="real-world-examples">Real-World Examples</h3>
            <p>To better understand how consistency works in practice, let's explore some scenarios where this principle plays a critical role.</p>
            <h4 id="enforcing-unique-constraints">Enforcing Unique Constraints</h4>
            <p>Consider a social media platform where each user must have a unique username. When a new user attempts to register, the database checks whether the desired username already exists.</p>
            <p>If someone tries to register with the username "alexsmith" and that username is already taken, the database enforces the unique constraint by rejecting the new entry. This prevents duplicate usernames and ensures that each user can be uniquely identified.</p>
            <h4 id="maintaining-foreign-key-relationships">Maintaining Foreign Key Relationships</h4>
            <p>Imagine an online store that manages orders and products. Each order includes a product ID that references the products available in the inventory.</p>
            <p>When an order is placed, the database verifies that the product ID exists in the products table. If an attempt is made to create an order with a non-existent product ID, the database rejects the transaction. This maintains consistency by ensuring all orders reference valid products.</p>
            <h4 id="applying-domain-constraints">Applying Domain Constraints</h4>
            <p>Suppose a banking system requires that account balances never fall below zero. The database enforces a constraint that prevents any transaction from reducing an account balance into the negative.</p>
            <p>If a withdrawal transaction attempts to deduct more money than is available in the account, the database disallows the transaction. This ensures that all account balances remain within acceptable limits, maintaining the financial integrity of the system.</p>
            <h3 id="mechanisms-for-ensuring-consistency">Mechanisms for Ensuring Consistency</h3>
            <p>Databases employ various mechanisms to maintain consistency, especially when handling multiple transactions concurrently. These mechanisms help prevent conflicts and ensure that all data modifications adhere to the established rules.</p>
            <h4 id="transaction-isolation-levels">Transaction Isolation Levels</h4>
            <p>Transaction isolation defines how and when the changes made by one transaction become visible to others. Different isolation levels offer a balance between consistency and performance.</p>
            <ul>
                <li>The <strong>Read Uncommitted</strong> isolation level allows transactions to access data modified by other transactions before they are committed, increasing the risk of dirty reads.</li>
                <li>At the <strong>Read Committed</strong> level, a transaction can only access data that has been committed, avoiding dirty reads but still permitting non-repeatable reads.</li>
                <li>The <strong>Repeatable Read</strong> level ensures that once a transaction reads a data item, subsequent reads of the same item will yield the same value, eliminating non-repeatable reads but not phantom reads.</li>
                <li>The <strong>Serializable</strong> isolation level provides complete transaction isolation, preventing dirty reads, non-repeatable reads, and phantom reads, ensuring maximum data consistency.</li>
            </ul>
            <p>By choosing the appropriate isolation level, applications can ensure the necessary degree of consistency based on their specific requirements.</p>
            <h4 id="concurrency-control-techniques">Concurrency Control Techniques</h4>
            <p>To manage concurrent transactions, databases implement concurrency control methods that coordinate access to data.</p>
            <h5>Locking Mechanisms</h5>
            <p>Locking restricts access to data items during a transaction.</p>
            <ul>
                <li><strong>Shared Locks</strong> enable multiple transactions to read the same data item simultaneously while restricting any transaction from modifying it.</li>
                <li><strong>Exclusive Locks</strong> grant a single transaction the ability to read and modify a data item, preventing all other transactions from accessing it until the lock is released.</li>
            </ul>
            <p>For example, if a transaction is updating a customer's address, an exclusive lock ensures that no other transaction can read or modify that customer's data until the update is complete.</p>
            <h5>Optimistic Concurrency Control</h5>
            <p>Optimistic concurrency control assumes that transaction conflicts are rare and allows transactions to proceed without locking resources.</p>
            <ul>
                <li>Transactions execute without immediate interference.</li>
                <li>Before committing, the database checks for conflicts.</li>
                <li>If a conflict is detected, the transaction is rolled back and can be retried.</li>
            </ul>
            <p>This approach can improve performance in systems where data conflicts are infrequent.</p>
            <h5>Multi-Version Concurrency Control (MVCC)</h5>
            <p>MVCC allows multiple versions of data to exist simultaneously, enhancing concurrency without significant locking.</p>
            <ul>
                <li>Each transaction works with a snapshot of the data at a specific point in time.</li>
                <li>Writers create new versions of data items rather than overwriting them.</li>
                <li>Readers access the version of data that was committed before their transaction began.</li>
            </ul>
            <p>This method reduces contention between reading and writing transactions, maintaining consistency without heavy locking.</p>
            <h3 id="visualizing-consistency-in-action">Visualizing Consistency in Action</h3>
            <p>Consistency is about making sure the data in your database always follows the rules you define‚Äîthings like valid references, correct relationships, and logical constraints. If a transaction would break any of these rules, the database stops it to keep data consistent.</p>
            <div>
                <pre><code class="language-shell">[Begin Transaction]
         |
     [Perform Operations]
         |
[Check Constraints and Rules]
         |
[Constraints Satisfied?]--- No ---&gt; [Transaction Fails]
         |
         Yes
         |
   [Transaction Can Proceed]</code></pre>
            </div>
            <p>This simplified diagram shows that each operation in a transaction is checked against the database‚Äôs integrity rules (constraints). If an operation would violate those rules‚Äîlike inserting a duplicate unique key or referencing a non-existent row‚Äîthe transaction is <strong>not</strong> allowed to finalize. When a transaction proceeds successfully, it means the database remains in a valid, consistent state.</p>
            <h3 id="consistency-in-sql-transactions">Consistency in SQL Transactions</h3>
            <p>In SQL, consistency is maintained through mechanisms like constraints and the schema design:</p>
            <ul>
                <li><strong>Constraints</strong> (PRIMARY KEY, FOREIGN KEY, UNIQUE, CHECK, etc.) define what valid data looks like.</li>
                <li><strong>Schema Rules</strong> (like data types and relationships) enforce logical correctness. </li>
            </ul>
            <p>By applying these consistently, any data change is automatically verified. If the change fails, the database prevents it from being fully applied, ensuring the data remains correct and ‚Äúconsistent‚Äù at all times.</p>
            <h3 id="defining-constraints-in-tables">Defining Constraints in Tables</h3>
            <p>Constraints are embedded into your table definitions to ensure any data written matches your rules:</p>
            <ul>
                <li><strong>Primary Key</strong>: Ensures each row has a unique identifier. This prevents ambiguity and keeps data references accurate.</li>
                <li><strong>Unique Constraint</strong>: Prohibits duplicate values in specified columns, enforcing uniqueness.</li>
                <li><strong>Foreign Key</strong>: Requires rows in one table to match valid entries in another table. This keeps relationships consistent and prevents ‚Äúorphan‚Äù data.</li>
                <li><strong>Check Constraint</strong>: Forces values to match some logical condition, such as ‚Äúsalary must be greater than zero.‚Äù</li>
                <li><strong>Not Null</strong>: Disallows empty fields in columns where a value is required.</li>
            </ul>
            <h3 id="example-enforcing-unique-and-foreign-key-constraints">Example: Enforcing Unique and Foreign Key Constraints</h3>
            <p>Below is a schema for <code>users</code> and <code>orders</code>:</p>
            <div>
                <pre><code class="language-shell">CREATE TABLE users (
    user_id INT PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL
);

CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    user_id INT NOT NULL,
    order_date DATE NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);</code></pre>
            </div>
            <h4 id="how-consistency-is-preserved">How Consistency Is Preserved</h4>
            <ul>
                <li><strong>Unique Columns</strong>: The database will refuse any new <code>username</code> or <code>email</code> if it already exists in <code>users</code>. This safeguards against duplicate records.</li>
                <li><strong>Foreign Key Link</strong>: Each <code>orders.user_id</code> must be a valid <code>users.user_id</code>. If you attempt to insert an order tied to a non-existent user, the database won‚Äôt allow it.</li>
            </ul>
            <p>So, any data you insert must keep these relationships correct. If you try to break these rules, the operation is blocked, preserving consistency.</p>
            <h3 id="example-transaction-checking-consistency">Example: Transaction Checking Consistency</h3>
            <p>Let‚Äôs say you want to place an order:</p>
            <div>
                <pre><code class="language-shell">BEGIN TRANSACTION;

INSERT INTO orders (order_id, user_id, order_date)
VALUES (101, 1, '2023-11-24');

COMMIT;</code></pre>
            </div>
            <p>For this transaction to be consistent:
                1. <strong>Is <code>user_id = 1</code> valid in <code>users</code>?</strong><br />
                2. <strong>Is <code>order_id = 101</code> unique in <code>orders</code>?</strong></p>
            <p>If these conditions hold true, the data remains valid‚Äîno broken links, no duplicates‚Äîso the database moves to a new consistent state. If any condition fails, the database disallows the operation to keep the existing data correct.</p>
            <h3 id="using-check-constraints">Using Check Constraints</h3>
            <p>Check constraints let you define more specific rules within your table, ensuring logical accuracy:</p>
            <div>
                <pre><code class="language-shell">CREATE TABLE employees (
    employee_id INT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    salary DECIMAL(10, 2) CHECK (salary &gt; 0),
    department VARCHAR(50) CHECK (department IN ('HR', 'Sales', 'IT', 'Finance'))
);</code></pre>
            </div>
            <ul>
                <li><strong>Salary Must Be Greater Than 0</strong>: Any attempt to set <code>salary</code> to zero or a negative number is rejected.</li>
                <li><strong>Department Must Be One of the Listed Values</strong>: Only <code>HR</code>, <code>Sales</code>, <code>IT</code>, or <code>Finance</code> are allowed. Anything else fails the check.</li>
            </ul>
            <p>Whenever you insert or update a row, the database verifies these conditions. If any are violated, the data never enters an inconsistent state; it‚Äôs simply not accepted.</p>
            <h3 id="atomicity-vs-consistency">Atomicity vs. Consistency</h3>
            <ul>
                <li><strong>Atomicity</strong> focuses on the ‚Äúall-or-nothing‚Äù aspect of a transaction. If any part of a transaction fails, the entire transaction is rolled back, leaving the database unchanged. This is about whether the changes happen as one complete unit or not at all.</li>
                <li><strong>Consistency</strong> ensures that any data written to the database follows all the predefined rules and integrity constraints. Consistency is about making sure the end result of a transaction does not break the logical correctness of the database.</li>
            </ul>
            <p>In short:</p>
            <ul>
                <li><strong>Atomicity</strong> protects your database from partial updates if something goes wrong.</li>
                <li><strong>Consistency</strong> guarantees that any final state of the database is valid with respect to the rules you set.</li>
            </ul>
        </article-section>
    </div>
    <footer>
        <div class="footer-columns">
            <div class="footer-column footer-about">
                <h2>About</h2>
                <p class="footer-message">Thanks for stopping by. This site is free to use; please be respectful and avoid misuse. For questions or collaboration, reach me on <a href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" title="LinkedIn Profile">LinkedIn</a> or <a href="https://github.com/djeada" title="GitHub Profile">GitHub</a>.</p>
                <p class="footer-signature">Built with care in Berlin (UTC+1).</p>
            </div>
            <div class="footer-column footer-links">
                <h2>Quick Links</h2>
                <ul class="footer-links-list">
                    <li><a href="https://adamdjellouli.com/index.html" title="Home">Home</a></li>
                    <li><a href="https://adamdjellouli.com/core/projects.html" title="Projects">Projects</a></li>
                    <li><a href="https://adamdjellouli.com/core/tools.html" title="Tools">Tools</a></li>
                    <li><a href="https://adamdjellouli.com/core/courses.html" title="Courses">Courses</a></li>
                    <li><a href="https://adamdjellouli.com/core/resume.html" title="Resume">Resume</a></li>
                    <li><a href="https://adamdjellouli.com/core/privacy_policy.html" title="Privacy Policy">Privacy Policy</a></li>
                    <li><a href="https://adamdjellouli.com/sitemap.xml" title="Sitemap">Sitemap</a></li>
                </ul>
            </div>
            <div class="footer-column footer-social">
                <h2>Follow</h2>
                <ul class="social-media">
                    <li>
                        <a aria-label="YouTube" class="fa fa-youtube" href="https://www.youtube.com/channel/UCGPoHTVjMN77wcGknXPHl1Q" rel="noopener" target="_blank" title="YouTube"></a>
                        <span class="social-label">YouTube</span>
                    </li>
                    <li>
                        <a aria-label="LinkedIn" class="fa fa-linkedin" href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" rel="noopener" target="_blank" title="LinkedIn"></a>
                        <span class="social-label">LinkedIn</span>
                    </li>
                    <li>
                        <a aria-label="Instagram" class="fa fa-instagram" href="https://www.instagram.com/linuxchallenges/" rel="noopener" target="_blank" title="Instagram"></a>
                        <span class="social-label">Instagram</span>
                    </li>
                    <li>
                        <a aria-label="GitHub" class="fa fa-github" href="https://github.com/djeada" title="GitHub"></a>
                        <span class="social-label">GitHub</span>
                    </li>
                </ul>
                <img alt="" aria-hidden="true" class="footer-mark" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/symbol.png" />
            </div>
        </div>
        <div class="footer-bottom">
            <p id="copyright">
                ¬© Adam Djellouli. All rights reserved.
            </p>
        </div>
        <script>
            document.getElementById("copyright").innerHTML = "&copy; " + new Date().getFullYear() + " Adam Djellouli. All rights reserved.";
        </script>
        <script src="/app.js"></script>
    </footer>
    <div id="pdf-spinner-overlay">
        <div class="spinner"></div>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-cpp.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
extensions: ["tex2jax.js"],
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
tex2jax: { inlineMath: [ ["$", "$"] ], displayMath: [ ["$$","$$"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
messageStyle: "none"
});
</script>
<script async="" id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

</html>