<!DOCTYPE html>

<html lang="en">

<head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5593122079896089"></script>
    <meta charset="utf-8" />
    <title>Partitioning</title>
    <meta content="Partitioning involves dividing a large database table into smaller, more manageable pieces called partitions." name="description" />
    <meta content="Adam Djellouli" name="author" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/icon.ico" rel="icon" />
    <link href="../../../resources/style.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/02_partitioning" rel="canonical" />
    <script id="structured-data" type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "Partitioning",
            "author": {
                "@type": "Person",
                "name": "Adam Djellouli"
            },
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/02_partitioning"
            },
            "url": "https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/02_partitioning",
            "description": "Partitioning involves dividing a large database table into smaller, more manageable pieces called partitions.",
            "dateModified": "2022-04-28"
        }
    </script>
</head>

<body>
    <nav aria-label="Main navigation">
        <a class="logo" href="../../../index.html">
            <img alt="Adam Djellouli - Home Page Logo" id="logo-image" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/logo.PNG" />
        </a>
        <input aria-label="Toggle navigation menu" id="navbar-toggle" type="checkbox" />
        <ul aria-labelledby="navbar-toggle" role="menu">
            <li role="menuitem">
                <a href="../../../index.html" title="Go to Home Page"> Home </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/blog.html" title="Read Adam Djellouli Blog on Programming and Technology"> Blog </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/tools.html" title="Discover Tools Created by Adam Djellouli"> Tools </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/projects.html" title="Explore Projects Developed by Adam Djellouli"> Projects </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/courses.html" title="Browse Courses by Adam Djellouli"> Courses </a>
            </li>
            <li role="menuitem">
                <a href="../../../core/resume.html" title="View Adam Djellouli Professional Resume"> Resume </a>
            </li>
            <li>
                <script async="" src="https://cse.google.com/cse.js?cx=8160ef9bb935f4f68"></script>
                <div class="gcse-search"></div>
            </li>
            <li>
                <button aria-label="Toggle dark mode" id="dark-mode-button"></button>
            </li>
        </ul>
    </nav>
    <div id="article-wrapper">
        <aside id="article-sidebar">
            <div id="table-of-contents">
                <h2>Table of Contents</h2>
                <ol><a href="#partitioning">Partitioning</a>
                    <ol>
                        <li><a href="#what-do-we-mean-by-partitioning-">What do we mean by Partitioning?</a></li>
                        <li><a href="#purpose-of-partitioning">Purpose of Partitioning</a></li>
                        <li><a href="#types-of-partitioning">Types of Partitioning</a>
                            <ol>
                                <li><a href="#range-partitioning">Range Partitioning</a></li>
                                <li><a href="#list-partitioning">List Partitioning</a></li>
                                <li><a href="#hash-partitioning">Hash Partitioning</a></li>
                                <li><a href="#key-partitioning">Key Partitioning</a></li>
                                <li><a href="#composite-partitioning">Composite Partitioning</a></li>
                            </ol>
                        </li>
                        <li><a href="#example-table-historical-stock-prices">Example Table: Historical Stock Prices</a>
                            <ol>
                                <li><a href="#create-the-partitioned-table">Create the Partitioned Table</a></li>
                                <li><a href="#show-create-table">SHOW CREATE TABLE</a></li>
                                <li><a href="#information_schema-partitions">INFORMATION_SCHEMA.PARTITIONS</a></li>
                                <li><a href="#querying-with-partition-pruning">Querying with Partition Pruning</a></li>
                                <li><a href="#adding-next-year-s-partition">Adding Next Year‚Äôs Partition</a></li>
                                <li><a href="#dropping-an-out-of-scope-year">Dropping an Out-of-Scope Year</a></li>
                                <li><a href="#automating-with-events">Automating with EVENTS</a></li>
                                <li><a href="#effects-on-normal-queries">Effects on ‚ÄúNormal‚Äù Queries</a></li>
                            </ol>
                        </li>
                        <li><a href="#best-practices-for-partitioning">Best Practices for Partitioning</a></li>
                    </ol>
                </ol>
            </div>
            <div id="related-articles">
                <h2>Related Articles</h2>
                <ol>
                    <li>Introduction to Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/01_databases_intro.html">Databases Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/02_types_of_databases.html">Types of Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/03_database_management_systems_dbms_.html">Database Management Systems Dbms</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/04_data_models.html">Data Models</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/01_introduction_to_databases/05_glossary.html">Glossary</a></li>
                        </ol>
                    </li>
                    <li>Database Design<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/01_requirements_analysis.html">Requirements Analysis</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/02_normalization.html">Normalization</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/03_denormalization.html">Denormalization</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/04_indexing_strategies.html">Indexing Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/02_database_design/05_data_integrity.html">Data Integrity</a></li>
                        </ol>
                    </li>
                    <li>Sql<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/01_intro_to_sql.html">Intro to Sql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/02_data_definition_language_ddl.html">Data Definition Language Ddl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/03_data_manipulation_language_dml.html">Data Manipulation Language Dml</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/04_data_control_language_dcl.html">Data Control Language Dcl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/05_transaction_control_language_tcl.html">Transaction Control Language Tcl</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/06_joins_subqueries_and_views.html">Joins Subqueries and Views</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/07_stored_procedures_and_functions.html">Stored Procedures and Functions</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/08_triggers.html">Triggers</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/09_hierarchical_data.html">Hierarchical Data</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/10_aggregate_functions.html">Aggregate Functions</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/03_sql/11_window_functions.html">Window Functions</a></li>
                        </ol>
                    </li>
                    <li>Acid Properties and Transactions<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/01_transactions_intro.html">Transactions Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/02_atomicity.html">Atomicity</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/03_consistency.html">Consistency</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/04_isolation.html">Isolation</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/04_acid_properties_and_transactions/05_durability.html">Durability</a></li>
                        </ol>
                    </li>
                    <li>Storage and Indexing<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/01_how_tables_and_indexes_are_stored_on_disk.html">How Tables and Indexes Are Stored on Disk</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/02_row_based_vs_column_based_databases.html">Row Based vs Column Based Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/03_primary_key_vs_secondary_key.html">Primary Key vs Secondary Key</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/04_database_pages.html">Database Pages</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/05_storage_and_indexing/05_indexing.html">Indexing</a></li>
                        </ol>
                    </li>
                    <li>Distributed Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/01_distributed_database_systems.html">Distributed Database Systems</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/02_partitioning.html">Partitioning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/03_sharding.html">Sharding</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/04_partitioning_vs_sharding.html">Partitioning vs Sharding</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/05_consistent_hashing.html">Consistent Hashing</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/06_cap_theorem.html">Cap Theorem</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/07_eventual_consistency.html">Eventual Consistency</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/06_distributed_databases/08_distributed_database_systems.html">Distributed Database Systems</a></li>
                        </ol>
                    </li>
                    <li>Concurrency Control<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/01_shared_vs_exclusive_locks.html">Shared vs Exclusive Locks</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/02_deadlocks.html">Deadlocks</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/03_two_phase_locking.html">Two Phase Locking</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/04_double_booking_problem.html">Double Booking Problem</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/07_concurrency_control/05_serializable_vs_repeatable_read.html">Serializable vs Repeatable Read</a></li>
                        </ol>
                    </li>
                    <li>Database Performance<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/01_query_optimization_techniques.html">Query Optimization Techniques</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/02_indexing_strategies.html">Indexing Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/03_database_caching.html">Database Caching</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/04_materialized_views.html">Materialized Views</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/05_accessing_database_in_code.html">Accessing Database in Code</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/08_database_performance/06_working_with_billion_row_table.html">Working with Billion Row Table</a></li>
                        </ol>
                    </li>
                    <li>Database Replication<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/01_intro_to_replication.html">Intro to Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/02_master_standby_replication.html">Master Standby Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/03_multi_master_replication.html">Multi Master Replication</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/09_database_replication/04_synchronous_vs_asynchronous_replication.html">Synchronous vs Asynchronous Replication</a></li>
                        </ol>
                    </li>
                    <li>Nosql Databases<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/01_nosql_databases_intro.html">Nosql Databases Intro</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/02_types_of_nosql_databases.html">Types of Nosql Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/03_querying_nosql_databases.html">Querying Nosql Databases</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/10_nosql_databases/04_crud_in_sql_vs_nosql.html">Crud in Sql vs Nosql</a></li>
                        </ol>
                    </li>
                    <li>Security Best Practices<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/01_backup_and_recovery_strategies.html">Backup and Recovery Strategies</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/02_database_security.html">Database Security</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/03_capacity_planning.html">Capacity Planning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/04_database_migration.html">Database Migration</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/05_performance_monitoring_and_tuning.html">Performance Monitoring and Tuning</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/06_sql_injection.html">Sql Injection</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/11_security_best_practices/07_crash_recovery_in_databases.html">Crash Recovery in Databases</a></li>
                        </ol>
                    </li>
                    <li>Database Engines<ol>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/01_sqlite.html">Sqlite</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/02_mysql.html">Mysql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/03_postgresql.html">Postgresql</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/04_mongodb.html">Mongodb</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/05_neo4j.html">Neo4J</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/06_aws_services.html">Aws Services</a></li>
                            <li><a href="https://adamdjellouli.com/articles/databases_notes/12_database_engines/07_choosing_database.html">Choosing Database</a></li>
                        </ol>
                    </li>
                </ol>
            </div>
        </aside><article-section id="article-body">
            <div class="article-action-buttons"><button class="btn-suggest-edit" title="Suggest Edit">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M4 21h4l11-11-4-4L4 17v4z" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button><button class="btn-create-issue" title="Create Issue">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"></circle>
                        <line stroke="currentColor" stroke-width="2" x1="12" x2="12" y1="8" y2="12"></line>
                        <circle cx="12" cy="16" fill="currentColor" r="1"></circle>
                    </svg>
                </button><button class="btn-download" title="Download">
                    <svg fill="none" height="20" viewbox="0 0 24 24" width="20">
                        <path d="M12 5v14m0 0l-6-6m6 6l6-6" stroke="currentColor" stroke-width="2"></path>
                    </svg>
                </button></div>
            <p style="text-align: right;"><i>Last modified: April 28, 2022</i></p>
            <p style="text-align: right;"><i>This article is written in: üá∫üá∏</i></p>
            <h2 id="partitioning">Partitioning</h2>
            <p>Partitioning involves dividing a large database table into smaller, more manageable pieces called partitions. This method helps improve query performance because the database can access only the relevant partitions when executing queries, rather than scanning the entire table. It also simplifies data management tasks like backups, archiving, and purging old data.</p>
            <p>After reading the material, you should be able to answer the following questions:</p>
            <ol>
                <li>What is partitioning and how does it enhance database performance and manageability?</li>
                <li>What are the different types of partitioning methods and in what scenarios are they most effectively used?</li>
                <li>How does range partitioning work, and what are its advantages and potential drawbacks?</li>
                <li>What best practices should be followed to optimize the use of partitioning in a database environment?</li>
                <li>How do composite partitioning strategies combine multiple partitioning methods, and what benefits do they offer?</li>
            </ol>
            <h3 id="what-do-we-mean-by-partitioning-">What do we mean by Partitioning?</h3>
            <p>Imagine a colossal table that stores millions of rows. Searching through this massive table every time can be time-consuming and inefficient. Partitioning slices the table into smaller sections based on specific criteria, allowing the database engine to quickly locate and retrieve the data it needs.</p>
            <div>
                <pre><code class="language-+----------------------------------------------+">|                 Large Table                  |
+----------------------------------------------+
|         |         |         |        |       |
| Part 1  | Part 2  | Part 3  | Part 4 |  ...  |
|         |         |         |        |       |
+---------+---------+---------+--------+-------+
| Rows 1- | Rows    | Rows    | Rows   |       |
| 2000    | 2001-   | 4001-   | 6001-  |       |
|         | 4000    | 6000    | 8000   |       |
+---------+---------+---------+--------+-------+</code></pre>
            </div>
            <p>In this diagram, the large table is divided into multiple parts. Part 1 contains rows 1 to 2000, Part 2 holds rows 2001 to 4000, and so on. This approach allows the database to target specific partitions during queries, reducing the amount of data it needs to process.</p>
            <h3 id="purpose-of-partitioning">Purpose of Partitioning</h3>
            <p>The main goal of partitioning is to optimize database performance and enhance manageability, especially for large tables. By dividing a table into smaller partitions, queries can execute more efficiently because they only need to access the relevant partitions. This reduces query response times and improves overall system performance.</p>
            <p>Partitioning also simplifies maintenance tasks. For example, if you need to archive data from a certain time period, you can easily identify and handle the specific partition without affecting the rest of the table. This makes tasks like backups, archiving, and purging more straightforward and less disruptive.</p>
            <h3 id="types-of-partitioning">Types of Partitioning</h3>
            <p>There are several partitioning methods, each suited to different types of data and query patterns. Let's explore some of the most common partitioning strategies.</p>
            <h4 id="range-partitioning">Range Partitioning</h4>
            <p>Range partitioning splits a table based on a range of values in a particular column. This method is ideal for time-based data or continuous numerical data. For instance, you might partition sales data by date or customer data by age groups.</p>
            <p>Consider the following employee table:</p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Alice</td>
                    <td>HR</td>
                    <td>2020-01-15</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Bob</td>
                    <td>IT</td>
                    <td>2021-03-22</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Carol</td>
                    <td>HR</td>
                    <td>2019-06-30</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>David</td>
                    <td>IT</td>
                    <td>2020-11-01</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Eve</td>
                    <td>Finance</td>
                    <td>2021-07-14</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Frank</td>
                    <td>HR</td>
                    <td>2018-12-12</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Grace</td>
                    <td>IT</td>
                    <td>2021-05-05</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Heidi</td>
                    <td>Finance</td>
                    <td>2020-08-23</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Ivan</td>
                    <td>HR</td>
                    <td>2019-10-10</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Judy</td>
                    <td>IT</td>
                    <td>2020-02-28</td>
                </tr>
            </table>
            </p>
            <p>Using range partitioning on the "Hire Date" column, we can divide this table into partitions based on the year employees were hired.</p>
            <p><strong>Partition 1: Hire Dates Before 2020</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Carol</td>
                    <td>HR</td>
                    <td>2019-06-30</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Frank</td>
                    <td>HR</td>
                    <td>2018-12-12</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Ivan</td>
                    <td>HR</td>
                    <td>2019-10-10</td>
                </tr>
            </table>
            </p>
            <p><strong>Partition 2: Hire Dates in 2020</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Alice</td>
                    <td>HR</td>
                    <td>2020-01-15</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>David</td>
                    <td>IT</td>
                    <td>2020-11-01</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Heidi</td>
                    <td>Finance</td>
                    <td>2020-08-23</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Judy</td>
                    <td>IT</td>
                    <td>2020-02-28</td>
                </tr>
            </table>
            </p>
            <p><strong>Partition 3: Hire Dates After 2020</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Bob</td>
                    <td>IT</td>
                    <td>2021-03-22</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Eve</td>
                    <td>Finance</td>
                    <td>2021-07-14</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Grace</td>
                    <td>IT</td>
                    <td>2021-05-05</td>
                </tr>
            </table>
            </p>
            <p>With this setup, queries targeting employees hired in a specific year can quickly access the relevant partition, improving query performance.</p>
            <h4 id="list-partitioning">List Partitioning</h4>
            <p>List partitioning divides a table based on a predefined list of values in a column. It's suitable for categorical data, such as departments or regions.</p>
            <p>Using the same employee table, we can partition it based on the "Department" column.</p>
            <p><strong>Partition 1: HR Department</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Alice</td>
                    <td>HR</td>
                    <td>2020-01-15</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Carol</td>
                    <td>HR</td>
                    <td>2019-06-30</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Frank</td>
                    <td>HR</td>
                    <td>2018-12-12</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Ivan</td>
                    <td>HR</td>
                    <td>2019-10-10</td>
                </tr>
            </table>
            </p>
            <p><strong>Partition 2: IT Department</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Bob</td>
                    <td>IT</td>
                    <td>2021-03-22</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>David</td>
                    <td>IT</td>
                    <td>2020-11-01</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Grace</td>
                    <td>IT</td>
                    <td>2021-05-05</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Judy</td>
                    <td>IT</td>
                    <td>2020-02-28</td>
                </tr>
            </table>
            </p>
            <p><strong>Partition 3: Finance Department</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Eve</td>
                    <td>Finance</td>
                    <td>2021-07-14</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Heidi</td>
                    <td>Finance</td>
                    <td>2020-08-23</td>
                </tr>
            </table>
            </p>
            <p>List partitioning allows queries that target a specific department to access only the relevant partition, reducing query execution time.</p>
            <h4 id="hash-partitioning">Hash Partitioning</h4>
            <p>Hash partitioning uses a hash function on a column to distribute rows evenly across partitions. This method is useful when there's no clear range or list partitioning criteria and helps balance the data load.</p>
            <p>Suppose we apply a hash function to the "ID" column using modulus 3 (hash(ID) mod 3). This will assign each row to one of three partitions.</p>
            <p><strong>Partition 1: hash(ID) mod 3 = 1</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Alice</td>
                    <td>HR</td>
                    <td>2020-01-15</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>David</td>
                    <td>IT</td>
                    <td>2020-11-01</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Grace</td>
                    <td>IT</td>
                    <td>2021-05-05</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Judy</td>
                    <td>IT</td>
                    <td>2020-02-28</td>
                </tr>
            </table>
            </p>
            <p><strong>Partition 2: hash(ID) mod 3 = 2</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Bob</td>
                    <td>IT</td>
                    <td>2021-03-22</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Eve</td>
                    <td>Finance</td>
                    <td>2021-07-14</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Heidi</td>
                    <td>Finance</td>
                    <td>2020-08-23</td>
                </tr>
            </table>
            </p>
            <p><strong>Partition 3: hash(ID) mod 3 = 0</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Carol</td>
                    <td>HR</td>
                    <td>2019-06-30</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Frank</td>
                    <td>HR</td>
                    <td>2018-12-12</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Ivan</td>
                    <td>HR</td>
                    <td>2019-10-10</td>
                </tr>
            </table>
            </p>
            <p>Hash partitioning ensures that data is evenly distributed, which can improve performance for queries that access data randomly.</p>
            <h4 id="key-partitioning">Key Partitioning</h4>
            <p>Key partitioning is similar to hash partitioning but specifically uses the primary key columns for the hash function. This method is effective when queries frequently access data based on primary keys.</p>
            <p>Using the employee table, we can partition it based on ranges of the "ID" primary key.</p>
            <p><strong>Partition 1: IDs 1-3</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Alice</td>
                    <td>HR</td>
                    <td>2020-01-15</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Bob</td>
                    <td>IT</td>
                    <td>2021-03-22</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Carol</td>
                    <td>HR</td>
                    <td>2019-06-30</td>
                </tr>
            </table>
            </p>
            <p><strong>Partition 2: IDs 4-6</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>David</td>
                    <td>IT</td>
                    <td>2020-11-01</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Eve</td>
                    <td>Finance</td>
                    <td>2021-07-14</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Frank</td>
                    <td>HR</td>
                    <td>2018-12-12</td>
                </tr>
            </table>
            </p>
            <p><strong>Partition 3: IDs 7-10</strong></p>
            <p>
            <table>
                <tr>
                    <td>ID</td>
                    <td>Name</td>
                    <td>Department</td>
                    <td>Hire Date</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Grace</td>
                    <td>IT</td>
                    <td>2021-05-05</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Heidi</td>
                    <td>Finance</td>
                    <td>2020-08-23</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Ivan</td>
                    <td>HR</td>
                    <td>2019-10-10</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Judy</td>
                    <td>IT</td>
                    <td>2020-02-28</td>
                </tr>
            </table>
            </p>
            <p>Key partitioning can improve performance for queries that target specific ranges of primary keys.</p>
            <h4 id="composite-partitioning">Composite Partitioning</h4>
            <p>Composite partitioning combines two or more partitioning methods, such as range-hash or range-list partitioning. This approach is suitable for complex data and query requirements, allowing for more granular data management and performance optimization.</p>
            <p>For example, a table might first be range-partitioned by date and then hash-partitioned within each date range partition. This method provides the benefits of both partitioning strategies, catering to specific query patterns and data distribution needs.</p>
            <h3 id="example-table-historical-stock-prices">Example Table: Historical Stock Prices</h3>
            <p>When managing large volumes of time-series financial data, partitioning can dramatically improve query performance and maintenance operations. Below is an example of how to set up a partitioned MySQL/MariaDB table for daily OHLC (Open-High-Low-Close) stock prices by year.</p>
            <h4 id="create-the-partitioned-table">Create the Partitioned Table</h4>
            <p>Begin by defining your main table schema and specifying a partitioning strategy. Here we use <strong>RANGE</strong> partitioning on the integer expression <code>YEAR(trade_date)</code>, creating one partition per calendar year plus a catch-all for future dates.</p>
            <div>
                <pre><code class="language-sql">DROP TABLE IF EXISTS stock_prices;
CREATE TABLE stock_prices (
  id            BIGINT AUTO_INCREMENT PRIMARY KEY,
  ticker        VARCHAR(10)   NOT NULL,
  trade_date    DATE          NOT NULL,
  open_price    DECIMAL(10,4),
  high_price    DECIMAL(10,4),
  low_price     DECIMAL(10,4),
  close_price   DECIMAL(10,4),
  volume        BIGINT
)
PARTITION BY RANGE ( YEAR(trade_date) ) (
  PARTITION p2018 VALUES LESS THAN (2019),
  PARTITION p2019 VALUES LESS THAN (2020),
  PARTITION p2020 VALUES LESS THAN (2021),
  PARTITION p2021 VALUES LESS THAN (2022),
  PARTITION p2022 VALUES LESS THAN (2023),
  PARTITION p2023 VALUES LESS THAN (2024),
  PARTITION p2024 VALUES LESS THAN (2025),
  PARTITION p_future VALUES LESS THAN MAXVALUE
);</code></pre>
            </div>
            <ul>
                <li><strong>Partition key</strong>: <code>YEAR(trade_date)</code> must appear in every UNIQUE/PRIMARY index (it‚Äôs already in the primary key).</li>
                <li><strong>Partitions</strong>: p2018‚Ä¶p2024 cover past years; <strong>p_future</strong> holds any dates from 2025 onward.</li>
            </ul>
            <h4 id="show-create-table">SHOW CREATE TABLE</h4>
            <p>After creating the table, verify that the partitioning clause is in place by inspecting the full DDL. This ensures your partition definitions are correctly applied.</p>
            <div>
                <pre><code class="language-sql">SHOW CREATE TABLE stock_prices\G</code></pre>
            </div>
            <h4 id="information_schema-partitions">INFORMATION_SCHEMA.PARTITIONS</h4>
            <p>MySQL exposes partition metadata in <code>INFORMATION_SCHEMA.PARTITIONS</code>. Querying this view lets you confirm partition names, methods, expressions, and boundary values.</p>
            <div>
                <pre><code class="language-sql">SELECT
  PARTITION_NAME,
  PARTITION_METHOD,
  PARTITION_EXPRESSION,
  PARTITION_DESCRIPTION
FROM INFORMATION_SCHEMA.PARTITIONS
WHERE TABLE_SCHEMA = DATABASE()
  AND TABLE_NAME = 'stock_prices';</code></pre>
            </div>
            <p>
            <table>
                <tr>
                    <td>PARTITION_NAME</td>
                    <td>METHOD</td>
                    <td>EXPRESSION</td>
                    <td>DESCRIPTION</td>
                </tr>
                <tr>
                    <td>p2018</td>
                    <td>RANGE</td>
                    <td>YEAR(<code>trade_date</code>)</td>
                    <td>2019</td>
                </tr>
                <tr>
                    <td>‚Ä¶</td>
                    <td>‚Ä¶</td>
                    <td>‚Ä¶</td>
                    <td>‚Ä¶</td>
                </tr>
                <tr>
                    <td>p_future</td>
                    <td>RANGE</td>
                    <td>YEAR(<code>trade_date</code>)</td>
                    <td>MAXVALUE</td>
                </tr>
            </table>
            </p>
            <h4 id="querying-with-partition-pruning">Querying with Partition Pruning</h4>
            <p>Partition pruning tells the optimizer to scan only relevant partitions based on the <code>WHERE</code> clause. This avoids full-table scans and speeds up queries dramatically for time-restricted filters.</p>
            <div>
                <pre><code class="language-sql">EXPLAIN PARTITIONS
SELECT ticker, close_price
FROM stock_prices
WHERE trade_date BETWEEN '2022-01-01' AND '2022-12-31'
  AND ticker = 'AAPL';</code></pre>
            </div>
            <p>The <code>EXPLAIN</code> output will show <code>partitions: p2022</code>, indicating only that partition is scanned before applying the <code>ticker='AAPL'</code> filter.</p>
            <h4 id="adding-next-year-s-partition">Adding Next Year‚Äôs Partition</h4>
            <p>As the calendar rolls over, you need to split the catch-all partition to include a new yearly partition and maintain the future placeholder. Execute this once at the start of each year.</p>
            <div>
                <pre><code class="language-sql">ALTER TABLE stock_prices
  REORGANIZE PARTITION p_future INTO (
    PARTITION p2025 VALUES LESS THAN (2026),
    PARTITION p_future VALUES LESS THAN MAXVALUE
  );</code></pre>
            </div>
            <h4 id="dropping-an-out-of-scope-year">Dropping an Out-of-Scope Year</h4>
            <p>To remove historical data in bulk (e.g., before 2018), drop the corresponding partition. This operation is instantaneous and avoids expensive row-by-row deletes.</p>
            <div>
                <pre><code class="language-sql">ALTER TABLE stock_prices
  DROP PARTITION p2018;</code></pre>
            </div>
            <h4 id="automating-with-events">Automating with EVENTS</h4>
            <p>MariaDB EVENTS can execute partition management tasks on a schedule, reducing manual overhead. Here are two example events:</p>
            <ol>
                <li><strong>Add new year‚Äôs partition</strong> every January 1st.</li>
                <li><strong>Drop partitions older than N years</strong> (e.g., keep only the last 7 years), implemented via a stored procedure.</li>
            </ol>
            <div>
                <pre><code class="language-sql">-- 1. Add partition
CREATE EVENT ev_add_stock_year
ON SCHEDULE EVERY 1 YEAR
  STARTS '2025-01-01 00:00:00'
DO
  ALTER TABLE stock_prices
    REORGANIZE PARTITION p_future INTO (
      PARTITION p{YEAR(CURDATE())} VALUES LESS THAN (YEAR(CURDATE())+1),
      PARTITION p_future VALUES LESS THAN MAXVALUE
    );

-- 2. Drop old partitions
CREATE EVENT ev_drop_old_stock
ON SCHEDULE EVERY 1 YEAR
  STARTS '2025-01-01 01:00:00'
DO
  SET @cutoff := YEAR(CURDATE()) - 7;
  -- dynamic SQL: drop each partition pYYYY where YYYY &lt;= @cutoff
  -- implement via prepared statements or stored procedure
  CALL drop_old_stock_partitions(@cutoff);</code></pre>
            </div>
            <h4 id="effects-on-normal-queries">Effects on ‚ÄúNormal‚Äù Queries</h4>
            <ul>
                <li><strong>No query syntax change</strong>: You still <code>SELECT * FROM stock_prices WHERE ‚Ä¶</code>.</li>
                <li>Date‚Äêrange filters only scan relevant partitions.</li>
                <li>Secondary indexes (e.g. on <code>ticker</code>) are local to each partition.</li>
                <li><strong>Fast maintenance</strong>: Archiving or deleting old data is a single <code>DROP PARTITION</code>.</li>
            </ul>
            <h3 id="best-practices-for-partitioning">Best Practices for Partitioning</h3>
            <p>To make the most of partitioning, it's important to consider your data characteristics and query patterns.</p>
            <ul>
                <li>Choose a partitioning strategy that fits your data and access patterns (e.g., range-by-date for time-series, hash for unkeyed data).</li>
                <li>Include the partitioning key in all PRIMARY KEY and UNIQUE constraints.</li>
                <li>Avoid non-deterministic functions on the partition key in WHERE clauses to enable pruning.</li>
                <li>Write queries to leverage partition pruning so the engine skips irrelevant partitions.</li>
                <li>Verify pruning with <code>EXPLAIN PARTITIONS</code> whenever you introduce new filters.</li>
                <li>Monitor your partitioning scheme and adjust or redistribute partitions as data volume and access patterns evolve.</li>
                <li>Periodically reorganize or rebuild partitions to prevent imbalance and optimize storage.</li>
                <li>Balance partition sizes‚Äîif annual data becomes too large, switch to monthly ranges, for example:</li>
            </ul>
            <div>
                <pre><code class="language-sql">PARTITION BY RANGE (TO_DAYS(trade_date)) (
  PARTITION p2024_01 VALUES LESS THAN (TO_DAYS('2024-02-01')),
  PARTITION p2024_02 VALUES LESS THAN (TO_DAYS('2024-03-01')),
  ‚Ä¶
);</code></pre>
            </div>
        </article-section>
    </div>
    <footer>
        <div class="footer-columns">
            <div class="footer-column footer-about">
                <h2>About</h2>
                <p class="footer-message">Thanks for stopping by. This site is free to use; please be respectful and avoid misuse. For questions or collaboration, reach me on <a href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" title="LinkedIn Profile">LinkedIn</a> or <a href="https://github.com/djeada" title="GitHub Profile">GitHub</a>.</p>
                <p class="footer-signature">Built with care in Berlin (UTC+1).</p>
            </div>
            <div class="footer-column footer-links">
                <h2>Quick Links</h2>
                <ul class="footer-links-list">
                    <li><a href="https://adamdjellouli.com/index.html" title="Home">Home</a></li>
                    <li><a href="https://adamdjellouli.com/core/projects.html" title="Projects">Projects</a></li>
                    <li><a href="https://adamdjellouli.com/core/tools.html" title="Tools">Tools</a></li>
                    <li><a href="https://adamdjellouli.com/core/courses.html" title="Courses">Courses</a></li>
                    <li><a href="https://adamdjellouli.com/core/resume.html" title="Resume">Resume</a></li>
                    <li><a href="https://adamdjellouli.com/core/privacy_policy.html" title="Privacy Policy">Privacy Policy</a></li>
                    <li><a href="https://adamdjellouli.com/sitemap.xml" title="Sitemap">Sitemap</a></li>
                </ul>
            </div>
            <div class="footer-column footer-social">
                <h2>Follow</h2>
                <ul class="social-media">
                    <li>
                        <a aria-label="YouTube" class="fa fa-youtube" href="https://www.youtube.com/channel/UCGPoHTVjMN77wcGknXPHl1Q" rel="noopener" target="_blank" title="YouTube"></a>
                        <span class="social-label">YouTube</span>
                    </li>
                    <li>
                        <a aria-label="LinkedIn" class="fa fa-linkedin" href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" rel="noopener" target="_blank" title="LinkedIn"></a>
                        <span class="social-label">LinkedIn</span>
                    </li>
                    <li>
                        <a aria-label="Instagram" class="fa fa-instagram" href="https://www.instagram.com/linuxchallenges/" rel="noopener" target="_blank" title="Instagram"></a>
                        <span class="social-label">Instagram</span>
                    </li>
                    <li>
                        <a aria-label="GitHub" class="fa fa-github" href="https://github.com/djeada" title="GitHub"></a>
                        <span class="social-label">GitHub</span>
                    </li>
                </ul>
                <img alt="" aria-hidden="true" class="footer-mark" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/symbol.png" />
            </div>
        </div>
        <div class="footer-bottom">
            <p id="copyright">
                ¬© Adam Djellouli. All rights reserved.
            </p>
        </div>
        <script>
            document.getElementById("copyright").innerHTML = "&copy; " + new Date().getFullYear() + " Adam Djellouli. All rights reserved.";
        </script>
        <script src="/app.js"></script>
    </footer>
    <div id="pdf-spinner-overlay">
        <div class="spinner"></div>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-cpp.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
extensions: ["tex2jax.js"],
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
tex2jax: { inlineMath: [ ["$", "$"] ], displayMath: [ ["$$","$$"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
messageStyle: "none"
});
</script>
<script async="" id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

</html>