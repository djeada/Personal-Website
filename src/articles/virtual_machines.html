<!DOCTYPE html>

<html lang="en">

<head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5593122079896089"></script>
    <title>Virtual Machines Notes</title>
    <meta charset="utf-8" />
    <meta content="Virtualization is the process of creating a virtual version of a computer, device, or network using software." name="description" />
    <meta content="Adam Djellouli" name="keywords" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/icon.ico" rel="icon" />
    <link href="../resources/style.css" rel="stylesheet" type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="ie-edge" http-equiv="X-UA-Compatible">
    </meta>
    </meta>
</head>

<body>
    <nav>
        <a class="logo" href="../index.html" title="Adam Djellouli - Home">
            <img alt="Adam Djellouli Logo" id="logo-image" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/logo.PNG" />
        </a>
        <input aria-label="Toggle navigation menu" id="navbar-toggle" type="checkbox" />
        <ul>
            <li> <a href="../index.html" title="Home"> Home </a> </li>
            <li> <a class="active" href="../core/blog.html" title="Adam Djellouli's Blog - Programming, technology and more"> Blog </a> </li>
            <li> <a href="../core/tools.html" title="Useful Tools by Adam Djellouli"> Tools </a> </li>
            <li> <a href="../core/projects.html" title="Projects by Adam Djellouli"> Projects </a> </li>
            <li> <a href="../core/resume.html" title="Adam Djellouli's Resume"> Resume </a> </li>
            <li> <a href="../core/about.html" title="About Adam Djellouli"> About </a> </li>
            <button aria-label="Toggle dark mode" id="dark-mode-button"></button>
        </ul>
    </nav>
    <section id="article-body"></section>
    <div id="article-wrapper">
        <section id="article-body">
            <p style="text-align: right;"><i>This article is written in: ðŸ‡ºðŸ‡¸</i></p>
            <h2 id="virtual-machines-notes">Virtual Machines Notes</h2>
            <p>Virtualization is the process of creating a virtual version of a computer, device, or network using software. Virtual machines (VMs) are emulated computer systems that run on physical hardware, allowing multiple operating systems to run concurrently on a single physical host, providing isolation between different applications and services. VMs are widely used in cloud computing, data centers, and for testing and development purposes.</p>
            <p>One type of virtualization is called KVM (Kernel-based Virtual Machine), which allows a single physical server to run multiple virtual machines (VMs). There are several other types of virtualization, including:</p>
            <ol>
                <li>Hardware-level virtualization</li>
                <li>Operating system-level virtualization</li>
                <li>Application virtualization</li>
            </ol>
            <h2 id="virtualization-technologies">Virtualization Technologies</h2>
            <p>There are two main types of virtualization technologies used to create VMs:</p>
            <ol>
                <li>
                    <p><strong>Full virtualization</strong>: This technology emulates an entire hardware system, including the CPU, memory, and other hardware components. The guest operating system runs unmodified on the virtual hardware. Examples of full virtualization solutions include VMware Workstation and Oracle VM VirtualBox.</p>
                </li>
                <li>
                    <p><strong>Paravirtualization</strong>: This technology provides a software interface that is similar, but not identical, to the underlying hardware. Guest operating systems must be modified to work with the paravirtualization interface. Paravirtualization typically offers better performance than full virtualization. An example of a paravirtualization solution is the Xen hypervisor.</p>
                </li>
            </ol>
            <h2 id="hypervisors">Hypervisors</h2>
            <p>A hypervisor is the software layer responsible for managing and controlling VMs. There are two types of hypervisors:</p>
            <ol>
                <li>
                    <p><strong>Type 1 (bare-metal) hypervisors</strong>: These run directly on the host's hardware and provide better performance and security than Type 2 hypervisors. Examples include VMware ESXi, Microsoft Hyper-V, and Xen.</p>
                </li>
                <li>
                    <p><strong>Type 2 (hosted) hypervisors</strong>: These run as applications on a host operating system, and are more straightforward to install and use, but generally provide lower performance and security than Type 1 hypervisors. Examples include VMware Workstation, Oracle VM VirtualBox, and Parallels Desktop.</p>
                </li>
            </ol>
            <h2 id="networking-in-virtual-environments">Networking in Virtual Environments</h2>
            <p>Networking in a virtual environment involves setting up communication between VMs on the same host, VMs accessing external services, and external services accessing VMs. There are several options for networking VMs, including:</p>
            <h3 id="nat-network-address-translation-">NAT (Network Address Translation)</h3>
            <p>With NAT-based networking, VMs can communicate with the outside world through the host. External services can access VMs using address translation. However, NAT can make it difficult for guest VMs to be accessed outside the hypervisor server unless you use complicated port forwarding or IP masquerading.</p>
            <h3 id="bridge">Bridge</h3>
            <p>A bridged network extends the LAN network and connects the virtual interface of the VM to the outside local network via the physical interface of the host. A DHCP server on the bridged local network assigns an IP address to the VM. Any device on the LAN can access the VMs.</p>
            <h3 id="host-only">Host Only</h3>
            <p>In a host only configuration, VMs are inaccessible to outside devices, but can still access the internet via port forwarding from the host (mapping a port from the host to a port on the guest).</p>
            <h2 id="creating-virtual-machines">Creating Virtual Machines</h2>
            <p>Creating a VM typically involves the following steps:</p>
            <ol>
                <li>Install a hypervisor on the host system.</li>
                <li>Create a new VM in the hypervisor.</li>
                <li>Allocate resources (CPU, memory, disk space, and network) to the VM.</li>
                <li>Install a guest operating system on the VM.</li>
                <li>Install any necessary drivers or tools for the guest operating system to communicate with the hypervisor.</li>
            </ol>
            <h2 id="managing-virtual-machines">Managing Virtual Machines</h2>
            <p>Hypervisors provide various tools and features to manage VMs, such as:</p>
            <ul>
                <li>Starting, stopping, and pausing VMs</li>
                <li>Taking snapshots of VMs, which capture the current state of a VM, allowing you to revert to that state later</li>
                <li>Cloning VMs to create exact copies</li>
                <li>Migrating VMs between host systems</li>
                <li>Configuring VM network settings and storage options</li>
                <li>Monitoring VM performance and resource usage</li>
            </ul>
            <h2 id="benefits-of-virtual-machines">Benefits of Virtual Machines</h2>
            <p>Virtual machines offer several benefits, such as:</p>
            <ul>
                <li>Isolation: VMs are isolated from each other and the host system, preventing potential security risks and conflicts between applications.</li>
                <li>Resource efficiency: VMs allow you to make better use of your hardware resources by running multiple operating systems and applications on a single physical host.</li>
                <li>Flexibility: VMs can be easily moved, copied, and backed up, providing flexibility and simplifying disaster recovery.</li>
                <li>Scalability: VMs can be quickly provisioned and decommissioned, allowing you to scale your computing resources as needed.</li>
            </ul>
            <h2 id="virtualbox">VirtualBox</h2>
            <p>VirtualBox is a virtualization software that allows you to create and run virtual machines (VMs) on your computer. To run a VM from the terminal in VirtualBox, you will need to perform the following steps:</p>
            <ol>
                <li>Install the VirtualBox Extension Pack:</li>
            </ol>
            <p>
            <div>
                <pre><code class="language-shell">wget http://download.virtualbox.org/virtualbox/4.2.36/Oracle_VM_VirtualBox_Extension_Pack-4.2.36-104064a.vbox-extpack
sudo VBoxManage extpack install ./Oracle_VM_VirtualBox_Extension_Pack-4.2.36-104064a.vbox-extpack</code></pre>
            </div>
            </p>
            <ol>
                <li>Create a VM with a desired name (in this example, "vm_example"):</li>
            </ol>
            <p>
            <div>
                <pre><code class="language-shell">VBoxManage createvm --name "vm_example" --register</code></pre>
            </div>
            </p>
            <ol>
                <li>Configure the VM with desired settings, such as the amount of memory to allocate, the type of network connection to use, and the type of operating system to install:</li>
            </ol>
            <p>
            <div>
                <pre><code class="language-shell">VBoxManage modifyvm "vm_example" --memory 1024 --acpi on --boot1 dvd --nic1 bridged --bridgeadapter1 eth0 --ostype Ubuntu</code></pre>
            </div>
            </p>
            <ol>
                <li>Assign some disk space to the VM:</li>
            </ol>
            <p>
            <div>
                <pre><code class="language-shell">VBoxManage createvdi --filename ~/VirtualBox VMs/vm_example/vm_example.vdi --size 15000</code></pre>
            </div>
            </p>
            <ol>
                <li>Load an ISO file containing the operating system you want to install:</li>
            </ol>
            <p>
            <div>
                <pre><code class="language-shell">VBoxManage storagectl "vm_example" --name "IDE Controller" --add ide
VBoxManage storageattach "vm_example" --storagectl "IDE Controller" --port 0 --device 0 --type hdd --medium ~/VirtualBox VMs/vm_example/vm_example.vdi
VBoxManage storageattach "vm_example" --storagectl "IDE Controller" --port 1 --device 0 --type dvddrive --medium ~/Downloads/ubuntu-24.02.1.iso</code></pre>
            </div>
            </p>
            <ol>
                <li>To start the VM, we simply use:</li>
            </ol>
            <p>
            <div>
                <pre><code class="language-shell">VBoxHeadless --startvm "vm_example" &amp;</code></pre>
            </div>
            </p>
            <h2 id="vmware">VMware</h2>
            <p>VMware is another virtualization software that allows you to create and run virtual machines (VMs) on your computer. To find the IP address of a VM in VMware, you will need to follow these steps:</p>
            <h3 id="nat-networking">NAT Networking</h3>
            <p>If you are using NAT networking, you can find the IP address of the VM in the dhcpd.leases file:</p>
            <p>
            <div>
                <pre><code class="language-shell">cat /etc/vmware/vmnet8/dhcpd/dhcpd.leases</code></pre>
            </div>
            </p>
            <h3 id="bridged-networking">Bridged Networking</h3>
            <p>To find the IP address of a VM in a bridged network, you will need the MAC address of the VM. You can retrieve the MAC address from the VM's .vmx file:</p>
            <p>
            <div>
                <pre><code class="language-shell">cat path/to/example_vm.vmx</code></pre>
            </div>
            </p>
            <p>Once you have the MAC address (e.g., <code>01:1a:bb:32:12:99</code>), you can use it to find the IP address of the VM:</p>
            <p>
            <div>
                <pre><code class="language-shell">dhcpdump -i eth0 -h ^01:1a:bb:32:12:99</code></pre>
            </div>
            </p>
            <h2 id="kvm">KVM</h2>
            <p>KVM (Kernel-based Virtual Machine) is an open source virtualization software that allows you to create and run virtual machines (VMs) on your computer. To find the IP address of a VM in KVM, you will need to follow these steps:</p>
            <h3 id="nat-networking">NAT Networking</h3>
            <p>If you are using NAT networking, you can find the IP address of the VM by specifying the network name (the default is default):</p>
            <p>
            <div>
                <pre><code class="language-shell">virsh net-dhcp-leases default</code></pre>
            </div>
            </p>
            <h3 id="bridged-networking">Bridged Networking</h3>
            <p>To find the IP address of a VM in a bridged network, you will need the name of the bridge and the MAC address of the VM. If your bridge is called bridge1, you can find the IP address of the VM using the following command:</p>
            <p>
            <div>
                <pre><code class="language-shell">dhcpdump -i eth0 -h ^00:0c:29:bd:81:01</code></pre>
            </div>
            </p>
            <p>Replace 00:0c:29:bd:81:01 with the actual MAC address of the VM.</p>
            <h2 id="challenges">Challenges</h2>
            <ol>
                <li>What is virtualization?</li>
                <li>What are some types of virtualization?</li>
                <li>What are some advantages of virtualization?</li>
                <li>What is a virtual machine (VM)?</li>
                <li>What are some options for networking VMs?</li>
                <li>What is VirtualBox/VMware/KVM and what is it used for?</li>
                <li>How do you find the IP address of a VM in VirtualBox, VMware, and KVM?</li>
                <li>What is the difference between NAT networking and bridged networking for VMs?</li>
            </ol>
        </section>
        <div id="table-of-contents">
            <h2>Table of Contents</h2>
            <ol>
                <li><a href="#virtual-machines-notes">Virtual Machines Notes</a></li>
                <li><a href="#virtualization-technologies">Virtualization Technologies</a></li>
                <li><a href="#hypervisors">Hypervisors</a></li>
                <li><a href="#networking-in-virtual-environments">Networking in Virtual Environments</a></li>
                <li><a href="#nat-network-address-translation-">NAT (Network Address Translation)</a></li>
                <li><a href="#bridge">Bridge</a></li>
                <li><a href="#host-only">Host Only</a></li>
                <li><a href="#creating-virtual-machines">Creating Virtual Machines</a></li>
                <li><a href="#managing-virtual-machines">Managing Virtual Machines</a></li>
                <li><a href="#benefits-of-virtual-machines">Benefits of Virtual Machines</a></li>
                <li><a href="#virtualbox">VirtualBox</a></li>
                <li><a href="#vmware">VMware</a></li>
                <li><a href="#nat-networking">NAT Networking</a></li>
                <li><a href="#bridged-networking">Bridged Networking</a></li>
                <li><a href="#kvm">KVM</a></li>
                <li><a href="#nat-networking">NAT Networking</a></li>
                <li><a href="#bridged-networking">Bridged Networking</a></li>
                <li><a href="#challenges">Challenges</a></li>
            </ol>
        </div>
    </div>
    <footer>
        <div class="footer-columns">
            <div class="footer-column">
                <img alt="Adam Djellouli Symbol" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/symbol.png" />
            </div>
            <div class="footer-column">
                <h2><a href="https://adamdjellouli.com/core/privacy_policy.html" title="Privacy Policy">Our Privacy Policy</a></h2>
                <p>
                    Thank you for visiting my personal website. All of the <br />
                    content on this site is free to use, but please remember <br />
                    to be a good human being and refrain from any abuse<br />
                    of the site. If you would like to contact me, please use <br />
                    my <a href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" title="LinkedIn Profile">LinkedIn profile</a> or my <a href="https://github.com/djeada" title="GitHub Profile">GitHub</a> if you have any technical <br />
                    issues or ideas to share. I wish you the best and hope you <br />
                    have a fantastic life. <br />
                </p>
            </div>
            <div class="footer-column">
                <h2>Follow me</h2>
                <ul class="social-media">
                    <li>
                        <a class="fa fa-youtube" href="https://www.youtube.com/channel/UCGPoHTVjMN77wcGknXPHl1Q" target="_blank" title="YouTube">
                        </a>YouTube
                    </li>
                    <li>
                        <a class="fa fa-linkedin" href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" target="_blank" title="LinkedIn">
                        </a>LinkedIn
                    </li>
                    <li>
                        <a class="fa fa-instagram" href="https://www.instagram.com/addjellouli/" target="_blank" title="Instagram">
                        </a>Instagram
                    </li>
                    <li>
                        <a class="fa fa-github" href="https://github.com/djeada" title="GitHub">
                        </a>Github
                    </li>
                </ul>
            </div>
        </div>
        <div>
            <p id="copyright">
                Â© Adam Djellouli. All rights reserved.
            </p>
        </div>
        <script>
            document.getElementById("copyright").innerHTML = "&copy; " + new Date().getFullYear() + " Adam Djellouli. All rights reserved.";
        </script>
        <script src="../app.js"></script>
    </footer>
</body>

</html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-cpp.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
extensions: ["tex2jax.js"],
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
tex2jax: { inlineMath: [ ["$", "$"] ], displayMath: [ ["$$","$$"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
messageStyle: "none"
});
</script>
<script async="" id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>