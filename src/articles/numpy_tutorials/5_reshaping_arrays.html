<!DOCTYPE html>

<html lang="en">

<head>
    <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5593122079896089"></script>
    <meta charset="utf-8" />
    <title>Manipulating the Shape of Matrices and Arrays</title>
    <meta content="In the realm of data manipulation, one of the most common tasks is adjusting the shape or dimensionality of arrays or matrices." name="description" />
    <meta content="Adam Djellouli" name="author" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/icon.ico" rel="icon" />
    <link href="../../resources/style.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
</head>

<body>
    <nav aria-label="Main navigation">
        <a class="logo" href="https://adamdjellouli.com">
            <img alt="Adam Djellouli - Home Page Logo" id="logo-image" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/logo.PNG" />
        </a>
        <input aria-label="Toggle navigation menu" id="navbar-toggle" type="checkbox" />
        <ul aria-labelledby="navbar-toggle" role="menu">
            <li role="menuitem">
                <a href="../../index.html" title="Go to Home Page"> Home </a>
            </li>
            <li role="menuitem">
                <a class="active" href="../../core/blog.html" title="Read Adam Djellouli Blog on Programming and Technology"> Blog </a>
            </li>
            <li role="menuitem">
                <a href="../../core/tools.html" title="Discover Tools Created by Adam Djellouli"> Tools </a>
            </li>
            <li role="menuitem">
                <a href="../../core/projects.html" title="Explore Projects Developed by Adam Djellouli"> Projects </a>
            </li>
            <li role="menuitem">
                <a href="../../core/resume.html" title="View Adam Djellouli Professional Resume"> Resume </a>
            </li>
            <li>
                <script async="" src="https://cse.google.com/cse.js?cx=8160ef9bb935f4f68"></script>
                <div class="gcse-search"></div>
            </li>
            <li>
                <button aria-label="Toggle dark mode" id="dark-mode-button"></button>
            </li>
        </ul>
    </nav>
    <div id="article-wrapper">
        <section id="article-body">
            <p style="text-align: right;"><i>Last modified: June 16, 2024</i></p>
            <p style="text-align: right;"><i>This article is written in: ðŸ‡ºðŸ‡¸</i></p>
            <h2 id="manipulating-the-shape-of-matrices-and-arrays">Manipulating the Shape of Matrices and Arrays</h2>
            <p>In the realm of data manipulation, one of the most common tasks is adjusting the shape or dimensionality of arrays or matrices. Understanding how reshaping works is essential for effective data preprocessing, especially when working with multidimensional data. This guide will explore various techniques for reshaping arrays, converting between different dimensional structures, and the implications of these transformations.</p>
            <h3 id="the-basics-of-reshaping">The Basics of Reshaping</h3>
            <p>"Reshaping" essentially means modifying the structure of an array without changing its data. The underlying data remains consistent; only its view or how it's represented gets altered. When reshaping, the total number of elements in the array must remain unchanged. This is a crucial aspect to ensure that data integrity is maintained.</p>
            <p>NumPy offers the <code>reshape()</code> method for this purpose:</p>
            <p>
            <div>
                <pre><code class="language-python">import numpy as np
arr = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])

# Reshape to a 2x5 matrix
reshaped_arr = arr.reshape(2, 5)
print(reshaped_arr)</code></pre>
            </div>
            </p>
            <p>Expected output:</p>
            <p>
            <div>
                <pre><code class="language-shell">[[ 1  2  3  4  5]
 [ 6  7  8  9 10]]</code></pre>
            </div>
            </p>
            <p>In this example, we reshape a 1D array of 10 elements into a 2x5 matrix. We choose 2x5 because the product of the dimensions (2 * 5) equals the number of elements in the array. Attempting to reshape into an incompatible shape, such as 3x3, would raise an error because 3 * 3 does not equal 10. This is a fundamental rule of reshaping: the total number of elements must remain constant.</p>
            <h3 id="from-one-dimension-to-many">From One Dimension to Many</h3>
            <p>A common reshaping task is transforming 1D arrays into multi-dimensional structures. This is particularly useful when preparing data for machine learning models, visualizations, or matrix operations.</p>
            <p>
            <div>
                <pre><code class="language-python">arr = np.array([1, 2, 3, 4, 5, 6])

# Convert to 1x6 row vector
row_vector = arr.reshape(1, -1)
print("Row Vector:\n", row_vector)

# Convert to 6x1 column vector
column_vector = arr.reshape(-1, 1)
print("\nColumn Vector:\n", column_vector)</code></pre>
            </div>
            </p>
            <p>Expected output:</p>
            <p>
            <div>
                <pre><code class="language-shell">Row Vector:
 [[1 2 3 4 5 6]]

Column Vector:
 [[1]
 [2]
 [3]
 [4]
 [5]
 [6]]</code></pre>
            </div>
            </p>
            <p>Here, the -1 used in the <code>reshape()</code> method acts as a placeholder that means "whatever is needed," allowing NumPy to automatically compute the required dimension. This is useful when you only need to specify one dimension and want NumPy to handle the rest.</p>
            <h3 id="higher-dimensional-reshaping">Higher-Dimensional Reshaping</h3>
            <p>Reshaping can extend beyond simple 2D matrices to more complex structures like 3D arrays, which can be beneficial in image processing, volumetric data, or time-series analysis.</p>
            <p>
            <div>
                <pre><code class="language-python"># Create a 1D array with 12 elements
arr = np.arange(12)

# Reshape to a 2x3x2 3D array
reshaped_3d = arr.reshape(2, 3, 2)
print("3D Array:\n", reshaped_3d)</code></pre>
            </div>
            </p>
            <p>Expected output:</p>
            <p>
            <div>
                <pre><code class="language-shell">3D Array:
 [[[ 0  1]
   [ 2  3]
   [ 4  5]]

  [[ 6  7]
   [ 8  9]
   [10 11]]]</code></pre>
            </div>
            </p>
            <p>In this case, the array is reshaped into a 3D structure with dimensions 2x3x2. The total number of elements (2 * 3 * 2 = 12) matches the original array. This kind of reshaping is often used in applications like image processing, where images are represented as 3D arrays (height x width x color channels).</p>
            <h3 id="flattening-arrays">Flattening Arrays</h3>
            <p>To convert a multi-dimensional array back to a 1D array, you can use either the <code>flatten()</code> method or the <code>reshape()</code> function:</p>
            <p>
            <div>
                <pre><code class="language-python">arr = np.array([[1, 2, 3], [4, 5, 6]])

# Using flatten
flat_arr = arr.flatten()
print("Using flatten:\n", flat_arr)

# Using reshape
one_d_arr = arr.reshape(-1)
print("\nUsing reshape:\n", one_d_arr)</code></pre>
            </div>
            </p>
            <p>Expected output:</p>
            <p>
            <div>
                <pre><code class="language-shell">Using flatten:
 [1 2 3 4 5 6]

Using reshape:
 [1 2 3 4 5 6]</code></pre>
            </div>
            </p>
            <p>While both methods achieve the same outcome, <code>flatten()</code> returns a copy of the original data, meaning changes to the flattened array won't alter the initial array. In contrast, using <code>reshape(-1)</code> often provides a view of the same memory, so changes might propagate back to the original array (unless the original array is non-contiguous).</p>
            <h3 id="practical-applications-and-considerations">Practical Applications and Considerations</h3>
            <p>Reshaping is a powerful tool in data science and machine learning. Here are some practical applications and considerations:</p>
            <ol>
                <li><strong>Data Preparation</strong>: Reshape data to fit the input requirements of machine learning models, such as converting 2D image data into a single vector.</li>
                <li><strong>Batch Processing</strong>: Organize data into batches for efficient processing and training.</li>
                <li><strong>Data Augmentation</strong>: Transform images and other data formats for augmentation techniques.</li>
                <li><strong>Memory Management</strong>: Be mindful of how reshaping impacts memory usage, especially when dealing with large datasets. Using views (like <code>reshape</code>) can be more memory-efficient compared to creating copies (like <code>flatten</code>).</li>
            </ol>
            <h3 id="reshape-examples-and-edge-cases">Reshape Examples and Edge Cases</h3>
            <h4 id="example-invalid-reshaping">Example: Invalid Reshaping</h4>
            <p>Attempting to reshape an array into an incompatible shape will raise an error:</p>
            <p>
            <div>
                <pre><code class="language-python">arr = np.array([1, 2, 3, 4, 5, 6])

try:
    invalid_reshape = arr.reshape(3, 3)
except ValueError as e:
    print("Error:", e)</code></pre>
            </div>
            </p>
            <p>Expected output:</p>
            <p>
            <div>
                <pre><code class="language-shell">Error: cannot reshape array of size 6 into shape (3,3)</code></pre>
            </div>
            </p>
            <p>This example illustrates that the number of elements must match the product of the new dimensions.</p>
            <h4 id="example-reshaping-for-machine-learning">Example: Reshaping for Machine Learning</h4>
            <p>In machine learning, it's common to reshape data for model input. For instance, transforming a list of images (each 28x28 pixels) into a format suitable for training:</p>
            <p>
            <div>
                <pre><code class="language-python"># Example: Reshape a batch of images (28x28) to (batch_size, 28, 28, 1)
batch_size = 100
images = np.random.rand(batch_size, 28, 28)

# Reshape to include the channel dimension
images_reshaped = images.reshape(batch_size, 28, 28, 1)
print("Reshaped Images Shape:", images_reshaped.shape)</code></pre>
            </div>
            </p>
            <p>Expected output:</p>
            <p>
            <div>
                <pre><code class="language-shell">Reshaped Images Shape: (100, 28, 28, 1)</code></pre>
            </div>
            </p>
            <h3 id="summary-table-for-manipulating-dimensions">Summary Table for Manipulating Dimensions</h3>
            <p>This table summarizes various operations for manipulating the dimensions of arrays in NumPy, along with examples and descriptions of each operation.</p>
            <p>
            <table>
                <tr>
                    <td>Operation</td>
                    <td>Method/Function</td>
                    <td>Description</td>
                    <td>Example Code</td>
                    <td>Example Output</td>
                </tr>
                <tr>
                    <td><strong>Reshape</strong></td>
                    <td><code>reshape(new_shape)</code></td>
                    <td>Changes the shape of an array without altering its data. Total elements must remain the same.</td>
                    <td><code>arr = np.array([1, 2, 3, 4, 5, 6])</code> <br /> <code>reshaped = arr.reshape(2, 3)</code></td>
                    <td><code>[[1 2 3]</code> <br /> <code>[4 5 6]]</code></td>
                </tr>
                <tr>
                    <td><strong>Row Vector</strong></td>
                    <td><code>reshape(1, -1)</code></td>
                    <td>Converts a 1D array to a 1xN row vector.</td>
                    <td><code>row_vector = arr.reshape(1, -1)</code></td>
                    <td><code>[[1 2 3 4 5 6]]</code></td>
                </tr>
                <tr>
                    <td><strong>Column Vector</strong></td>
                    <td><code>reshape(-1, 1)</code></td>
                    <td>Converts a 1D array to an Nx1 column vector.</td>
                    <td><code>column_vector = arr.reshape(-1, 1)</code></td>
                    <td><code>[[1]</code> <br /> <code>[2]</code> <br /> <code>[3]</code> <br /> <code>[4]</code> <br /> <code>[5]</code> <br /> <code>[6]]</code></td>
                </tr>
                <tr>
                    <td><strong>Flatten</strong></td>
                    <td><code>flatten()</code></td>
                    <td>Flattens a multi-dimensional array into a 1D array, returns a copy.</td>
                    <td><code>flat_arr = np.array([[1, 2, 3], [4, 5, 6]]).flatten()</code></td>
                    <td><code>[1 2 3 4 5 6]</code></td>
                </tr>
                <tr>
                    <td><strong>Flatten with Reshape</strong></td>
                    <td><code>reshape(-1)</code></td>
                    <td>Flattens a multi-dimensional array into a 1D array, returns a view.</td>
                    <td><code>one_d_arr = np.array([[1, 2, 3], [4, 5, 6]]).reshape(-1)</code></td>
                    <td><code>[1 2 3 4 5 6]</code></td>
                </tr>
                <tr>
                    <td><strong>3D Reshape</strong></td>
                    <td><code>reshape(new_shape)</code></td>
                    <td>Converts a 1D array into a 3D array.</td>
                    <td><code>reshaped_3d = np.arange(12).reshape(2, 3, 2)</code></td>
                    <td><code>[[[ 0 1]</code> <br /> <code>[ 2 3]</code> <br /> <code>[ 4 5]]</code> <br /> <code>[[ 6 7]</code> <br /> <code>[ 8 9]</code> <br /> <code>[10 11]]]</code></td>
                </tr>
                <tr>
                    <td><strong>Transpose</strong></td>
                    <td><code>transpose()</code></td>
                    <td>Permutes the dimensions of an array.</td>
                    <td><code>transposed = np.array([[1, 2, 3], [4, 5, 6]]).transpose()</code></td>
                    <td><code>[[1 4]</code> <br /> <code>[2 5]</code> <br /> <code>[3 6]]</code></td>
                </tr>
                <tr>
                    <td><strong>Resize</strong></td>
                    <td><code>resize(new_shape)</code></td>
                    <td>Changes the shape and size of an array, modifying the array in-place.</td>
                    <td><code>arr = np.array([1, 2, 3, 4, 5, 6])</code> <br /> <code>arr.resize(2, 3)</code></td>
                    <td><code>[[1 2 3]</code> <br /> <code>[4 5 6]]</code></td>
                </tr>
                <tr>
                    <td><strong>Expand Dimensions</strong></td>
                    <td><code>expand_dims(a, axis)</code></td>
                    <td>Expands the shape of an array by inserting a new axis.</td>
                    <td><code>expanded = np.expand_dims(np.array([1, 2, 3]), axis=0)</code></td>
                    <td><code>[[1 2 3]]</code></td>
                </tr>
                <tr>
                    <td><strong>Squeeze Dimensions</strong></td>
                    <td><code>squeeze()</code></td>
                    <td>Removes single-dimensional entries from the shape of an array.</td>
                    <td><code>squeezed = np.array([[[1], [2], [3]]]).squeeze()</code></td>
                    <td><code>[1 2 3]</code></td>
                </tr>
            </table>
            </p>
        </section>
        <div id="table-of-contents">
            <h2>Table of Contents</h2>
            <ol><a href="#manipulating-the-shape-of-matrices-and-arrays">Manipulating the Shape of Matrices and Arrays</a>
                <ol>
                    <li><a href="#the-basics-of-reshaping">The Basics of Reshaping</a></li>
                    <li><a href="#from-one-dimension-to-many">From One Dimension to Many</a></li>
                    <li><a href="#higher-dimensional-reshaping">Higher-Dimensional Reshaping</a></li>
                    <li><a href="#flattening-arrays">Flattening Arrays</a></li>
                    <li><a href="#practical-applications-and-considerations">Practical Applications and Considerations</a></li>
                    <li><a href="#reshape-examples-and-edge-cases">Reshape Examples and Edge Cases</a>
                        <ol>
                            <li><a href="#example-invalid-reshaping">Example: Invalid Reshaping</a></li>
                            <li><a href="#example-reshaping-for-machine-learning">Example: Reshaping for Machine Learning</a></li>
                        </ol>
                    </li>
                    <li><a href="#summary-table-for-manipulating-dimensions">Summary Table for Manipulating Dimensions</a></li>
                </ol>
            </ol>
            <div id="related-articles">
                <h2>Related Articles</h2>
                <ol>
                    <li><a href="https://adamdjellouli.com/articles/numpy_tutorials/1_creating_arrays.html">Creating Arrays</a></li>
                    <li><a href="https://adamdjellouli.com/articles/numpy_tutorials/2_accessing_modifying_elements.html">Accessing Modifying Elements</a></li>
                    <li><a href="https://adamdjellouli.com/articles/numpy_tutorials/3_vector_operations.html">Vector Operations</a></li>
                    <li><a href="https://adamdjellouli.com/articles/numpy_tutorials/4_matrix_operations.html">Matrix Operations</a></li>
                    <li><a href="https://adamdjellouli.com/articles/numpy_tutorials/5_reshaping_arrays.html">Reshaping Arrays</a></li>
                    <li><a href="https://adamdjellouli.com/articles/numpy_tutorials/6_searching_filtering_and_sorting.html">Searching Filtering and Sorting</a></li>
                    <li><a href="https://adamdjellouli.com/articles/numpy_tutorials/7_combining_arrays.html">Combining Arrays</a></li>
                    <li><a href="https://adamdjellouli.com/articles/numpy_tutorials/8_linear_equations.html">Linear Equations</a></li>
                    <li><a href="https://adamdjellouli.com/articles/numpy_tutorials/9_statistics_and_random_numbers.html">Statistics and Random Numbers</a></li>
                </ol>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer-columns">
            <div class="footer-column">
                <img alt="Adam Djellouli Symbol" src="https://raw.githubusercontent.com/djeada/Personal-Website/master/images/symbol.png" />
            </div>
            <div class="footer-column">
                <h2><a href="https://adamdjellouli.com/core/privacy_policy.html" title="Privacy Policy">Our Privacy Policy</a></h2>
                <p>
                    Thank you for visiting my personal website. All of the <br />
                    content on this site is free to use, but please remember <br />
                    to be a good human being and refrain from any abuse<br />
                    of the site. If you would like to contact me, please use <br />
                    my <a href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" title="LinkedIn Profile">LinkedIn profile</a> or my <a href="https://github.com/djeada" title="GitHub Profile">GitHub</a> if you have any technical <br />
                    issues or ideas to share. I wish you the best and hope you <br />
                    have a fantastic life. <br />
                </p>
            </div>
            <div class="footer-column">
                <h2>Follow me</h2>
                <ul class="social-media">
                    <li>
                        <a class="fa fa-youtube" href="https://www.youtube.com/channel/UCGPoHTVjMN77wcGknXPHl1Q" target="_blank" title="YouTube">
                        </a>YouTube
                    </li>
                    <li>
                        <a class="fa fa-linkedin" href="https://www.linkedin.com/in/adam-djellouli-1bb54619a/" target="_blank" title="LinkedIn">
                        </a>LinkedIn
                    </li>
                    <li>
                        <a class="fa fa-instagram" href="https://www.instagram.com/linuxchallenges/" target="_blank" title="Instagram">
                        </a>Instagram
                    </li>
                    <li>
                        <a class="fa fa-github" href="https://github.com/djeada" title="GitHub">
                        </a>Github
                    </li>
                </ul>
            </div>
        </div>
        <div>
            <p id="copyright">
                Â© Adam Djellouli. All rights reserved.
            </p>
        </div>
        <script>
            document.getElementById("copyright").innerHTML = "&copy; " + new Date().getFullYear() + " Adam Djellouli. All rights reserved.";
        </script>
        <script src="../../app.js"></script>
    </footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-cpp.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
jax: ["input/TeX", "output/HTML-CSS"],
extensions: ["tex2jax.js"],
"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
tex2jax: { inlineMath: [ ["$", "$"] ], displayMath: [ ["$$","$$"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
messageStyle: "none"
});
</script>
<script async="" id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

</html>